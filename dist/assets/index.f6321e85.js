var rI=Object.defineProperty,iI=Object.defineProperties;var sI=Object.getOwnPropertyDescriptors;var dg=Object.getOwnPropertySymbols;var oI=Object.prototype.hasOwnProperty,aI=Object.prototype.propertyIsEnumerable;var fg=(t,e,n)=>e in t?rI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H=(t,e)=>{for(var n in e||(e={}))oI.call(e,n)&&fg(t,n,e[n]);if(dg)for(var n of dg(e))aI.call(e,n)&&fg(t,n,e[n]);return t},Z=(t,e)=>iI(t,sI(e));const lI=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};lI();var Bs=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function uI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Af={exports:{}},$t={},b={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta=Symbol.for("react.element"),cI=Symbol.for("react.portal"),hI=Symbol.for("react.fragment"),dI=Symbol.for("react.strict_mode"),fI=Symbol.for("react.profiler"),pI=Symbol.for("react.provider"),mI=Symbol.for("react.context"),gI=Symbol.for("react.forward_ref"),yI=Symbol.for("react.suspense"),vI=Symbol.for("react.memo"),wI=Symbol.for("react.lazy"),pg=Symbol.iterator;function EI(t){return t===null||typeof t!="object"?null:(t=pg&&t[pg]||t["@@iterator"],typeof t=="function"?t:null)}var f0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p0=Object.assign,m0={};function Is(t,e,n){this.props=t,this.context=e,this.refs=m0,this.updater=n||f0}Is.prototype.isReactComponent={};Is.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Is.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function g0(){}g0.prototype=Is.prototype;function Nf(t,e,n){this.props=t,this.context=e,this.refs=m0,this.updater=n||f0}var Rf=Nf.prototype=new g0;Rf.constructor=Nf;p0(Rf,Is.prototype);Rf.isPureReactComponent=!0;var mg=Array.isArray,y0=Object.prototype.hasOwnProperty,xf={current:null},v0={key:!0,ref:!0,__self:!0,__source:!0};function w0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)y0.call(e,r)&&!v0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ta,type:t,key:s,ref:o,props:i,_owner:xf.current}}function SI(t,e){return{$$typeof:ta,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Of(t){return typeof t=="object"&&t!==null&&t.$$typeof===ta}function _I(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gg=/\/+/g;function nh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_I(""+t.key):e.toString(36)}function il(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ta:case cI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+nh(o,0):r,mg(i)?(n="",t!=null&&(n=t.replace(gg,"$&/")+"/"),il(i,e,n,"",function(u){return u})):i!=null&&(Of(i)&&(i=SI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",mg(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+nh(s,a);o+=il(s,e,n,l,i)}else if(l=EI(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+nh(s,a++),o+=il(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pa(t,e,n){if(t==null)return t;var r=[],i=0;return il(t,r,"","",function(s){return e.call(n,s,i++)}),r}function TI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},sl={transition:null},II={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:sl,ReactCurrentOwner:xf};te.Children={map:Pa,forEach:function(t,e,n){Pa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pa(t,function(){e++}),e},toArray:function(t){return Pa(t,function(e){return e})||[]},only:function(t){if(!Of(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Is;te.Fragment=hI;te.Profiler=fI;te.PureComponent=Nf;te.StrictMode=dI;te.Suspense=yI;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=II;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=p0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)y0.call(e,l)&&!v0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ta,type:t.type,key:i,ref:s,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:mI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pI,_context:t},t.Consumer=t};te.createElement=w0;te.createFactory=function(t){var e=w0.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:gI,render:t}};te.isValidElement=Of;te.lazy=function(t){return{$$typeof:wI,_payload:{_status:-1,_result:t},_init:TI}};te.memo=function(t,e){return{$$typeof:vI,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=sl.transition;sl.transition={};try{t()}finally{sl.transition=e}};te.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};te.useCallback=function(t,e){return vt.current.useCallback(t,e)};te.useContext=function(t){return vt.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};te.useEffect=function(t,e){return vt.current.useEffect(t,e)};te.useId=function(){return vt.current.useId()};te.useImperativeHandle=function(t,e,n){return vt.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return vt.current.useMemo(t,e)};te.useReducer=function(t,e,n){return vt.current.useReducer(t,e,n)};te.useRef=function(t){return vt.current.useRef(t)};te.useState=function(t){return vt.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return vt.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return vt.current.useTransition()};te.version="18.1.0";b.exports=te;var CI=b.exports,E0={exports:{}},S0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,K){var X=M.length;M.push(K);e:for(;0<X;){var E=X-1>>>1,C=M[E];if(0<i(C,K))M[E]=K,M[X]=C,X=E;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var K=M[0],X=M.pop();if(X!==K){M[0]=X;e:for(var E=0,C=M.length,T=C>>>1;E<T;){var D=2*(E+1)-1,z=M[D],G=D+1,J=M[G];if(0>i(z,X))G<C&&0>i(J,z)?(M[E]=J,M[G]=X,E=G):(M[E]=z,M[D]=X,E=D);else if(G<C&&0>i(J,X))M[E]=J,M[G]=X,E=G;else break e}}return K}function i(M,K){var X=M.sortIndex-K.sortIndex;return X!==0?X:M.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,y=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=M)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function S(M){if(w=!1,v(M),!y)if(n(l)!==null)y=!0,Ri(k);else{var K=n(u);K!==null&&Jn(S,K.startTime-M)}}function k(M,K){y=!1,w&&(w=!1,g(O),O=-1),p=!0;var X=d;try{for(v(K),h=n(l);h!==null&&(!(h.expirationTime>K)||M&&!ce());){var E=h.callback;if(typeof E=="function"){h.callback=null,d=h.priorityLevel;var C=E(h.expirationTime<=K);K=t.unstable_now(),typeof C=="function"?h.callback=C:h===n(l)&&r(l),v(K)}else r(l);h=n(l)}if(h!==null)var T=!0;else{var D=n(u);D!==null&&Jn(S,D.startTime-K),T=!1}return T}finally{h=null,d=X,p=!1}}var _=!1,A=null,O=-1,F=5,j=-1;function ce(){return!(t.unstable_now()-j<F)}function ze(){if(A!==null){var M=t.unstable_now();j=M;var K=!0;try{K=A(!0,M)}finally{K?en():(_=!1,A=null)}}else _=!1}var en;if(typeof m=="function")en=function(){m(ze)};else if(typeof MessageChannel!="undefined"){var gn=new MessageChannel,xn=gn.port2;gn.port1.onmessage=ze,en=function(){xn.postMessage(null)}}else en=function(){I(ze,0)};function Ri(M){A=M,_||(_=!0,en())}function Jn(M,K){O=I(function(){M(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,Ri(k))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var K=3;break;default:K=d}var X=d;d=K;try{return M()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var X=d;d=M;try{return K()}finally{d=X}},t.unstable_scheduleCallback=function(M,K,X){var E=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?E+X:E):X=E,M){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=X+C,M={id:c++,callback:K,priorityLevel:M,startTime:X,expirationTime:C,sortIndex:-1},X>E?(M.sortIndex=X,e(u,M),n(l)===null&&M===n(u)&&(w?(g(O),O=-1):w=!0,Jn(S,X-E))):(M.sortIndex=C,e(l,M),y||p||(y=!0,Ri(k))),M},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(M){var K=d;return function(){var X=d;d=K;try{return M.apply(this,arguments)}finally{d=X}}}})(S0);E0.exports=S0;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0=b.exports,bt=E0.exports;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T0=new Set,To={};function Si(t,e){ss(t,e),ss(t+"Capture",e)}function ss(t,e){for(To[t]=e,t=0;t<e.length;t++)T0.add(e[t])}var Wn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Jh=Object.prototype.hasOwnProperty,kI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yg={},vg={};function AI(t){return Jh.call(vg,t)?!0:Jh.call(yg,t)?!1:kI.test(t)?vg[t]=!0:(yg[t]=!0,!1)}function NI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RI(t,e,n,r){if(e===null||typeof e=="undefined"||NI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xe[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xe[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xe[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xe[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xe[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xe[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xe[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xe[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xe[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Df=/[\-:]([a-z])/g;function Pf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Df,Pf);Xe[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Df,Pf);Xe[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Df,Pf);Xe[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xe[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xe[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function bf(t,e,n,r){var i=Xe.hasOwnProperty(e)?Xe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RI(e,n,i,r)&&(n=null),r||i===null?AI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xn=_0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ba=Symbol.for("react.element"),Pi=Symbol.for("react.portal"),bi=Symbol.for("react.fragment"),Lf=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),I0=Symbol.for("react.provider"),C0=Symbol.for("react.context"),Mf=Symbol.for("react.forward_ref"),ed=Symbol.for("react.suspense"),td=Symbol.for("react.suspense_list"),$f=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),k0=Symbol.for("react.offscreen"),wg=Symbol.iterator;function zs(t){return t===null||typeof t!="object"?null:(t=wg&&t[wg]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,rh;function Zs(t){if(rh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rh=e&&e[1]||""}return`
`+rh+t}var ih=!1;function sh(t,e){if(!t||ih)return"";ih=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ih=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zs(t):""}function xI(t){switch(t.tag){case 5:return Zs(t.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return t=sh(t.type,!1),t;case 11:return t=sh(t.type.render,!1),t;case 1:return t=sh(t.type,!0),t;default:return""}}function nd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bi:return"Fragment";case Pi:return"Portal";case Zh:return"Profiler";case Lf:return"StrictMode";case ed:return"Suspense";case td:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C0:return(t.displayName||"Context")+".Consumer";case I0:return(t._context.displayName||"Context")+".Provider";case Mf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $f:return e=t.displayName||null,e!==null?e:nd(t.type)||"Memo";case tr:e=t._payload,t=t._init;try{return nd(t(e))}catch{}}return null}function OI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nd(e);case 8:return e===Lf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DI(t){var e=A0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function La(t){t._valueTracker||(t._valueTracker=DI(t))}function N0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=A0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ol(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function rd(t,e){var n=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Eg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Sr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function R0(t,e){e=e.checked,e!=null&&bf(t,"checked",e,!1)}function id(t,e){R0(t,e);var n=Sr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sd(t,e.type,n):e.hasOwnProperty("defaultValue")&&sd(t,e.type,Sr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sd(t,e,n){(e!=="number"||Ol(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var eo=Array.isArray;function Ki(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Sr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function od(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _g(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(eo(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Sr(n)}}function x0(t,e){var n=Sr(e.value),r=Sr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Tg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function O0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ad(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?O0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ma,D0=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ma=Ma||document.createElement("div"),Ma.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ma.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Io(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PI=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(t){PI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ao[e]=ao[t]})});function P0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ao.hasOwnProperty(t)&&ao[t]?(""+e).trim():e+"px"}function b0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=P0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bI=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ld(t,e){if(e){if(bI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function ud(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cd=null;function Uf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hd=null,Gi=null,Yi=null;function Ig(t){if(t=ia(t)){if(typeof hd!="function")throw Error(x(280));var e=t.stateNode;e&&(e=Ou(e),hd(t.stateNode,t.type,e))}}function L0(t){Gi?Yi?Yi.push(t):Yi=[t]:Gi=t}function M0(){if(Gi){var t=Gi,e=Yi;if(Yi=Gi=null,Ig(t),e)for(t=0;t<e.length;t++)Ig(e[t])}}function $0(t,e){return t(e)}function U0(){}var oh=!1;function F0(t,e,n){if(oh)return t(e,n);oh=!0;try{return $0(t,e,n)}finally{oh=!1,(Gi!==null||Yi!==null)&&(U0(),M0())}}function Co(t,e){var n=t.stateNode;if(n===null)return null;var r=Ou(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var dd=!1;if(Wn)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){dd=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{dd=!1}function LI(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var lo=!1,Dl=null,Pl=!1,fd=null,MI={onError:function(t){lo=!0,Dl=t}};function $I(t,e,n,r,i,s,o,a,l){lo=!1,Dl=null,LI.apply(MI,arguments)}function UI(t,e,n,r,i,s,o,a,l){if($I.apply(this,arguments),lo){if(lo){var u=Dl;lo=!1,Dl=null}else throw Error(x(198));Pl||(Pl=!0,fd=u)}}function _i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function j0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cg(t){if(_i(t)!==t)throw Error(x(188))}function FI(t){var e=t.alternate;if(!e){if(e=_i(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Cg(i),t;if(s===r)return Cg(i),e;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function V0(t){return t=FI(t),t!==null?B0(t):null}function B0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=B0(t);if(e!==null)return e;t=t.sibling}return null}var z0=bt.unstable_scheduleCallback,kg=bt.unstable_cancelCallback,jI=bt.unstable_shouldYield,VI=bt.unstable_requestPaint,ke=bt.unstable_now,BI=bt.unstable_getCurrentPriorityLevel,Ff=bt.unstable_ImmediatePriority,H0=bt.unstable_UserBlockingPriority,bl=bt.unstable_NormalPriority,zI=bt.unstable_LowPriority,q0=bt.unstable_IdlePriority,Au=null,_n=null;function HI(t){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Au,t,void 0,(t.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:KI,qI=Math.log,WI=Math.LN2;function KI(t){return t>>>=0,t===0?32:31-(qI(t)/WI|0)|0}var $a=64,Ua=4194304;function to(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ll(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=to(a):(s&=o,s!==0&&(r=to(s)))}else o=n&~i,o!==0?r=to(o):s!==0&&(r=to(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cn(e),i=1<<n,r|=t[n],e&=~i;return r}function GI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cn(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=GI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function pd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function W0(){var t=$a;return $a<<=1,($a&4194240)===0&&($a=64),t}function ah(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function na(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cn(e),t[e]=n}function QI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function K0(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var G0,Vf,Y0,Q0,X0,md=!1,Fa=[],hr=null,dr=null,fr=null,ko=new Map,Ao=new Map,rr=[],XI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ag(t,e){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":ko.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(e.pointerId)}}function qs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ia(e),e!==null&&Vf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JI(t,e,n,r,i){switch(e){case"focusin":return hr=qs(hr,t,e,n,r,i),!0;case"dragenter":return dr=qs(dr,t,e,n,r,i),!0;case"mouseover":return fr=qs(fr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ko.set(s,qs(ko.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ao.set(s,qs(Ao.get(s)||null,t,e,n,r,i)),!0}return!1}function J0(t){var e=Kr(t.target);if(e!==null){var n=_i(e);if(n!==null){if(e=n.tag,e===13){if(e=j0(n),e!==null){t.blockedOn=e,X0(t.priority,function(){Y0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ol(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cd=r,n.target.dispatchEvent(r),cd=null}else return e=ia(n),e!==null&&Vf(e),t.blockedOn=n,!1;e.shift()}return!0}function Ng(t,e,n){ol(t)&&n.delete(e)}function ZI(){md=!1,hr!==null&&ol(hr)&&(hr=null),dr!==null&&ol(dr)&&(dr=null),fr!==null&&ol(fr)&&(fr=null),ko.forEach(Ng),Ao.forEach(Ng)}function Ws(t,e){t.blockedOn===e&&(t.blockedOn=null,md||(md=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,ZI)))}function No(t){function e(i){return Ws(i,t)}if(0<Fa.length){Ws(Fa[0],t);for(var n=1;n<Fa.length;n++){var r=Fa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hr!==null&&Ws(hr,t),dr!==null&&Ws(dr,t),fr!==null&&Ws(fr,t),ko.forEach(e),Ao.forEach(e),n=0;n<rr.length;n++)r=rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rr.length&&(n=rr[0],n.blockedOn===null);)J0(n),n.blockedOn===null&&rr.shift()}var Qi=Xn.ReactCurrentBatchConfig,Ml=!0;function eC(t,e,n,r){var i=ae,s=Qi.transition;Qi.transition=null;try{ae=1,Bf(t,e,n,r)}finally{ae=i,Qi.transition=s}}function tC(t,e,n,r){var i=ae,s=Qi.transition;Qi.transition=null;try{ae=4,Bf(t,e,n,r)}finally{ae=i,Qi.transition=s}}function Bf(t,e,n,r){if(Ml){var i=gd(t,e,n,r);if(i===null)yh(t,e,r,$l,n),Ag(t,r);else if(JI(i,t,e,n,r))r.stopPropagation();else if(Ag(t,r),e&4&&-1<XI.indexOf(t)){for(;i!==null;){var s=ia(i);if(s!==null&&G0(s),s=gd(t,e,n,r),s===null&&yh(t,e,r,$l,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yh(t,e,r,null,n)}}var $l=null;function gd(t,e,n,r){if($l=null,t=Uf(r),t=Kr(t),t!==null)if(e=_i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=j0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $l=t,null}function Z0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BI()){case Ff:return 1;case H0:return 4;case bl:case zI:return 16;case q0:return 536870912;default:return 16}default:return 16}}var lr=null,zf=null,al=null;function ew(){if(al)return al;var t,e=zf,n=e.length,r,i="value"in lr?lr.value:lr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return al=i.slice(t,1<r?1-r:void 0)}function ll(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ja(){return!0}function Rg(){return!1}function Ut(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ja:Rg,this.isPropagationStopped=Rg,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),e}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hf=Ut(Cs),ra=Te({},Cs,{view:0,detail:0}),nC=Ut(ra),lh,uh,Ks,Nu=Te({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ks&&(Ks&&t.type==="mousemove"?(lh=t.screenX-Ks.screenX,uh=t.screenY-Ks.screenY):uh=lh=0,Ks=t),lh)},movementY:function(t){return"movementY"in t?t.movementY:uh}}),xg=Ut(Nu),rC=Te({},Nu,{dataTransfer:0}),iC=Ut(rC),sC=Te({},ra,{relatedTarget:0}),ch=Ut(sC),oC=Te({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),aC=Ut(oC),lC=Te({},Cs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uC=Ut(lC),cC=Te({},Cs,{data:0}),Og=Ut(cC),hC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fC[t])?!!e[t]:!1}function qf(){return pC}var mC=Te({},ra,{key:function(t){if(t.key){var e=hC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qf,charCode:function(t){return t.type==="keypress"?ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gC=Ut(mC),yC=Te({},Nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dg=Ut(yC),vC=Te({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qf}),wC=Ut(vC),EC=Te({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),SC=Ut(EC),_C=Te({},Nu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TC=Ut(_C),IC=[9,13,27,32],Wf=Wn&&"CompositionEvent"in window,uo=null;Wn&&"documentMode"in document&&(uo=document.documentMode);var CC=Wn&&"TextEvent"in window&&!uo,tw=Wn&&(!Wf||uo&&8<uo&&11>=uo),Pg=String.fromCharCode(32),bg=!1;function nw(t,e){switch(t){case"keyup":return IC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Li=!1;function kC(t,e){switch(t){case"compositionend":return rw(e);case"keypress":return e.which!==32?null:(bg=!0,Pg);case"textInput":return t=e.data,t===Pg&&bg?null:t;default:return null}}function AC(t,e){if(Li)return t==="compositionend"||!Wf&&nw(t,e)?(t=ew(),al=zf=lr=null,Li=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tw&&e.locale!=="ko"?null:e.data;default:return null}}var NC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NC[t.type]:e==="textarea"}function iw(t,e,n,r){L0(r),e=Ul(e,"onChange"),0<e.length&&(n=new Hf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var co=null,Ro=null;function RC(t){mw(t,0)}function Ru(t){var e=Ui(t);if(N0(e))return t}function xC(t,e){if(t==="change")return e}var sw=!1;if(Wn){var hh;if(Wn){var dh="oninput"in document;if(!dh){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),dh=typeof Mg.oninput=="function"}hh=dh}else hh=!1;sw=hh&&(!document.documentMode||9<document.documentMode)}function $g(){co&&(co.detachEvent("onpropertychange",ow),Ro=co=null)}function ow(t){if(t.propertyName==="value"&&Ru(Ro)){var e=[];iw(e,Ro,t,Uf(t)),F0(RC,e)}}function OC(t,e,n){t==="focusin"?($g(),co=e,Ro=n,co.attachEvent("onpropertychange",ow)):t==="focusout"&&$g()}function DC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Ro)}function PC(t,e){if(t==="click")return Ru(e)}function bC(t,e){if(t==="input"||t==="change")return Ru(e)}function LC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:LC;function xo(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jh.call(e,i)||!dn(t[i],e[i]))return!1}return!0}function Ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fg(t,e){var n=Ug(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ug(n)}}function aw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lw(){for(var t=window,e=Ol();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ol(t.document)}return e}function Kf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MC(t){var e=lw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aw(n.ownerDocument.documentElement,n)){if(r!==null&&Kf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Fg(n,s);var o=Fg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $C=Wn&&"documentMode"in document&&11>=document.documentMode,Mi=null,yd=null,ho=null,vd=!1;function jg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vd||Mi==null||Mi!==Ol(r)||(r=Mi,"selectionStart"in r&&Kf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ho&&xo(ho,r)||(ho=r,r=Ul(yd,"onSelect"),0<r.length&&(e=new Hf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mi)))}function Va(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $i={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},fh={},uw={};Wn&&(uw=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function xu(t){if(fh[t])return fh[t];if(!$i[t])return t;var e=$i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uw)return fh[t]=e[n];return t}var cw=xu("animationend"),hw=xu("animationiteration"),dw=xu("animationstart"),fw=xu("transitionend"),pw=new Map,Vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,e){pw.set(t,e),Si(e,[t])}for(var ph=0;ph<Vg.length;ph++){var mh=Vg[ph],UC=mh.toLowerCase(),FC=mh[0].toUpperCase()+mh.slice(1);Dr(UC,"on"+FC)}Dr(cw,"onAnimationEnd");Dr(hw,"onAnimationIteration");Dr(dw,"onAnimationStart");Dr("dblclick","onDoubleClick");Dr("focusin","onFocus");Dr("focusout","onBlur");Dr(fw,"onTransitionEnd");ss("onMouseEnter",["mouseout","mouseover"]);ss("onMouseLeave",["mouseout","mouseover"]);ss("onPointerEnter",["pointerout","pointerover"]);ss("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jC=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function Bg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UI(r,e,void 0,t),t.currentTarget=null}function mw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Bg(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Bg(i,a,u),s=l}}}if(Pl)throw t=fd,Pl=!1,fd=null,t}function ge(t,e){var n=e[Td];n===void 0&&(n=e[Td]=new Set);var r=t+"__bubble";n.has(r)||(gw(e,t,2,!1),n.add(r))}function gh(t,e,n){var r=0;e&&(r|=4),gw(n,t,r,e)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Oo(t){if(!t[Ba]){t[Ba]=!0,T0.forEach(function(n){n!=="selectionchange"&&(jC.has(n)||gh(n,!1,t),gh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ba]||(e[Ba]=!0,gh("selectionchange",!1,e))}}function gw(t,e,n,r){switch(Z0(e)){case 1:var i=eC;break;case 4:i=tC;break;default:i=Bf}n=i.bind(null,e,n,t),i=void 0,!dd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yh(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Kr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}F0(function(){var u=s,c=Uf(n),h=[];e:{var d=pw.get(t);if(d!==void 0){var p=Hf,y=t;switch(t){case"keypress":if(ll(n)===0)break e;case"keydown":case"keyup":p=gC;break;case"focusin":y="focus",p=ch;break;case"focusout":y="blur",p=ch;break;case"beforeblur":case"afterblur":p=ch;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=iC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=wC;break;case cw:case hw:case dw:p=aC;break;case fw:p=SC;break;case"scroll":p=nC;break;case"wheel":p=TC;break;case"copy":case"cut":case"paste":p=uC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dg}var w=(e&4)!==0,I=!w&&t==="scroll",g=w?d!==null?d+"Capture":null:d;w=[];for(var m=u,v;m!==null;){v=m;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,g!==null&&(S=Co(m,g),S!=null&&w.push(Do(m,S,v)))),I)break;m=m.return}0<w.length&&(d=new p(d,y,null,n,c),h.push({event:d,listeners:w}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==cd&&(y=n.relatedTarget||n.fromElement)&&(Kr(y)||y[Kn]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Kr(y):null,y!==null&&(I=_i(y),y!==I||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(w=xg,S="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=Dg,S="onPointerLeave",g="onPointerEnter",m="pointer"),I=p==null?d:Ui(p),v=y==null?d:Ui(y),d=new w(S,m+"leave",p,n,c),d.target=I,d.relatedTarget=v,S=null,Kr(c)===u&&(w=new w(g,m+"enter",y,n,c),w.target=v,w.relatedTarget=I,S=w),I=S,p&&y)t:{for(w=p,g=y,m=0,v=w;v;v=Oi(v))m++;for(v=0,S=g;S;S=Oi(S))v++;for(;0<m-v;)w=Oi(w),m--;for(;0<v-m;)g=Oi(g),v--;for(;m--;){if(w===g||g!==null&&w===g.alternate)break t;w=Oi(w),g=Oi(g)}w=null}else w=null;p!==null&&zg(h,d,p,w,!1),y!==null&&I!==null&&zg(h,I,y,w,!0)}}e:{if(d=u?Ui(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var k=xC;else if(Lg(d))if(sw)k=bC;else{k=DC;var _=OC}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=PC);if(k&&(k=k(t,u))){iw(h,k,n,c);break e}_&&_(t,d,u),t==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&sd(d,"number",d.value)}switch(_=u?Ui(u):window,t){case"focusin":(Lg(_)||_.contentEditable==="true")&&(Mi=_,yd=u,ho=null);break;case"focusout":ho=yd=Mi=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,jg(h,n,c);break;case"selectionchange":if($C)break;case"keydown":case"keyup":jg(h,n,c)}var A;if(Wf)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Li?nw(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(tw&&n.locale!=="ko"&&(Li||O!=="onCompositionStart"?O==="onCompositionEnd"&&Li&&(A=ew()):(lr=c,zf="value"in lr?lr.value:lr.textContent,Li=!0)),_=Ul(u,O),0<_.length&&(O=new Og(O,t,null,n,c),h.push({event:O,listeners:_}),A?O.data=A:(A=rw(n),A!==null&&(O.data=A)))),(A=CC?kC(t,n):AC(t,n))&&(u=Ul(u,"onBeforeInput"),0<u.length&&(c=new Og("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}mw(h,e)})}function Do(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ul(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Co(t,n),s!=null&&r.unshift(Do(t,s,i)),s=Co(t,e),s!=null&&r.push(Do(t,s,i))),t=t.return}return r}function Oi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zg(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Co(n,s),l!=null&&o.unshift(Do(n,l,a))):i||(l=Co(n,s),l!=null&&o.push(Do(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VC=/\r\n?/g,BC=/\u0000|\uFFFD/g;function Hg(t){return(typeof t=="string"?t:""+t).replace(VC,`
`).replace(BC,"")}function za(t,e,n){if(e=Hg(e),Hg(t)!==e&&n)throw Error(x(425))}function Fl(){}var wd=null,Ed=null;function Sd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _d=typeof setTimeout=="function"?setTimeout:void 0,zC=typeof clearTimeout=="function"?clearTimeout:void 0,qg=typeof Promise=="function"?Promise:void 0,HC=typeof queueMicrotask=="function"?queueMicrotask:typeof qg!="undefined"?function(t){return qg.resolve(null).then(t).catch(qC)}:_d;function qC(t){setTimeout(function(){throw t})}function vh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),No(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);No(e)}function $n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ks=Math.random().toString(36).slice(2),En="__reactFiber$"+ks,Po="__reactProps$"+ks,Kn="__reactContainer$"+ks,Td="__reactEvents$"+ks,WC="__reactListeners$"+ks,KC="__reactHandles$"+ks;function Kr(t){var e=t[En];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kn]||n[En]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wg(t);t!==null;){if(n=t[En])return n;t=Wg(t)}return e}t=n,n=t.parentNode}return null}function ia(t){return t=t[En]||t[Kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ui(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function Ou(t){return t[Po]||null}var Id=[],Fi=-1;function Pr(t){return{current:t}}function ye(t){0>Fi||(t.current=Id[Fi],Id[Fi]=null,Fi--)}function pe(t,e){Fi++,Id[Fi]=t.current,t.current=e}var _r={},lt=Pr(_r),Ct=Pr(!1),si=_r;function os(t,e){var n=t.type.contextTypes;if(!n)return _r;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kt(t){return t=t.childContextTypes,t!=null}function jl(){ye(Ct),ye(lt)}function Kg(t,e,n){if(lt.current!==_r)throw Error(x(168));pe(lt,e),pe(Ct,n)}function yw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,OI(t)||"Unknown",i));return Te({},n,r)}function Vl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_r,si=lt.current,pe(lt,t),pe(Ct,Ct.current),!0}function Gg(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=yw(t,e,si),r.__reactInternalMemoizedMergedChildContext=t,ye(Ct),ye(lt),pe(lt,t)):ye(Ct),pe(Ct,n)}var bn=null,Du=!1,wh=!1;function vw(t){bn===null?bn=[t]:bn.push(t)}function GC(t){Du=!0,vw(t)}function br(){if(!wh&&bn!==null){wh=!0;var t=0,e=ae;try{var n=bn;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bn=null,Du=!1}catch(i){throw bn!==null&&(bn=bn.slice(t+1)),z0(Ff,br),i}finally{ae=e,wh=!1}}return null}var YC=Xn.ReactCurrentBatchConfig;function sn(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Bl=Pr(null),zl=null,ji=null,Gf=null;function Yf(){Gf=ji=zl=null}function Qf(t){var e=Bl.current;ye(Bl),t._currentValue=e}function Cd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xi(t,e){zl=t,Gf=ji=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(It=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(Gf!==t)if(t={context:t,memoizedValue:e,next:null},ji===null){if(zl===null)throw Error(x(308));ji=t,zl.dependencies={lanes:0,firstContext:t}}else ji=ji.next=t;return e}var un=null,nr=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ww(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(t,e){var n=t.updateQueue;n!==null&&(n=n.shared,lE(t)?(t=n.interleaved,t===null?(e.next=e,un===null?un=[n]:un.push(n)):(e.next=t.next,t.next=e),n.interleaved=e):(t=n.pending,t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e))}function ul(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jf(t,n)}}function Yg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hl(t,e,n,r){var i=t.updateQueue;nr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(d=e,p=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(p,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,d=typeof y=="function"?y.call(p,h,d):y,d==null)break e;h=Te({},h,d);break e;case 2:nr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);li|=o,t.lanes=o,t.memoizedState=h}}function Qg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var Ew=new _0.Component().refs;function kd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pu={isMounted:function(t){return(t=t._reactInternals)?_i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=gr(t),s=zn(r,i);s.payload=e,n!=null&&(s.callback=n),pr(t,s),e=Kt(t,i,r),e!==null&&ul(e,t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=gr(t),s=zn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),pr(t,s),e=Kt(t,i,r),e!==null&&ul(e,t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=gr(t),i=zn(n,r);i.tag=2,e!=null&&(i.callback=e),pr(t,i),e=Kt(t,r,n),e!==null&&ul(e,t,r)}};function Xg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!xo(n,r)||!xo(i,s):!0}function Sw(t,e,n){var r=!1,i=_r,s=e.contextType;return typeof s=="object"&&s!==null?s=Gt(s):(i=kt(e)?si:lt.current,r=e.contextTypes,s=(r=r!=null)?os(t,i):_r),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Jg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pu.enqueueReplaceState(e,e.state,null)}function Ad(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Ew,Xf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gt(s):(s=kt(e)?si:lt.current,i.context=os(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pu.enqueueReplaceState(i,i.state,null),Hl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}var Vi=[],Bi=0,ql=null,Wl=0,zt=[],Ht=0,oi=null,Un=1,Fn="";function zr(t,e){Vi[Bi++]=Wl,Vi[Bi++]=ql,ql=t,Wl=e}function _w(t,e,n){zt[Ht++]=Un,zt[Ht++]=Fn,zt[Ht++]=oi,oi=t;var r=Un;t=Fn;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var s=32-cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Un=1<<32-cn(e)+i|n<<i|r,Fn=s+t}else Un=1<<s|n<<i|r,Fn=t}function Jf(t){t.return!==null&&(zr(t,1),_w(t,1,0))}function Zf(t){for(;t===ql;)ql=Vi[--Bi],Vi[Bi]=null,Wl=Vi[--Bi],Vi[Bi]=null;for(;t===oi;)oi=zt[--Ht],zt[Ht]=null,Fn=zt[--Ht],zt[Ht]=null,Un=zt[--Ht],zt[Ht]=null}var Pt=null,_t=null,we=!1,an=null;function Tw(t,e){var n=qt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pt=t,_t=$n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pt=t,_t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oi!==null?{id:Un,overflow:Fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pt=t,_t=null,!0):!1;default:return!1}}function Nd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rd(t){if(we){var e=_t;if(e){var n=e;if(!Zg(t,e)){if(Nd(t))throw Error(x(418));e=$n(n.nextSibling);var r=Pt;e&&Zg(t,e)?Tw(r,n):(t.flags=t.flags&-4097|2,we=!1,Pt=t)}}else{if(Nd(t))throw Error(x(418));t.flags=t.flags&-4097|2,we=!1,Pt=t}}}function ey(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function Gs(t){if(t!==Pt)return!1;if(!we)return ey(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sd(t.type,t.memoizedProps)),e&&(e=_t)){if(Nd(t)){for(t=_t;t;)t=$n(t.nextSibling);throw Error(x(418))}for(;e;)Tw(t,e),e=$n(e.nextSibling)}if(ey(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_t=$n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_t=null}}else _t=Pt?$n(t.stateNode.nextSibling):null;return!0}function as(){_t=Pt=null,we=!1}function ep(t){an===null?an=[t]:an.push(t)}function Ys(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Ew&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function Ha(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ty(t){var e=t._init;return e(t._payload)}function Iw(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Tr(g,m),g.index=0,g.sibling=null,g}function s(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,S){return m===null||m.tag!==6?(m=Ch(v,g.mode,S),m.return=g,m):(m=i(m,v),m.return=g,m)}function l(g,m,v,S){var k=v.type;return k===bi?c(g,m,v.props.children,S,v.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===tr&&ty(k)===m.type)?(S=i(m,v.props),S.ref=Ys(g,m,v),S.return=g,S):(S=pl(v.type,v.key,v.props,null,g.mode,S),S.ref=Ys(g,m,v),S.return=g,S)}function u(g,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=kh(v,g.mode,S),m.return=g,m):(m=i(m,v.children||[]),m.return=g,m)}function c(g,m,v,S,k){return m===null||m.tag!==7?(m=ei(v,g.mode,S,k),m.return=g,m):(m=i(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ch(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ba:return v=pl(m.type,m.key,m.props,null,g.mode,v),v.ref=Ys(g,null,m),v.return=g,v;case Pi:return m=kh(m,g.mode,v),m.return=g,m;case tr:var S=m._init;return h(g,S(m._payload),v)}if(eo(m)||zs(m))return m=ei(m,g.mode,v,null),m.return=g,m;Ha(g,m)}return null}function d(g,m,v,S){var k=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(g,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ba:return v.key===k?l(g,m,v,S):null;case Pi:return v.key===k?u(g,m,v,S):null;case tr:return k=v._init,d(g,m,k(v._payload),S)}if(eo(v)||zs(v))return k!==null?null:c(g,m,v,S,null);Ha(g,v)}return null}function p(g,m,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(v)||null,a(m,g,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ba:return g=g.get(S.key===null?v:S.key)||null,l(m,g,S,k);case Pi:return g=g.get(S.key===null?v:S.key)||null,u(m,g,S,k);case tr:var _=S._init;return p(g,m,v,_(S._payload),k)}if(eo(S)||zs(S))return g=g.get(v)||null,c(m,g,S,k,null);Ha(m,S)}return null}function y(g,m,v,S){for(var k=null,_=null,A=m,O=m=0,F=null;A!==null&&O<v.length;O++){A.index>O?(F=A,A=null):F=A.sibling;var j=d(g,A,v[O],S);if(j===null){A===null&&(A=F);break}t&&A&&j.alternate===null&&e(g,A),m=s(j,m,O),_===null?k=j:_.sibling=j,_=j,A=F}if(O===v.length)return n(g,A),we&&zr(g,O),k;if(A===null){for(;O<v.length;O++)A=h(g,v[O],S),A!==null&&(m=s(A,m,O),_===null?k=A:_.sibling=A,_=A);return we&&zr(g,O),k}for(A=r(g,A);O<v.length;O++)F=p(A,g,O,v[O],S),F!==null&&(t&&F.alternate!==null&&A.delete(F.key===null?O:F.key),m=s(F,m,O),_===null?k=F:_.sibling=F,_=F);return t&&A.forEach(function(ce){return e(g,ce)}),we&&zr(g,O),k}function w(g,m,v,S){var k=zs(v);if(typeof k!="function")throw Error(x(150));if(v=k.call(v),v==null)throw Error(x(151));for(var _=k=null,A=m,O=m=0,F=null,j=v.next();A!==null&&!j.done;O++,j=v.next()){A.index>O?(F=A,A=null):F=A.sibling;var ce=d(g,A,j.value,S);if(ce===null){A===null&&(A=F);break}t&&A&&ce.alternate===null&&e(g,A),m=s(ce,m,O),_===null?k=ce:_.sibling=ce,_=ce,A=F}if(j.done)return n(g,A),we&&zr(g,O),k;if(A===null){for(;!j.done;O++,j=v.next())j=h(g,j.value,S),j!==null&&(m=s(j,m,O),_===null?k=j:_.sibling=j,_=j);return we&&zr(g,O),k}for(A=r(g,A);!j.done;O++,j=v.next())j=p(A,g,O,j.value,S),j!==null&&(t&&j.alternate!==null&&A.delete(j.key===null?O:j.key),m=s(j,m,O),_===null?k=j:_.sibling=j,_=j);return t&&A.forEach(function(ze){return e(g,ze)}),we&&zr(g,O),k}function I(g,m,v,S){if(typeof v=="object"&&v!==null&&v.type===bi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ba:e:{for(var k=v.key,_=m;_!==null;){if(_.key===k){if(k=v.type,k===bi){if(_.tag===7){n(g,_.sibling),m=i(_,v.props.children),m.return=g,g=m;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===tr&&ty(k)===_.type){n(g,_.sibling),m=i(_,v.props),m.ref=Ys(g,_,v),m.return=g,g=m;break e}n(g,_);break}else e(g,_);_=_.sibling}v.type===bi?(m=ei(v.props.children,g.mode,S,v.key),m.return=g,g=m):(S=pl(v.type,v.key,v.props,null,g.mode,S),S.ref=Ys(g,m,v),S.return=g,g=S)}return o(g);case Pi:e:{for(_=v.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=i(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=kh(v,g.mode,S),m.return=g,g=m}return o(g);case tr:return _=v._init,I(g,m,_(v._payload),S)}if(eo(v))return y(g,m,v,S);if(zs(v))return w(g,m,v,S);Ha(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,v),m.return=g,g=m):(n(g,m),m=Ch(v,g.mode,S),m.return=g,g=m),o(g)):n(g,m)}return I}var ls=Iw(!0),Cw=Iw(!1),sa={},Tn=Pr(sa),bo=Pr(sa),Lo=Pr(sa);function Gr(t){if(t===sa)throw Error(x(174));return t}function tp(t,e){switch(pe(Lo,e),pe(bo,t),pe(Tn,sa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ad(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ad(e,t)}ye(Tn),pe(Tn,e)}function us(){ye(Tn),ye(bo),ye(Lo)}function kw(t){Gr(Lo.current);var e=Gr(Tn.current),n=ad(e,t.type);e!==n&&(pe(bo,t),pe(Tn,n))}function np(t){bo.current===t&&(ye(Tn),ye(bo))}var Se=Pr(0);function Kl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eh=[];function rp(){for(var t=0;t<Eh.length;t++)Eh[t]._workInProgressVersionPrimary=null;Eh.length=0}var cl=Xn.ReactCurrentDispatcher,Sh=Xn.ReactCurrentBatchConfig,ai=0,_e=null,De=null,$e=null,Gl=!1,fo=!1,Mo=0,QC=0;function et(){throw Error(x(321))}function ip(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dn(t[n],e[n]))return!1;return!0}function sp(t,e,n,r,i,s){if(ai=s,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cl.current=t===null||t.memoizedState===null?ek:tk,t=n(r,i),fo){s=0;do{if(fo=!1,Mo=0,25<=s)throw Error(x(301));s+=1,$e=De=null,e.updateQueue=null,cl.current=nk,t=n(r,i)}while(fo)}if(cl.current=Yl,e=De!==null&&De.next!==null,ai=0,$e=De=_e=null,Gl=!1,e)throw Error(x(300));return t}function op(){var t=Mo!==0;return Mo=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?_e.memoizedState=$e=t:$e=$e.next=t,$e}function Yt(){if(De===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=$e===null?_e.memoizedState:$e.next;if(e!==null)$e=e,De=t;else{if(t===null)throw Error(x(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},$e===null?_e.memoizedState=$e=t:$e=$e.next=t}return $e}function $o(t,e){return typeof e=="function"?e(t):e}function _h(t){var e=Yt(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=De,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ai&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,_e.lanes|=c,li|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,dn(r,e.memoizedState)||(It=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,_e.lanes|=s,li|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Th(t){var e=Yt(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);dn(s,e.memoizedState)||(It=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Aw(){}function Nw(t,e){var n=_e,r=Yt(),i=e(),s=!dn(r.memoizedState,i);if(s&&(r.memoizedState=i,It=!0),r=r.queue,ap(Ow.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,Uo(9,xw.bind(null,n,r,i,e),void 0,null),Le===null)throw Error(x(349));(ai&30)!==0||Rw(n,e,i)}return i}function Rw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xw(t,e,n,r){e.value=n,e.getSnapshot=r,Dw(e)&&Kt(t,1,-1)}function Ow(t,e,n){return n(function(){Dw(e)&&Kt(t,1,-1)})}function Dw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dn(t,n)}catch{return!0}}function ny(t){var e=wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t},e.queue=t,t=t.dispatch=ZC.bind(null,_e,t),[e.memoizedState,t]}function Uo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Pw(){return Yt().memoizedState}function hl(t,e,n,r){var i=wn();_e.flags|=t,i.memoizedState=Uo(1|e,n,void 0,r===void 0?null:r)}function bu(t,e,n,r){var i=Yt();r=r===void 0?null:r;var s=void 0;if(De!==null){var o=De.memoizedState;if(s=o.destroy,r!==null&&ip(r,o.deps)){i.memoizedState=Uo(e,n,s,r);return}}_e.flags|=t,i.memoizedState=Uo(1|e,n,s,r)}function ry(t,e){return hl(8390656,8,t,e)}function ap(t,e){return bu(2048,8,t,e)}function bw(t,e){return bu(4,2,t,e)}function Lw(t,e){return bu(4,4,t,e)}function Mw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $w(t,e,n){return n=n!=null?n.concat([t]):null,bu(4,4,Mw.bind(null,e,t),n)}function lp(){}function Uw(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ip(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Fw(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ip(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jw(t,e,n){return(ai&21)===0?(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n):(dn(n,e)||(n=W0(),_e.lanes|=n,li|=n,t.baseState=!0),e)}function XC(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=Sh.transition;Sh.transition={};try{t(!1),e()}finally{ae=n,Sh.transition=r}}function Vw(){return Yt().memoizedState}function JC(t,e,n){var r=gr(t);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bw(t)?zw(e,n):(Hw(t,e,n),n=gt(),t=Kt(t,r,n),t!==null&&qw(t,e,r))}function ZC(t,e,n){var r=gr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bw(t))zw(e,i);else{Hw(t,e,i);var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,dn(a,o))return}catch{}finally{}n=gt(),t=Kt(t,r,n),t!==null&&qw(t,e,r)}}function Bw(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function zw(t,e){fo=Gl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hw(t,e,n){lE(t)?(t=e.interleaved,t===null?(n.next=n,un===null?un=[e]:un.push(e)):(n.next=t.next,t.next=n),e.interleaved=n):(t=e.pending,t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n)}function qw(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jf(t,n)}}var Yl={readContext:Gt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},ek={readContext:Gt,useCallback:function(t,e){return wn().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:ry,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hl(4194308,4,Mw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hl(4194308,4,t,e)},useInsertionEffect:function(t,e){return hl(4,2,t,e)},useMemo:function(t,e){var n=wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JC.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=wn();return t={current:t},e.memoizedState=t},useState:ny,useDebugValue:lp,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=ny(!1),e=t[0];return t=XC.bind(null,t[1]),wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_e,i=wn();if(we){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),Le===null)throw Error(x(349));(ai&30)!==0||Rw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ry(Ow.bind(null,r,s,t),[t]),r.flags|=2048,Uo(9,xw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=wn(),e=Le.identifierPrefix;if(we){var n=Fn,r=Un;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tk={readContext:Gt,useCallback:Uw,useContext:Gt,useEffect:ap,useImperativeHandle:$w,useInsertionEffect:bw,useLayoutEffect:Lw,useMemo:Fw,useReducer:_h,useRef:Pw,useState:function(){return _h($o)},useDebugValue:lp,useDeferredValue:function(t){var e=Yt();return jw(e,De.memoizedState,t)},useTransition:function(){var t=_h($o)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:Aw,useSyncExternalStore:Nw,useId:Vw,unstable_isNewReconciler:!1},nk={readContext:Gt,useCallback:Uw,useContext:Gt,useEffect:ap,useImperativeHandle:$w,useInsertionEffect:bw,useLayoutEffect:Lw,useMemo:Fw,useReducer:Th,useRef:Pw,useState:function(){return Th($o)},useDebugValue:lp,useDeferredValue:function(t){var e=Yt();return De===null?e.memoizedState=t:jw(e,De.memoizedState,t)},useTransition:function(){var t=Th($o)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:Aw,useSyncExternalStore:Nw,useId:Vw,unstable_isNewReconciler:!1};function up(t,e){try{var n="",r=e;do n+=xI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function xd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rk=typeof WeakMap=="function"?WeakMap:Map;function Ww(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xl||(Xl=!0,Fd=r),xd(t,e)},n}function Kw(t,e,n){n=zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xd(t,e),typeof r!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gk.bind(null,t,e,n),e.then(t,t))}function sy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oy(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,pr(n,e))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var Gw,Od,Yw,Qw;Gw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Od=function(){};Yw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gr(Tn.current);var s=null;switch(n){case"input":i=rd(t,i),r=rd(t,r),s=[];break;case"select":i=Te({},i,{value:void 0}),r=Te({},r,{value:void 0}),s=[];break;case"textarea":i=od(t,i),r=od(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fl)}ld(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(To.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(To.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ge("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Qw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qs(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ik(t,e,n){var r=e.pendingProps;switch(Zf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return kt(e.type)&&jl(),tt(e),null;case 3:return r=e.stateNode,us(),ye(Ct),ye(lt),rp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,an!==null&&(Bd(an),an=null))),Od(t,e),tt(e),null;case 5:np(e);var i=Gr(Lo.current);if(n=e.type,t!==null&&e.stateNode!=null)Yw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return tt(e),null}if(t=Gr(Tn.current),Gs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[En]=e,r[Po]=s,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<no.length;i++)ge(no[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":Eg(r,s),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ge("invalid",r);break;case"textarea":_g(r,s),ge("invalid",r)}ld(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&za(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&za(r.textContent,a,t),i=["children",""+a]):To.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ge("scroll",r)}switch(n){case"input":La(r),Sg(r,s,!0);break;case"textarea":La(r),Tg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=O0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[En]=e,t[Po]=r,Gw(t,e,!1,!1),e.stateNode=t;e:{switch(o=ud(n,r),n){case"dialog":ge("cancel",t),ge("close",t),i=r;break;case"iframe":case"object":case"embed":ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<no.length;i++)ge(no[i],t);i=r;break;case"source":ge("error",t),i=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),i=r;break;case"details":ge("toggle",t),i=r;break;case"input":Eg(t,r),i=rd(t,r),ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Te({},r,{value:void 0}),ge("invalid",t);break;case"textarea":_g(t,r),i=od(t,r),ge("invalid",t);break;default:i=r}ld(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?b0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&D0(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Io(t,l):typeof l=="number"&&Io(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(To.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ge("scroll",t):l!=null&&bf(t,s,l,o))}switch(n){case"input":La(t),Sg(t,r,!1);break;case"textarea":La(t),Tg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Sr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ki(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ki(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)Qw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=Gr(Lo.current),Gr(Tn.current),Gs(e)){if(r=e.stateNode,n=e.memoizedProps,r[En]=e,(s=r.nodeValue!==n)&&(t=Pt,t!==null))switch(t.tag){case 3:za(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&za(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[En]=e,e.stateNode=r}return tt(e),null;case 13:if(ye(Se),r=e.memoizedState,we&&_t!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=_t;r;)r=$n(r.nextSibling);return as(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=Gs(e),t===null){if(!r)throw Error(x(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(x(317));r[En]=e}else as(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return tt(e),null}return an!==null&&(Bd(an),an=null),(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?Gs(e):n=t.memoizedState!==null,r!==n&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Se.current&1)!==0?be===0&&(be=3):mp())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return us(),Od(t,e),t===null&&Oo(e.stateNode.containerInfo),tt(e),null;case 10:return Qf(e.type._context),tt(e),null;case 17:return kt(e.type)&&jl(),tt(e),null;case 19:if(ye(Se),s=e.memoizedState,s===null)return tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qs(s,!1);else{if(be!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=Kl(t),o!==null){for(e.flags|=128,Qs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(Se,Se.current&1|2),e.child}t=t.sibling}s.tail!==null&&ke()>cs&&(e.flags|=128,r=!0,Qs(s,!1),e.lanes=4194304)}else{if(!r)if(t=Kl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!we)return tt(e),null}else 2*ke()-s.renderingStartTime>cs&&n!==1073741824&&(e.flags|=128,r=!0,Qs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ke(),e.sibling=null,n=Se.current,pe(Se,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return pp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Dt&1073741824)!==0&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}var sk=Xn.ReactCurrentOwner,It=!1;function ct(t,e,n,r){e.child=t===null?Cw(e,null,n,r):ls(e,t.child,n,r)}function ay(t,e,n,r,i){n=n.render;var s=e.ref;return Xi(e,i),r=sp(t,e,n,r,s,i),n=op(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gn(t,e,i)):(we&&n&&Jf(e),e.flags|=1,ct(t,e,r,i),e.child)}function ly(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!gp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Xw(t,e,s,r,i)):(t=pl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xo,n(o,r)&&t.ref===e.ref)return Gn(t,e,i)}return e.flags|=1,t=Tr(s,r),t.ref=e.ref,t.return=e,e.child=t}function Xw(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(xo(s,r)&&t.ref===e.ref)if(It=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(It=!0);else return e.lanes=t.lanes,Gn(t,e,i)}return Dd(t,e,n,r,i)}function Jw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Hi,Dt),Dt|=n;else if((n&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pe(Hi,Dt),Dt|=r;else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(Hi,Dt),Dt|=t,null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pe(Hi,Dt),Dt|=r;return ct(t,e,i,n),e.child}function Zw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dd(t,e,n,r,i){var s=kt(n)?si:lt.current;return s=os(e,s),Xi(e,i),n=sp(t,e,n,r,s,i),r=op(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gn(t,e,i)):(we&&r&&Jf(e),e.flags|=1,ct(t,e,n,i),e.child)}function uy(t,e,n,r,i){if(kt(n)){var s=!0;Vl(e)}else s=!1;if(Xi(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Sw(e,n,r),Ad(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=kt(n)?si:lt.current,u=os(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Jg(e,o,r,u),nr=!1;var d=e.memoizedState;o.state=d,Hl(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Ct.current||nr?(typeof c=="function"&&(kd(e,n,c,r),l=e.memoizedState),(a=nr||Xg(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ww(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:sn(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=kt(n)?si:lt.current,l=os(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Jg(e,o,r,l),nr=!1,d=e.memoizedState,o.state=d,Hl(e,r,o,i);var y=e.memoizedState;a!==h||d!==y||Ct.current||nr?(typeof p=="function"&&(kd(e,n,p,r),y=e.memoizedState),(u=nr||Xg(e,n,u,r,d,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Pd(t,e,n,r,s,i)}function Pd(t,e,n,r,i,s){Zw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Gg(e,n,!1),Gn(t,e,s);r=e.stateNode,sk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ls(e,t.child,null,s),e.child=ls(e,null,a,s)):ct(t,e,a,s),e.memoizedState=r.state,i&&Gg(e,n,!0),e.child}function eE(t){var e=t.stateNode;e.pendingContext?Kg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kg(t,e.context,!1),tp(t,e.containerInfo)}function cy(t,e,n,r,i){return as(),ep(i),e.flags|=256,ct(t,e,n,r),e.child}var qa={dehydrated:null,treeContext:null,retryLane:0};function Wa(t){return{baseLanes:t,cachePool:null,transitions:null}}function hy(t,e){return{baseLanes:t.baseLanes|e,cachePool:null,transitions:t.transitions}}function tE(t,e,n){var r=e.pendingProps,i=Se.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pe(Se,i&1),t===null)return Rd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=eu(i,r,0,null),t=ei(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Wa(n),e.memoizedState=qa,t):bd(e,i));if(i=t.memoizedState,i!==null){if(a=i.dehydrated,a!==null){if(o)return e.flags&256?(e.flags&=-257,Ka(t,e,n,Error(x(422)))):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=eu({mode:"visible",children:r.children},i,0,null),s=ei(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&ls(e,t.child,null,n),e.child.memoizedState=Wa(n),e.memoizedState=qa,s);if((e.mode&1)===0)e=Ka(t,e,n,null);else if(a.data==="$!")e=Ka(t,e,n,Error(x(419)));else if(r=(n&t.childLanes)!==0,It||r){if(r=Le,r!==null){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}r=(s&(r.suspendedLanes|n))!==0?0:s,r!==0&&r!==i.retryLane&&(i.retryLane=r,Kt(t,r,-1))}mp(),e=Ka(t,e,n,Error(x(421)))}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=yk.bind(null,t),a._reactRetry=e,e=null):(n=i.treeContext,_t=$n(a.nextSibling),Pt=e,we=!0,an=null,n!==null&&(zt[Ht++]=Un,zt[Ht++]=Fn,zt[Ht++]=oi,Un=n.id,Fn=n.overflow,oi=e),e=bd(e,e.pendingProps.children),e.flags|=4096);return e}return s?(r=fy(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?Wa(n):hy(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=qa,r):(n=dy(t,e,r.children,n),e.memoizedState=null,n)}return s?(r=fy(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?Wa(n):hy(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=qa,r):(n=dy(t,e,r.children,n),e.memoizedState=null,n)}function bd(t,e){return e=eu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dy(t,e,n,r){var i=t.child;return t=i.sibling,n=Tr(i,{mode:"visible",children:n}),(e.mode&1)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n}function fy(t,e,n,r,i){var s=e.mode;t=t.child;var o=t.sibling,a={mode:"hidden",children:n};return(s&1)===0&&e.child!==t?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=Tr(t,a),n.subtreeFlags=t.subtreeFlags&14680064),o!==null?r=Tr(o,r):(r=ei(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Ka(t,e,n,r){return r!==null&&ep(r),ls(e,t.child,null,n),t=bd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function py(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cd(t.return,e,n)}function Ih(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ct(t,e,r.children,n),r=Se.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&py(t,n,e);else if(t.tag===19)py(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(Se,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ih(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ih(e,!0,n,null,s);break;case"together":Ih(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),li|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Tr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Tr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ok(t,e,n){switch(e.tag){case 3:eE(e),as();break;case 5:kw(e);break;case 1:kt(e.type)&&Vl(e);break;case 4:tp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pe(Bl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(Se,Se.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?tE(t,e,n):(pe(Se,Se.current&1),t=Gn(t,e,n),t!==null?t.sibling:null);pe(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return nE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pe(Se,Se.current),r)break;return null;case 22:case 23:return e.lanes=0,Jw(t,e,n)}return Gn(t,e,n)}function ak(t,e){switch(Zf(e),e.tag){case 1:return kt(e.type)&&jl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return us(),ye(Ct),ye(lt),rp(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return np(e),null;case 13:if(ye(Se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));as()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(Se),null;case 4:return us(),null;case 10:return Qf(e.type._context),null;case 22:case 23:return pp(),null;case 24:return null;default:return null}}var Ga=!1,rt=!1,lk=typeof WeakSet=="function"?WeakSet:Set,$=null;function zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function Ld(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var my=!1;function uk(t,e){if(wd=Ml,t=lw(),Kf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ed={focusedElem:t,selectionRange:n},Ml=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var y=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,I=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:sn(e.type,w),I);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;if(v.nodeType===1)v.textContent="";else if(v.nodeType===9){var S=v.body;S!=null&&(S.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(k){Ie(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return y=my,my=!1,y}function po(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ld(e,n,s)}i=i.next}while(i!==r)}}function Lu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Md(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rE(t){var e=t.alternate;e!==null&&(t.alternate=null,rE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[En],delete e[Po],delete e[Td],delete e[WC],delete e[KC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iE(t){return t.tag===5||t.tag===3||t.tag===4}function gy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $d(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fl));else if(r!==4&&(t=t.child,t!==null))for($d(t,e,n),t=t.sibling;t!==null;)$d(t,e,n),t=t.sibling}function Ud(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ud(t,e,n),t=t.sibling;t!==null;)Ud(t,e,n),t=t.sibling}var qe=null,on=!1;function Zn(t,e,n){for(n=n.child;n!==null;)sE(t,e,n),n=n.sibling}function sE(t,e,n){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Au,n)}catch{}switch(n.tag){case 5:rt||zi(n,e);case 6:var r=qe,i=on;qe=null,Zn(t,e,n),qe=r,on=i,qe!==null&&(on?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(on?(t=qe,n=n.stateNode,t.nodeType===8?vh(t.parentNode,n):t.nodeType===1&&vh(t,n),No(t)):vh(qe,n.stateNode));break;case 4:r=qe,i=on,qe=n.stateNode.containerInfo,on=!0,Zn(t,e,n),qe=r,on=i;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&Ld(n,e,o),i=i.next}while(i!==r)}Zn(t,e,n);break;case 1:if(!rt&&(zi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,e,a)}Zn(t,e,n);break;case 21:Zn(t,e,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,Zn(t,e,n),rt=r):Zn(t,e,n);break;default:Zn(t,e,n)}}function yy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lk),e.forEach(function(r){var i=vk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qe=a.stateNode,on=!1;break e;case 3:qe=a.stateNode.containerInfo,on=!0;break e;case 4:qe=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(qe===null)throw Error(x(160));sE(s,o,i),qe=null,on=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ie(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oE(e,t),e=e.sibling}function oE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),vn(t),r&4){try{po(3,t,t.return),Lu(3,t)}catch(y){Ie(t,t.return,y)}try{po(5,t,t.return)}catch(y){Ie(t,t.return,y)}}break;case 1:rn(e,t),vn(t),r&512&&n!==null&&zi(n,n.return);break;case 5:if(rn(e,t),vn(t),r&512&&n!==null&&zi(n,n.return),t.flags&32){var i=t.stateNode;try{Io(i,"")}catch(y){Ie(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&R0(i,s),ud(a,o);var u=ud(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?b0(i,h):c==="dangerouslySetInnerHTML"?D0(i,h):c==="children"?Io(i,h):bf(i,c,h,u)}switch(a){case"input":id(i,s);break;case"textarea":x0(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ki(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ki(i,!!s.multiple,s.defaultValue,!0):Ki(i,!!s.multiple,s.multiple?[]:"",!1))}i[Po]=s}catch(y){Ie(t,t.return,y)}}break;case 6:if(rn(e,t),vn(t),r&4){if(t.stateNode===null)throw Error(x(162));u=t.stateNode,c=t.memoizedProps;try{u.nodeValue=c}catch(y){Ie(t,t.return,y)}}break;case 3:if(rn(e,t),vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{No(e.containerInfo)}catch(y){Ie(t,t.return,y)}break;case 4:rn(e,t),vn(t);break;case 13:rn(e,t),vn(t),u=t.child,u.flags&8192&&u.memoizedState!==null&&(u.alternate===null||u.alternate.memoizedState===null)&&(dp=ke()),r&4&&yy(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(rt=(c=rt)||u,rn(e,t),rt=c):rn(e,t),vn(t),r&8192){c=t.memoizedState!==null;e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=P0("display",o))}catch(y){Ie(t,t.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Ie(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(c&&!u&&(t.mode&1)!==0)for($=t,t=t.child;t!==null;){for(u=$=t;$!==null;){switch(c=$,h=c.child,c.tag){case 0:case 11:case 14:case 15:po(4,c,c.return);break;case 1:if(zi(c,c.return),s=c.stateNode,typeof s.componentWillUnmount=="function"){d=c,p=c.return;try{i=d,s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(y){Ie(d,p,y)}}break;case 5:zi(c,c.return);break;case 22:if(c.memoizedState!==null){wy(u);continue}}h!==null?(h.return=c,$=h):wy(u)}t=t.sibling}}break;case 19:rn(e,t),vn(t),r&4&&yy(t);break;case 21:break;default:rn(e,t),vn(t)}}function vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iE(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Io(i,""),r.flags&=-33);var s=gy(t);Ud(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gy(t);$d(t,a,o);break;default:throw Error(x(161))}}catch(l){Ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ck(t,e,n){$=t,aE(t)}function aE(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ga;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rt;a=Ga;var u=rt;if(Ga=o,(rt=l)&&!u)for($=i;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?Ey(i):l!==null?(l.return=o,$=l):Ey(i);for(;s!==null;)$=s,aE(s),s=s.sibling;$=i,Ga=a,rt=u}vy(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,$=s):vy(t)}}function vy(t){for(;$!==null;){var e=$;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:rt||Lu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Qg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&No(h)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(x(163))}rt||e.flags&512&&Md(e)}catch(d){Ie(e,e.return,d)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function wy(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Ey(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lu(4,e)}catch(l){Ie(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ie(e,i,l)}}var s=e.return;try{Md(e)}catch(l){Ie(e,s,l)}break;case 5:var o=e.return;try{Md(e)}catch(l){Ie(e,o,l)}}}catch(l){Ie(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var hk=Math.ceil,Ql=Xn.ReactCurrentDispatcher,cp=Xn.ReactCurrentOwner,Wt=Xn.ReactCurrentBatchConfig,ie=0,Le=null,Re=null,Ke=0,Dt=0,Hi=Pr(0),be=0,Fo=null,li=0,Mu=0,hp=0,mo=null,St=null,dp=0,cs=1/0,Pn=null,Xl=!1,Fd=null,mr=null,Ya=!1,ur=null,Jl=0,go=0,jd=null,dl=-1,fl=0;function gt(){return(ie&6)!==0?ke():dl!==-1?dl:dl=ke()}function gr(t){return(t.mode&1)===0?1:(ie&2)!==0&&Ke!==0?Ke&-Ke:YC.transition!==null?(fl===0&&(fl=W0()),fl):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Z0(t.type)),t)}function Kt(t,e,n){if(50<go)throw go=0,jd=null,Error(x(185));var r=$u(t,e);return r===null?null:(na(r,e,n),((ie&2)===0||r!==Le)&&(r===Le&&((ie&2)===0&&(Mu|=e),be===4&&ir(r,Ke)),At(r,n),e===1&&ie===0&&(t.mode&1)===0&&(cs=ke()+500,Du&&br())),r)}function $u(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function lE(t){return(Le!==null||un!==null)&&(t.mode&1)!==0&&(ie&2)===0}function At(t,e){var n=t.callbackNode;YI(t,e);var r=Ll(t,t===Le?Ke:0);if(r===0)n!==null&&kg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kg(n),e===1)t.tag===0?GC(Sy.bind(null,t)):vw(Sy.bind(null,t)),HC(function(){ie===0&&br()}),n=null;else{switch(K0(r)){case 1:n=Ff;break;case 4:n=H0;break;case 16:n=bl;break;case 536870912:n=q0;break;default:n=bl}n=gE(n,uE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uE(t,e){if(dl=-1,fl=0,(ie&6)!==0)throw Error(x(327));var n=t.callbackNode;if(Ji()&&t.callbackNode!==n)return null;var r=Ll(t,t===Le?Ke:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Zl(t,r);else{e=r;var i=ie;ie|=2;var s=hE();(Le!==t||Ke!==e)&&(Pn=null,cs=ke()+500,Zr(t,e));do try{pk();break}catch(a){cE(t,a)}while(1);Yf(),Ql.current=s,ie=i,Re!==null?e=0:(Le=null,Ke=0,e=be)}if(e!==0){if(e===2&&(i=pd(t),i!==0&&(r=i,e=Vd(t,i))),e===1)throw n=Fo,Zr(t,0),ir(t,r),At(t,ke()),n;if(e===6)ir(t,r);else{if(i=t.current.alternate,(r&30)===0&&!dk(i)&&(e=Zl(t,r),e===2&&(s=pd(t),s!==0&&(r=s,e=Vd(t,s))),e===1))throw n=Fo,Zr(t,0),ir(t,r),At(t,ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:Hr(t,St,Pn);break;case 3:if(ir(t,r),(r&130023424)===r&&(e=dp+500-ke(),10<e)){if(Ll(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_d(Hr.bind(null,t,St,Pn),e);break}Hr(t,St,Pn);break;case 4:if(ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hk(r/1960))-r,10<r){t.timeoutHandle=_d(Hr.bind(null,t,St,Pn),r);break}Hr(t,St,Pn);break;case 5:Hr(t,St,Pn);break;default:throw Error(x(329))}}}return At(t,ke()),t.callbackNode===n?uE.bind(null,t):null}function Vd(t,e){var n=mo;return t.current.memoizedState.isDehydrated&&(Zr(t,e).flags|=256),t=Zl(t,e),t!==2&&(e=St,St=n,e!==null&&Bd(e)),t}function Bd(t){St===null?St=t:St.push.apply(St,t)}function dk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ir(t,e){for(e&=~hp,e&=~Mu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cn(e),r=1<<n;t[n]=-1,e&=~r}}function Sy(t){if((ie&6)!==0)throw Error(x(327));Ji();var e=Ll(t,0);if((e&1)===0)return At(t,ke()),null;var n=Zl(t,e);if(t.tag!==0&&n===2){var r=pd(t);r!==0&&(e=r,n=Vd(t,r))}if(n===1)throw n=Fo,Zr(t,0),ir(t,e),At(t,ke()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hr(t,St,Pn),At(t,ke()),null}function fp(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(cs=ke()+500,Du&&br())}}function ui(t){ur!==null&&ur.tag===0&&(ie&6)===0&&Ji();var e=ie;ie|=1;var n=Wt.transition,r=ae;try{if(Wt.transition=null,ae=1,t)return t()}finally{ae=r,Wt.transition=n,ie=e,(ie&6)===0&&br()}}function pp(){Dt=Hi.current,ye(Hi)}function Zr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zC(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(Zf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jl();break;case 3:us(),ye(Ct),ye(lt),rp();break;case 5:np(r);break;case 4:us();break;case 13:ye(Se);break;case 19:ye(Se);break;case 10:Qf(r.type._context);break;case 22:case 23:pp()}n=n.return}if(Le=t,Re=t=Tr(t.current,null),Ke=Dt=e,be=0,Fo=null,hp=Mu=li=0,St=mo=null,un!==null){for(e=0;e<un.length;e++)if(n=un[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}un=null}return t}function cE(t,e){do{var n=Re;try{if(Yf(),cl.current=Yl,Gl){for(var r=_e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gl=!1}if(ai=0,$e=De=_e=null,fo=!1,Mo=0,cp.current=null,n===null||n.return===null){be=1,Fo=e,Re=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=sy(o);if(p!==null){p.flags&=-257,oy(p,o,a,s,e),p.mode&1&&iy(s,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if((e&1)===0){iy(s,u,e),mp();break e}l=Error(x(426))}}else if(we&&a.mode&1){var I=sy(o);if(I!==null){(I.flags&65536)===0&&(I.flags|=256),oy(I,o,a,s,e),ep(l);break e}}s=l,be!==4&&(be=2),mo===null?mo=[s]:mo.push(s),l=up(l,a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=Ww(a,l,e);Yg(a,g);break e;case 1:s=l;var m=a.type,v=a.stateNode;if((a.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(mr===null||!mr.has(v)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=Kw(a,s,e);Yg(a,S);break e}}a=a.return}while(a!==null)}fE(n)}catch(k){e=k,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(1)}function hE(){var t=Ql.current;return Ql.current=Yl,t===null?Yl:t}function mp(){(be===0||be===3||be===2)&&(be=4),Le===null||(li&268435455)===0&&(Mu&268435455)===0||ir(Le,Ke)}function Zl(t,e){var n=ie;ie|=2;var r=hE();(Le!==t||Ke!==e)&&(Pn=null,Zr(t,e));do try{fk();break}catch(i){cE(t,i)}while(1);if(Yf(),ie=n,Ql.current=r,Re!==null)throw Error(x(261));return Le=null,Ke=0,be}function fk(){for(;Re!==null;)dE(Re)}function pk(){for(;Re!==null&&!jI();)dE(Re)}function dE(t){var e=mE(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?fE(t):Re=e,cp.current=null}function fE(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=ik(n,e,Dt),n!==null){Re=n;return}}else{if(n=ak(n,e),n!==null){n.flags&=32767,Re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{be=6,Re=null;return}}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);be===0&&(be=5)}function Hr(t,e,n){var r=ae,i=Wt.transition;try{Wt.transition=null,ae=1,mk(t,e,n,r)}finally{Wt.transition=i,ae=r}return null}function mk(t,e,n,r){do Ji();while(ur!==null);if((ie&6)!==0)throw Error(x(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(QI(t,s),t===Le&&(Re=Le=null,Ke=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Ya||(Ya=!0,gE(bl,function(){return Ji(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Wt.transition,Wt.transition=null;var o=ae;ae=1;var a=ie;ie|=4,cp.current=null,uk(t,n),oE(n,t),MC(Ed),Ml=!!wd,Ed=wd=null,t.current=n,ck(n),VI(),ie=a,ae=o,Wt.transition=s}else t.current=n;if(Ya&&(Ya=!1,ur=t,Jl=i),s=t.pendingLanes,s===0&&(mr=null),HI(n.stateNode),At(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(Xl)throw Xl=!1,t=Fd,Fd=null,t;return(Jl&1)!==0&&t.tag!==0&&Ji(),s=t.pendingLanes,(s&1)!==0?t===jd?go++:(go=0,jd=t):go=0,br(),null}function Ji(){if(ur!==null){var t=K0(Jl),e=Wt.transition,n=ae;try{if(Wt.transition=null,ae=16>t?16:t,ur===null)var r=!1;else{if(t=ur,ur=null,Jl=0,(ie&6)!==0)throw Error(x(331));var i=ie;for(ie|=4,$=t.current;$!==null;){var s=$,o=s.child;if(($.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($=u;$!==null;){var c=$;switch(c.tag){case 0:case 11:case 15:po(8,c,s)}var h=c.child;if(h!==null)h.return=c,$=h;else for(;$!==null;){c=$;var d=c.sibling,p=c.return;if(rE(c),c===u){$=null;break}if(d!==null){d.return=p,$=d;break}$=p}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var I=w.sibling;w.sibling=null,w=I}while(w!==null)}}$=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:po(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,$=g;break e}$=s.return}}var m=t.current;for($=m;$!==null;){o=$;var v=o.child;if((o.subtreeFlags&2064)!==0&&v!==null)v.return=o,$=v;else e:for(o=m;$!==null;){if(a=$,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Lu(9,a)}}catch(k){Ie(a,a.return,k)}if(a===o){$=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,$=S;break e}$=a.return}}if(ie=i,br(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Au,t)}catch{}r=!0}return r}finally{ae=n,Wt.transition=e}}return!1}function _y(t,e,n){e=up(n,e),e=Ww(t,e,1),pr(t,e),e=gt(),t=$u(t,1),t!==null&&(na(t,1,e),At(t,e))}function Ie(t,e,n){if(t.tag===3)_y(t,t,n);else for(;e!==null;){if(e.tag===3){_y(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mr===null||!mr.has(r))){t=up(n,t),t=Kw(e,t,1),pr(e,t),t=gt(),e=$u(e,1),e!==null&&(na(e,1,t),At(e,t));break}}e=e.return}}function gk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(Ke&n)===n&&(be===4||be===3&&(Ke&130023424)===Ke&&500>ke()-dp?Zr(t,0):hp|=n),At(t,e)}function pE(t,e){e===0&&((t.mode&1)===0?e=1:(e=Ua,Ua<<=1,(Ua&130023424)===0&&(Ua=4194304)));var n=gt();t=$u(t,e),t!==null&&(na(t,e,n),At(t,n))}function yk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pE(t,n)}function vk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),pE(t,n)}var mE;mE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)It=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return It=!1,ok(t,e,n);It=(t.flags&131072)!==0}else It=!1,we&&(e.flags&1048576)!==0&&_w(e,Wl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var i=os(e,lt.current);Xi(e,n),i=sp(null,e,r,t,i,n);var s=op();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kt(r)?(s=!0,Vl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xf(e),i.updater=Pu,e.stateNode=i,i._reactInternals=e,Ad(e,r,t,n),e=Pd(null,e,r,!0,s,n)):(e.tag=0,we&&s&&Jf(e),ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ek(r),t=sn(r,t),i){case 0:e=Dd(null,e,r,t,n);break e;case 1:e=uy(null,e,r,t,n);break e;case 11:e=ay(null,e,r,t,n);break e;case 14:e=ly(null,e,r,sn(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),Dd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),uy(t,e,r,i,n);case 3:e:{if(eE(e),t===null)throw Error(x(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ww(t,e),Hl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Error(x(423)),e=cy(t,e,r,n,i);break e}else if(r!==i){i=Error(x(424)),e=cy(t,e,r,n,i);break e}else for(_t=$n(e.stateNode.containerInfo.firstChild),Pt=e,we=!0,an=null,n=Cw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(as(),r===i){e=Gn(t,e,n);break e}ct(t,e,r,n)}e=e.child}return e;case 5:return kw(e),t===null&&Rd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Sd(r,i)?o=null:s!==null&&Sd(r,s)&&(e.flags|=32),Zw(t,e),ct(t,e,o,n),e.child;case 6:return t===null&&Rd(e),null;case 13:return tE(t,e,n);case 4:return tp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ls(e,null,r,n):ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),ay(t,e,r,i,n);case 7:return ct(t,e,e.pendingProps,n),e.child;case 8:return ct(t,e,e.pendingProps.children,n),e.child;case 12:return ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pe(Bl,r._currentValue),r._currentValue=o,s!==null)if(dn(s.value,o)){if(s.children===i.children&&!Ct.current){e=Gn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=zn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Cd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(x(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xi(e,n),i=Gt(i),r=r(i),e.flags|=1,ct(t,e,r,n),e.child;case 14:return r=e.type,i=sn(r,e.pendingProps),i=sn(r.type,i),ly(t,e,r,i,n);case 15:return Xw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,kt(r)?(t=!0,Vl(e)):t=!1,Xi(e,n),Sw(e,r,i),Ad(e,r,i,n),Pd(null,e,r,!0,t,n);case 19:return nE(t,e,n);case 22:return Jw(t,e,n)}throw Error(x(156,e.tag))};function gE(t,e){return z0(t,e)}function wk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,e,n,r){return new wk(t,e,n,r)}function gp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ek(t){if(typeof t=="function")return gp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mf)return 11;if(t===$f)return 14}return 2}function Tr(t,e){var n=t.alternate;return n===null?(n=qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")gp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bi:return ei(n.children,i,s,e);case Lf:o=8,i|=8;break;case Zh:return t=qt(12,n,e,i|2),t.elementType=Zh,t.lanes=s,t;case ed:return t=qt(13,n,e,i),t.elementType=ed,t.lanes=s,t;case td:return t=qt(19,n,e,i),t.elementType=td,t.lanes=s,t;case k0:return eu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I0:o=10;break e;case C0:o=9;break e;case Mf:o=11;break e;case $f:o=14;break e;case tr:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=qt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ei(t,e,n,r){return t=qt(7,t,r,e),t.lanes=n,t}function eu(t,e,n,r){return t=qt(22,t,r,e),t.elementType=k0,t.lanes=n,t.stateNode={},t}function Ch(t,e,n){return t=qt(6,t,null,e),t.lanes=n,t}function kh(t,e,n){return e=qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ah(0),this.expirationTimes=ah(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ah(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yp(t,e,n,r,i,s,o,a,l){return t=new Sk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xf(s),t}function _k(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yE(t){if(!t)return _r;t=t._reactInternals;e:{if(_i(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(kt(n))return yw(t,n,e)}return e}function vE(t,e,n,r,i,s,o,a,l){return t=yp(n,r,!0,t,i,s,o,a,l),t.context=yE(null),n=t.current,r=gt(),i=gr(n),s=zn(r,i),s.callback=e!=null?e:null,pr(n,s),t.current.lanes=i,na(t,i,r),At(t,r),t}function Uu(t,e,n,r){var i=e.current,s=gt(),o=gr(i);return n=yE(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),pr(i,e),t=Kt(i,o,s),t!==null&&ul(t,i,o),o}function tu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ty(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vp(t,e){Ty(t,e),(t=t.alternate)&&Ty(t,e)}function Tk(){return null}var wE=typeof reportError=="function"?reportError:function(t){console.error(t)};function wp(t){this._internalRoot=t}Fu.prototype.render=wp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));Uu(t,e,null,null)};Fu.prototype.unmount=wp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ui(function(){Uu(null,t,null,null)}),e[Kn]=null}};function Fu(t){this._internalRoot=t}Fu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rr.length&&e!==0&&e<rr[n].priority;n++);rr.splice(n,0,t),n===0&&J0(t)}};function Ep(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Iy(){}function Ik(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=tu(o);s.call(u)}}var o=vE(e,r,t,0,null,!1,!1,"",Iy);return t._reactRootContainer=o,t[Kn]=o.current,Oo(t.nodeType===8?t.parentNode:t),ui(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=tu(l);a.call(u)}}var l=yp(t,0,!1,null,null,!1,!1,"",Iy);return t._reactRootContainer=l,t[Kn]=l.current,Oo(t.nodeType===8?t.parentNode:t),ui(function(){Uu(e,l,n,r)}),l}function Vu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=tu(o);a.call(l)}}Uu(e,o,t,i)}else o=Ik(n,e,t,i,r);return tu(o)}G0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=to(e.pendingLanes);n!==0&&(jf(e,n|1),At(e,ke()),(ie&6)===0&&(cs=ke()+500,br()))}break;case 13:var r=gt();ui(function(){return Kt(t,1,r)}),vp(t,1)}};Vf=function(t){if(t.tag===13){var e=gt();Kt(t,134217728,e),vp(t,134217728)}};Y0=function(t){if(t.tag===13){var e=gt(),n=gr(t);Kt(t,n,e),vp(t,n)}};Q0=function(){return ae};X0=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};hd=function(t,e,n){switch(e){case"input":if(id(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ou(r);if(!i)throw Error(x(90));N0(r),id(r,i)}}}break;case"textarea":x0(t,n);break;case"select":e=n.value,e!=null&&Ki(t,!!n.multiple,e,!1)}};$0=fp;U0=ui;var Ck={usingClientEntryPoint:!1,Events:[ia,Ui,Ou,L0,M0,fp]},Xs={findFiberByHostInstance:Kr,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},kk={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V0(t),t===null?null:t.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qa.isDisabled&&Qa.supportsFiber)try{Au=Qa.inject(kk),_n=Qa}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ck;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ep(e))throw Error(x(200));return _k(t,e,null,n)};$t.createRoot=function(t,e){if(!Ep(t))throw Error(x(299));var n=!1,r="",i=wE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yp(t,1,!1,null,null,n,!1,r,i),t[Kn]=e.current,Oo(t.nodeType===8?t.parentNode:t),new wp(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=V0(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return ui(t)};$t.hydrate=function(t,e,n){if(!ju(e))throw Error(x(200));return Vu(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!Ep(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vE(e,null,t,1,n!=null?n:null,i,!1,s,o),t[Kn]=e.current,Oo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fu(e)};$t.render=function(t,e,n){if(!ju(e))throw Error(x(200));return Vu(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!ju(t))throw Error(x(40));return t._reactRootContainer?(ui(function(){Vu(null,null,t,!1,function(){t._reactRootContainer=null,t[Kn]=null})}),!0):!1};$t.unstable_batchedUpdates=fp;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ju(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return Vu(t,e,n,!1,r)};$t.version="18.1.0-next-22edb9f77-20220426";function EE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EE)}catch(t){console.error(t)}}EE(),Af.exports=$t;var Ak=Af.exports;function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hs.apply(this,arguments)}var Yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yr||(Yr={}));var Cy=function(t){return t},ky="beforeunload",Nk="popstate";function Rk(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function s(){var A=r.location,O=A.pathname,F=A.search,j=A.hash,ce=i.state||{};return[ce.idx,Cy({pathname:O,search:F,hash:j,state:ce.usr||null,key:ce.key||"default"})]}var o=null;function a(){if(o)p.call(o),o=null;else{var A=Yr.Pop,O=s(),F=O[0],j=O[1];if(p.length){if(F!=null){var ce=c-F;ce&&(o={action:A,location:j,retry:function(){k(ce*-1)}},k(ce))}}else m(A)}}r.addEventListener(Nk,a);var l=Yr.Pop,u=s(),c=u[0],h=u[1],d=Ny(),p=Ny();c==null&&(c=0,i.replaceState(hs({},i.state,{idx:c}),""));function y(A){return typeof A=="string"?A:zd(A)}function w(A,O){return O===void 0&&(O=null),Cy(hs({pathname:h.pathname,hash:"",search:""},typeof A=="string"?Ti(A):A,{state:O,key:xk()}))}function I(A,O){return[{usr:A.state,key:A.key,idx:O},y(A)]}function g(A,O,F){return!p.length||(p.call({action:A,location:O,retry:F}),!1)}function m(A){l=A;var O=s();c=O[0],h=O[1],d.call({action:l,location:h})}function v(A,O){var F=Yr.Push,j=w(A,O);function ce(){v(A,O)}if(g(F,j,ce)){var ze=I(j,c+1),en=ze[0],gn=ze[1];try{i.pushState(en,"",gn)}catch{r.location.assign(gn)}m(F)}}function S(A,O){var F=Yr.Replace,j=w(A,O);function ce(){S(A,O)}if(g(F,j,ce)){var ze=I(j,c),en=ze[0],gn=ze[1];i.replaceState(en,"",gn),m(F)}}function k(A){i.go(A)}var _={get action(){return l},get location(){return h},createHref:y,push:v,replace:S,go:k,back:function(){k(-1)},forward:function(){k(1)},listen:function(O){return d.push(O)},block:function(O){var F=p.push(O);return p.length===1&&r.addEventListener(ky,Ay),function(){F(),p.length||r.removeEventListener(ky,Ay)}}};return _}function Ay(t){t.preventDefault(),t.returnValue=""}function Ny(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function xk(){return Math.random().toString(36).substr(2,8)}function zd(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,s=t.hash,o=s===void 0?"":s;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function Ti(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Sp=b.exports.createContext(null),_p=b.exports.createContext(null),oa=b.exports.createContext({outlet:null,matches:[]});function fn(t,e){if(!t)throw new Error(e)}function Ok(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ti(e):e,i=TE(r.pathname||"/",n);if(i==null)return null;let s=SE(t);Dk(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Vk(s[a],i);return o}function SE(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||fn(!1),o.relativePath=o.relativePath.slice(r.length));let a=yr([r,o.relativePath]),l=n.concat(o);i.children&&i.children.length>0&&(i.index===!0&&fn(!1),SE(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:Fk(a,i.index),routesMeta:l})}),e}function Dk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Pk=/^:\w+$/,bk=3,Lk=2,Mk=1,$k=10,Uk=-2,Ry=t=>t==="*";function Fk(t,e){let n=t.split("/"),r=n.length;return n.some(Ry)&&(r+=Uk),e&&(r+=Lk),n.filter(i=>!Ry(i)).reduce((i,s)=>i+(Pk.test(s)?bk:s===""?Mk:$k),r)}function jk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Vk(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Bk({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:yr([i,c.pathname]),pathnameBase:IE(yr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=yr([i,c.pathnameBase]))}return s}function Bk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=Hk(a[h]||""),u},{}),pathname:s,pathnameBase:o,pattern:t}}function zk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function Hk(t,e){try{return decodeURIComponent(t)}catch{return t}}function qk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ti(t):t;return{pathname:n?n.startsWith("/")?n:Wk(n,e):e,search:Gk(r),hash:Yk(i)}}function Wk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _E(t,e,n){let r=typeof t=="string"?Ti(t):t,i=t===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=n;else{let a=e.length-1;if(i.startsWith("..")){let l=i.split("/");for(;l[0]==="..";)l.shift(),a-=1;r.pathname=l.join("/")}s=a>=0?e[a]:"/"}let o=qk(r,s);return i&&i!=="/"&&i.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function Kk(t){return t===""||t.pathname===""?"/":typeof t=="string"?Ti(t).pathname:t.pathname}function TE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const yr=t=>t.join("/").replace(/\/\/+/g,"/"),IE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Gk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Yk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Qk(t){As()||fn(!1);let{basename:e,navigator:n}=b.exports.useContext(Sp),{hash:r,pathname:i,search:s}=CE(t),o=i;if(e!=="/"){let a=Kk(t),l=a!=null&&a.endsWith("/");o=i==="/"?e+(l?"/":""):yr([e,i])}return n.createHref({pathname:o,search:s,hash:r})}function As(){return b.exports.useContext(_p)!=null}function Bu(){return As()||fn(!1),b.exports.useContext(_p).location}function Rn(){As()||fn(!1);let{basename:t,navigator:e}=b.exports.useContext(Sp),{matches:n}=b.exports.useContext(oa),{pathname:r}=Bu(),i=JSON.stringify(n.map(a=>a.pathnameBase)),s=b.exports.useRef(!1);return b.exports.useEffect(()=>{s.current=!0}),b.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=_E(a,JSON.parse(i),r);t!=="/"&&(u.pathname=yr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state)},[t,e,i,r])}function Tp(){let{matches:t}=b.exports.useContext(oa),e=t[t.length-1];return e?e.params:{}}function CE(t){let{matches:e}=b.exports.useContext(oa),{pathname:n}=Bu(),r=JSON.stringify(e.map(i=>i.pathnameBase));return b.exports.useMemo(()=>_E(t,JSON.parse(r),n),[t,r,n])}function Xk(t,e){As()||fn(!1);let{matches:n}=b.exports.useContext(oa),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let o=Bu(),a;if(e){var l;let d=typeof e=="string"?Ti(e):e;s==="/"||((l=d.pathname)==null?void 0:l.startsWith(s))||fn(!1),a=d}else a=o;let u=a.pathname||"/",c=s==="/"?u:u.slice(s.length)||"/",h=Ok(t,{pathname:c});return Jk(h&&h.map(d=>Object.assign({},d,{params:Object.assign({},i,d.params),pathname:yr([s,d.pathname]),pathnameBase:d.pathnameBase==="/"?s:yr([s,d.pathnameBase])})),n)}function Jk(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>b.exports.createElement(oa.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function aa(t){let{to:e,replace:n,state:r}=t;As()||fn(!1);let i=Rn();return b.exports.useEffect(()=>{i(e,{replace:n,state:r})}),null}function Ot(t){fn(!1)}function Zk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Yr.Pop,navigator:s,static:o=!1}=t;As()&&fn(!1);let a=IE(e),l=b.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ti(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:p="default"}=r,y=b.exports.useMemo(()=>{let w=TE(u,a);return w==null?null:{pathname:w,search:c,hash:h,state:d,key:p}},[a,u,c,h,d,p]);return y==null?null:b.exports.createElement(Sp.Provider,{value:l},b.exports.createElement(_p.Provider,{children:n,value:{location:y,navigationType:i}}))}function eA(t){let{children:e,location:n}=t;return Xk(Hd(e),n)}function Hd(t){let e=[];return b.exports.Children.forEach(t,n=>{if(!b.exports.isValidElement(n))return;if(n.type===b.exports.Fragment){e.push.apply(e,Hd(n.props.children));return}n.type!==Ot&&fn(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=Hd(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qd(){return qd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}function tA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const nA=["onClick","reloadDocument","replace","state","target","to"];function rA(t){let{basename:e,children:n,window:r}=t,i=b.exports.useRef();i.current==null&&(i.current=Rk({window:r}));let s=i.current,[o,a]=b.exports.useState({action:s.action,location:s.location});return b.exports.useLayoutEffect(()=>s.listen(a),[s]),b.exports.createElement(Zk,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}function iA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Oe=b.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:o,target:a,to:l}=e,u=tA(e,nA),c=Qk(l),h=sA(l,{replace:s,state:o,target:a});function d(p){r&&r(p),!p.defaultPrevented&&!i&&h(p)}return b.exports.createElement("a",qd({},u,{href:c,onClick:d,ref:n,target:a}))});function sA(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,s=Rn(),o=Bu(),a=CE(t);return b.exports.useCallback(l=>{if(l.button===0&&(!n||n==="_self")&&!iA(l)){l.preventDefault();let u=!!r||zd(o)===zd(a);s(t,{replace:u,state:i})}},[o,s,a,r,i,n,t])}var kE={exports:{}},AE={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=b.exports;function oA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var aA=typeof Object.is=="function"?Object.is:oA,lA=ds.useState,uA=ds.useEffect,cA=ds.useLayoutEffect,hA=ds.useDebugValue;function dA(t,e){var n=e(),r=lA({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return cA(function(){i.value=n,i.getSnapshot=e,Ah(i)&&s({inst:i})},[t,n,e]),uA(function(){return Ah(i)&&s({inst:i}),t(function(){Ah(i)&&s({inst:i})})},[t]),hA(n),n}function Ah(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!aA(t,n)}catch{return!0}}function fA(t,e){return e()}var pA=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?fA:dA;AE.useSyncExternalStore=ds.useSyncExternalStore!==void 0?ds.useSyncExternalStore:pA;kE.exports=AE;var NE={exports:{}},RE={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu=b.exports,mA=kE.exports;function gA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yA=typeof Object.is=="function"?Object.is:gA,vA=mA.useSyncExternalStore,wA=zu.useRef,EA=zu.useEffect,SA=zu.useMemo,_A=zu.useDebugValue;RE.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=wA(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=SA(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return h=y}return h=p}if(y=h,yA(c,p))return y;var w=r(p);return i!==void 0&&i(y,w)?y:(c=p,h=w)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=vA(t,s[0],s[1]);return EA(function(){o.hasValue=!0,o.value=a},[a]),_A(a),a};NE.exports=RE;function TA(t){t()}let xE=TA;const IA=t=>xE=t,CA=()=>xE,Ir=CI.createContext(null);function OE(){return b.exports.useContext(Ir)}const kA=()=>{throw new Error("uSES not initialized!")};let DE=kA;const AA=t=>{DE=t},NA=(t,e)=>t===e;function RA(t=Ir){const e=t===Ir?OE:()=>b.exports.useContext(t);return function(r,i=NA){const{store:s,subscription:o,getServerState:a}=e(),l=DE(o.addNestedSub,s.getState,a||s.getState,r,i);return b.exports.useDebugValue(l),l}}const Ft=RA();function xA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var PE={exports:{}},le={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Be=typeof Symbol=="function"&&Symbol.for,Ip=Be?Symbol.for("react.element"):60103,Cp=Be?Symbol.for("react.portal"):60106,Hu=Be?Symbol.for("react.fragment"):60107,qu=Be?Symbol.for("react.strict_mode"):60108,Wu=Be?Symbol.for("react.profiler"):60114,Ku=Be?Symbol.for("react.provider"):60109,Gu=Be?Symbol.for("react.context"):60110,kp=Be?Symbol.for("react.async_mode"):60111,Yu=Be?Symbol.for("react.concurrent_mode"):60111,Qu=Be?Symbol.for("react.forward_ref"):60112,Xu=Be?Symbol.for("react.suspense"):60113,OA=Be?Symbol.for("react.suspense_list"):60120,Ju=Be?Symbol.for("react.memo"):60115,Zu=Be?Symbol.for("react.lazy"):60116,DA=Be?Symbol.for("react.block"):60121,PA=Be?Symbol.for("react.fundamental"):60117,bA=Be?Symbol.for("react.responder"):60118,LA=Be?Symbol.for("react.scope"):60119;function jt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ip:switch(t=t.type,t){case kp:case Yu:case Hu:case Wu:case qu:case Xu:return t;default:switch(t=t&&t.$$typeof,t){case Gu:case Qu:case Zu:case Ju:case Ku:return t;default:return e}}case Cp:return e}}}function bE(t){return jt(t)===Yu}le.AsyncMode=kp;le.ConcurrentMode=Yu;le.ContextConsumer=Gu;le.ContextProvider=Ku;le.Element=Ip;le.ForwardRef=Qu;le.Fragment=Hu;le.Lazy=Zu;le.Memo=Ju;le.Portal=Cp;le.Profiler=Wu;le.StrictMode=qu;le.Suspense=Xu;le.isAsyncMode=function(t){return bE(t)||jt(t)===kp};le.isConcurrentMode=bE;le.isContextConsumer=function(t){return jt(t)===Gu};le.isContextProvider=function(t){return jt(t)===Ku};le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ip};le.isForwardRef=function(t){return jt(t)===Qu};le.isFragment=function(t){return jt(t)===Hu};le.isLazy=function(t){return jt(t)===Zu};le.isMemo=function(t){return jt(t)===Ju};le.isPortal=function(t){return jt(t)===Cp};le.isProfiler=function(t){return jt(t)===Wu};le.isStrictMode=function(t){return jt(t)===qu};le.isSuspense=function(t){return jt(t)===Xu};le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hu||t===Yu||t===Wu||t===qu||t===Xu||t===OA||typeof t=="object"&&t!==null&&(t.$$typeof===Zu||t.$$typeof===Ju||t.$$typeof===Ku||t.$$typeof===Gu||t.$$typeof===Qu||t.$$typeof===PA||t.$$typeof===bA||t.$$typeof===LA||t.$$typeof===DA)};le.typeOf=jt;PE.exports=le;var LE=PE.exports,MA={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$A={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ME={};ME[LE.ForwardRef]=MA;ME[LE.Memo]=$A;var ue={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap=Symbol.for("react.element"),Np=Symbol.for("react.portal"),ec=Symbol.for("react.fragment"),tc=Symbol.for("react.strict_mode"),nc=Symbol.for("react.profiler"),rc=Symbol.for("react.provider"),ic=Symbol.for("react.context"),UA=Symbol.for("react.server_context"),sc=Symbol.for("react.forward_ref"),oc=Symbol.for("react.suspense"),ac=Symbol.for("react.suspense_list"),lc=Symbol.for("react.memo"),uc=Symbol.for("react.lazy"),FA=Symbol.for("react.offscreen"),$E;$E=Symbol.for("react.module.reference");function Jt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ap:switch(t=t.type,t){case ec:case nc:case tc:case oc:case ac:return t;default:switch(t=t&&t.$$typeof,t){case UA:case ic:case sc:case uc:case lc:case rc:return t;default:return e}}case Np:return e}}}ue.ContextConsumer=ic;ue.ContextProvider=rc;ue.Element=Ap;ue.ForwardRef=sc;ue.Fragment=ec;ue.Lazy=uc;ue.Memo=lc;ue.Portal=Np;ue.Profiler=nc;ue.StrictMode=tc;ue.Suspense=oc;ue.SuspenseList=ac;ue.isAsyncMode=function(){return!1};ue.isConcurrentMode=function(){return!1};ue.isContextConsumer=function(t){return Jt(t)===ic};ue.isContextProvider=function(t){return Jt(t)===rc};ue.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ap};ue.isForwardRef=function(t){return Jt(t)===sc};ue.isFragment=function(t){return Jt(t)===ec};ue.isLazy=function(t){return Jt(t)===uc};ue.isMemo=function(t){return Jt(t)===lc};ue.isPortal=function(t){return Jt(t)===Np};ue.isProfiler=function(t){return Jt(t)===nc};ue.isStrictMode=function(t){return Jt(t)===tc};ue.isSuspense=function(t){return Jt(t)===oc};ue.isSuspenseList=function(t){return Jt(t)===ac};ue.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ec||t===nc||t===tc||t===oc||t===ac||t===FA||typeof t=="object"&&t!==null&&(t.$$typeof===uc||t.$$typeof===lc||t.$$typeof===rc||t.$$typeof===ic||t.$$typeof===sc||t.$$typeof===$E||t.getModuleId!==void 0)};ue.typeOf=Jt;function jA(){const t=CA();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const xy={notify(){},get:()=>[]};function VA(t,e){let n,r=xy;function i(h){return l(),r.subscribe(h)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return Boolean(n)}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=jA())}function u(){n&&(n(),n=void 0,r.clear(),r=xy)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const BA=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",zA=BA?b.exports.useLayoutEffect:b.exports.useEffect;var Rp={exports:{}},cc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA=b.exports,qA=Symbol.for("react.element"),WA=Symbol.for("react.fragment"),KA=Object.prototype.hasOwnProperty,GA=HA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YA={key:!0,ref:!0,__self:!0,__source:!0};function UE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KA.call(e,r)&&!YA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qA,type:t,key:s,ref:o,props:i,_owner:GA.current}}cc.Fragment=WA;cc.jsx=UE;cc.jsxs=UE;Rp.exports=cc;const f=Rp.exports.jsx,N=Rp.exports.jsxs;function QA({store:t,context:e,children:n,serverState:r}){const i=b.exports.useMemo(()=>{const a=VA(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=b.exports.useMemo(()=>t.getState(),[t]);return zA(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]),f((e||Ir).Provider,{value:i,children:n})}function FE(t=Ir){const e=t===Ir?OE:()=>b.exports.useContext(t);return function(){const{store:r}=e();return r}}const XA=FE();function JA(t=Ir){const e=t===Ir?XA:FE(t);return function(){return e().dispatch}}const Vt=JA();AA(NE.exports.useSyncExternalStoreWithSelector);IA(Af.exports.unstable_batchedUpdates);var jE="/assets/logo.0403d3de.png",ZA="/assets/CocineroIconColor.85b847d3.png",eN="/assets/CortacespedIconColor.8298d8ff.png",tN="/assets/LimpiadorIconColor.319b7f95.png",nN="/assets/LimpiapiscinasIconColor.b7e7275c.png",rN="/assets/cocineroicon_darkblue.44d75f86.png",iN="/assets/cortacespedicon_darkblue.d313354f.png",sN="/assets/limpiadoricon_darkblue.c8b8a617.png",oN="/assets/mantenimientoicon_darkblue.b3e3ff49.png";const VE=["Cocinero","Limpieza del hogar","Cortacesped","Mantenimiento de piscinas"],la=t=>{if(!t||!Array.isArray(t.userRoles))return!1;const{userRoles:e}=t;return!!e.includes("admin")},aN=t=>{switch(t){case"Cocinero":return ZA;case"Limpieza del hogar":return tN;case"Cortacesped":return eN;case"Mantenimiento de piscinas":return nN;default:return null}},BE=t=>{switch(t){case"Cocinero":return rN;case"Limpieza del hogar":return sN;case"Cortacesped":return iN;case"Mantenimiento de piscinas":return oN;default:return null}},lN=["\xC1lava","Albacete","Alicante","Almer\xEDa","Asturias","\xC1vila","Badajoz","Barcelona","Burgos","C\xE1ceres","C\xE1diz","Cantabria","Castell\xF3n","Ciudad Real","C\xF3rdoba","La Coru\xF1a","Cuenca","Gerona","Granada","Guadalajara","Guip\xFAzcoa","Huelva","Huesca","Islas Baleares","Ja\xE9n","Le\xF3n","L\xE9rida","Lugo","Madrid","M\xE1laga","Murcia","Navarra","Orense","Palencia","Las Palmas","Pontevedra","La Rioja","Salamanca","Segovia","Sevilla","Soria","Tarragona","Santa Cruz de Tenerife","Teruel","Toledo","Valencia","Valladolid","Vizcaya","Zamora","Zaragoza"],uN=t=>{const e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return n<10?`${e}-0${n}-${r}`:`${e}-${n}-${r}`},Ue={EMAIL_SIGN_IN_START:"EMAIL_SIGN_IN_START",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",CHECK_USER_SESSION:"CHECK_USER_SESSION",SIGN_OUT_USER_START:"SIGN_OUT_USER_START",SIGN_OUT_USER_SUCCESS:"SIGN_OUT_USER_SUCCESS",SIGN_IN_ERROR:"SIGN_IN_ERROR",GOOGLE_SIGN_IN_START:"GOOGLE_SIGN_IN_START",SIGN_UP_START:"SIGN_UP_START",SIGN_UP_ERROR:"SIGN_UP_ERROR"},cN=(t,e)=>({type:Ue.EMAIL_SIGN_IN_START,payload:t,password:e}),hN=t=>({type:Ue.SIGN_IN_SUCCESS,payload:t}),dN=()=>({type:Ue.CHECK_USER_SESSION}),hc=()=>({type:Ue.SIGN_OUT_USER_START}),fN=()=>({type:Ue.SIGN_OUT_USER_SUCCESS}),pN=t=>({type:Ue.SIGN_IN_ERROR,payload:t}),mN=()=>({type:Ue.GOOGLE_SIGN_IN_START}),gN=(t,e,n)=>({type:Ue.SIGN_UP_START,payload:t,email:e,password:n}),yN=t=>({type:Ue.SIGN_UP_ERROR,payload:t});var nu="NOT_FOUND";function vN(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:nu},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function wN(t,e){var n=[];function r(a){var l=n.findIndex(function(c){return e(a,c.key)});if(l>-1){var u=n[l];return l>0&&(n.splice(l,1),n.unshift(u)),u.value}return nu}function i(a,l){r(a)===nu&&(n.unshift({key:a,value:l}),n.length>t&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var EN=function(e,n){return e===n};function SN(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!t(n[s],r[s]))return!1;return!0}}function _N(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?EN:r,s=n.maxSize,o=s===void 0?1:s,a=n.resultEqualityCheck,l=SN(i),u=o===1?vN(l):wN(o,l);function c(){var h=u.get(arguments);if(h===nu){if(h=t.apply(null,arguments),a){var d=u.getEntries(),p=d.find(function(y){return a(y.value,h)});p&&(h=p.value)}u.put(arguments,h)}return h}return c.clearCache=function(){return u.clear()},c}function TN(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function IN(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var u=0,c,h={memoizeOptions:void 0},d=a.pop();if(typeof d=="object"&&(h=d,d=a.pop()),typeof d!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof d+"]");var p=h,y=p.memoizeOptions,w=y===void 0?n:y,I=Array.isArray(w)?w:[w],g=TN(a),m=t.apply(void 0,[function(){return u++,d.apply(null,arguments)}].concat(I)),v=t(function(){for(var k=[],_=g.length,A=0;A<_;A++)k.push(g[A].apply(null,arguments));return c=m.apply(null,k),c});return Object.assign(v,{resultFunc:d,memoizedResultFunc:m,dependencies:g,lastResult:function(){return c},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),v};return i}var dc=IN(_N),zE=function(e,n){if(n===void 0&&(n=dc),typeof e!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof e));var r=Object.keys(e),i=n(r.map(function(s){return e[s]}),function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return o.reduce(function(l,u,c){return l[r[c]]=u,l},{})});return i};const CN=t=>t.cartData,fc=dc([CN],t=>t.cartItems),HE=dc([fc],t=>t.reduce((e,n)=>e+n.quantity,0)),qE=dc([fc],t=>t.reduce((e,n)=>e+n.quantity*n.precio,0));const kN=t=>({currentUser:t.user.currentUser,totalNumCartItems:HE(t)}),WE=t=>{const{currentUser:e,totalNumCartItems:n}=Ft(kN),r=la(e),i=Vt(),[s,o]=b.exports.useState(!1),a=()=>{i(hc())},l=()=>{o(!s)};return N("header",{className:"header",children:[r?f("div",{className:"adminuser",children:f("ul",{children:f(Oe,{to:"/adminpanel",children:f("li",{children:"Panel de administrador"})})})}):null,N("div",{className:"bottomheader",children:[f("div",{className:"logo",children:f(Oe,{to:"/",children:f("img",{loading:"lazy",src:jE,alt:"Wipehouse"})})}),f("nav",{className:"middlemenu",children:N("ul",{children:[f("li",{children:N(Oe,{to:"/",children:[f("i",{className:"bi bi-house"}),"Inicio"]})}),f("li",{children:N(Oe,{to:"/search",children:[f("i",{className:"bi bi-search"}),"Buscar"]})})]})}),f("nav",{className:"menu",children:N("ul",{children:[f("li",{children:N(Oe,{to:"/carro",children:[f("i",{className:"bi bi-cart"}),"Mi carrito (",n,")"]})}),e&&[f("li",{children:N(Oe,{to:"/account",children:[f("i",{className:"bi bi-person"}),"Cuenta"]})},1),f("li",{children:N("span",{onClick:a,children:[f("i",{className:"bi bi-box-arrow-left"}),"Salir"]})},2)],!e&&[f("li",{children:N(Oe,{to:"/login",children:[f("i",{className:"bi bi-box-arrow-in-right"}),"Entrar"]})},1),f("li",{children:N(Oe,{to:"/register",children:[f("i",{className:"bi bi-pencil-square"}),"Registrarse"]})},2)]]})}),N("div",{className:"mobileMenu",onClick:()=>l(),children:[f("i",{className:s?"bi bi-list close":"bi bi-list open"}),f("i",{className:s?"bi bi-x-circle red open":"bi bi-x-circle red close"})]}),s?f("div",{className:"openMobileMenu",children:N("ul",{children:[f("li",{children:N(Oe,{to:"/",children:[f("i",{className:"bi bi-house"}),"Inicio"]})}),f("li",{children:N(Oe,{to:"/search",children:[f("i",{className:"bi bi-search"}),"Buscar"]})}),f("li",{children:N(Oe,{to:"/carro",children:[f("i",{className:"bi bi-cart"}),"Mi carrito (",n,")"]})}),e&&[f("li",{children:N(Oe,{to:"/account",children:[f("i",{className:"bi bi-person"}),"Cuenta"]})},1),f("li",{children:N("span",{onClick:a,children:[f("i",{className:"bi bi-box-arrow-left"}),"Salir"]})},2)],!e&&[f("li",{children:N(Oe,{to:"/login",children:[f("i",{className:"bi bi-box-arrow-in-right"}),"Entrar"]})},1),f("li",{children:N(Oe,{to:"/register",children:[f("i",{className:"bi bi-pencil-square"}),"Registrarse"]})},2)]]})}):null]})]})};WE.defaultProps={currentUser:null};const kn=({type:t,children:e,buttonclick:n,buttonName:r})=>f("button",{className:"lightbluebuttom",type:t,onClick:n,name:r,children:e}),Xa=({tittle:t,buttonOnClick:e})=>N("div",{className:"card",children:[f("img",{loading:"lazy",src:aN(t),alt:t}),N("div",{className:"inside",children:[f("h2",{children:t}),f(kn,{buttonclick:e,children:"Comprar"})]})]});var AN="/assets/sample1.ae2dc33a.png";var NN="/assets/movilMockup.e4884131.png",RN="/assets/dowloadGooglePlay.215e4644.png";const xN=()=>{const t=Rn(),e=n=>{t(`search/${n}`)};return N("section",{className:"homepage",children:[N("div",{className:"about",children:[N("div",{className:"insideabout",children:[f("h1",{children:"Wipehouse"}),f("p",{children:"Wipehouse es una plataforma dedicada a ofrecer servicios del hogar. Permite conectar a trabajadores con clientes. En nuestra web podr\xE1s encontrar distintas categor\xEDas para los servicios que est\xE9s buscando. Y en pocos clics podr\xE1s realizar tu pedido de manera sencilla y r\xE1pida. Si tienes alg\xFAn problema no dudes en ponerte en contacto con nosotros "})]}),f("img",{loading:"lazy",className:"render",src:AN,alt:"Limpiador sample"})]}),N("div",{className:"productshome",children:[f(Xa,{tittle:"Cocinero",buttonOnClick:()=>e("Cocinero")}),f(Xa,{tittle:"Limpieza del hogar",buttonOnClick:()=>e("Limpieza del hogar")}),f(Xa,{tittle:"Cortacesped",buttonOnClick:()=>e("Cortacesped")}),f(Xa,{tittle:"Mantenimiento de piscinas",buttonOnClick:()=>e("Mantenimiento de piscinas")})]}),N("div",{className:"mobileApp",children:[f("a",{href:"https://github.com/IgnacioLF/Wipehouse",target:"blank",children:f("img",{loading:"lazy",className:"mobileMockup",src:NN,alt:"Wipehouse aplicaci\xF3n m\xF3vil"})}),N("div",{className:"insideMobile",children:[f("h2",{children:"Aplicaci\xF3n m\xF3vil"}),f("p",{children:"Tambi\xE9n puedes disfrutar de nuestros servicios utilizando nuestra aplicaci\xF3n m\xF3vil. Donde podr\xE1s encontrar de forma r\xE1pida los trabajadores de tu comunidad aut\xF3noma. Ademas puedes anunciarte tu mismo para realizar servicios del hogar."}),f("a",{href:"https://github.com/IgnacioLF/Wipehouse",target:"blank",children:f("img",{loading:"lazy",src:RN})})]})]})]})};const Pe=({label:t,inputtype:e,inputvalue:n,inputonchange:r,inputname:i,inputonBlur:s,errorform:o,inputmin:a})=>(o&&(o="formfielderror"),N("div",{className:"insidewrap",children:[f("label",{children:t}),f("input",{className:o,type:e,value:n,onChange:r,name:i,onBlur:s,min:a})]}));const fs=({type:t,children:e,buttonclick:n})=>f("button",{className:"bluebuttom",type:t,onClick:n,children:e});const de=({mensaje:t})=>N("div",{className:"error",children:[f("i",{className:"bi bi-exclamation-diamond-fill"})," ",t]}),KE=t=>{if(t){if(!new RegExp(/\S+@\S+\.\S+/).test(t))return"Email con formato incorrecto"}else return"Email es requerido";return""},ON=t=>{if(t){if(t.length<8)return"Contrase\xF1a tiene que ser mayor que 8 caracteres"}else return"Contrase\xF1a es requerida";return""},DN=(t,e)=>{if(t){if(t.length<8)return"Repetir contrase\xF1a tiene que ser mayor que 8 caracteres";if(t!==e.password)return"Repetir contrasela no coincide con contrase\xF1a"}else return"Repetir contrase\xF1a es requerida";return""},GE=t=>{if(t){if(t.length<4)return"Nombre tiene que ser mayor que 4 caracteres"}else return"Nombre es requerido";return""},Sn=t=>t?"":"Debe rellenar el campo",PN=t=>{if(t){if(t.length<6)return"Apellidos tiene que ser mayor que 4 caracteres"}else return"Apellidos son requeridos";return""},bN=t=>{if(t){if(!new RegExp(/[0-9]{7,8}[A-Z]/).test(t))return"DNI con formato incorrecto"}else return"DNI es requerido";return""},LN=t=>{if(t){if(!new RegExp(/^(?:0[1-9]|[1-4]\d|5[0-2])\d{3}$/).test(t))return"C\xF3digo Postal con formato incorrecto"}else return"C\xF3digo Postal es requerido";return""},MN=t=>{if(t){if(!new RegExp(/(\+34|0034|34)?[ -]*(6|7)[ -]*([0-9][ -]*){8}/).test(t))return"Tel\xE9fono con formato incorrecto"}else return"Tel\xE9fono es requerido";return""},$N=t=>{if(t){if(!new RegExp(/^(?:4\d([\- ])?\d{6}\1\d{5}|(?:4\d{3}|5[1-5]\d{2}|6011)([\- ])?\d{4}\2\d{4}\2\d{4})$/).test(t))return"N\xFAmero de la tarjeta con formato incorrecto"}else return"N\xFAmero de la tarjeta es requerido";return""},UN=t=>{if(t){if(!new RegExp(/^[0-9]{3,4}$/).test(t))return"CCV con formato incorrecto"}else return"CCV es requerido";return""},FN=t=>{if(t){if(t<1||t>12)return"El mes introducido es incorrecto"}else return"Fecha de caducidad es requerida";return""},jN=t=>{if(t){if(t<1||t>99)return"El a\xF1o introducido es incorrecto"}else return"Fecha de caducidad es requerida";return""},VN=t=>Object.entries(t).reduce((e,[n,r])=>(e[n]=Z(H({},r),{touched:!0}),e),{}),BN=t=>{const[e,n]=b.exports.useState({nombre:{touched:!1,error:!1,message:""},email:{touched:!1,error:!1,message:""},password:{touched:!1,error:!1,message:""},confirmPassword:{touched:!1,error:!1,message:""}}),r=({form:s,field:o,errors:a,forceTouchErrors:l=!1})=>{let u=!0,c=JSON.parse(JSON.stringify(a));l&&(c=VN(a));const{nombre:h,email:d,password:p,confirmPassword:y}=s;if(c.nombre.touched&&(o?o==="nombre":!0)){const w=GE(h);c.nombre.error=!!w,c.nombre.message=w,w&&(u=!1)}if(c.email.touched&&(o?o==="email":!0)){const w=KE(d);c.email.error=!!w,c.email.message=w,w&&(u=!1)}if(c.password.touched&&(o?o==="password":!0)){const w=ON(p);c.password.error=!!w,c.password.message=w,w&&(u=!1)}if(c.confirmPassword.touched&&(o?o==="confirmPassword":!0)){const w=DN(y,s);c.confirmPassword.error=!!w,c.confirmPassword.message=w,w&&(u=!1)}return n(c),{isValid:u,errors:c}};return{validateForm:r,onBlurField:s=>{const o=s.target.name;if(e[o].touched)return;const l=Z(H({},e),{[o]:Z(H({},e[o]),{touched:!0})});r({form:t,field:o,errors:l})},errors:e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},QE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const d=s<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},HN=function(t){const e=YE(t);return QE.encodeByteArray(e,!0)},XE=function(t){return HN(t).replace(/\./g,"")},qN=function(t){try{return QE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ru(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!WN(n)||(t[n]=ru(t[n],e[n]));return t}function WN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JE(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function GN(){return typeof self=="object"&&self.self===self}function ZE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YN(){return Fe().indexOf("Electron/")>=0}function tS(){const t=Fe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QN(){return Fe().indexOf("MSAppHost/")>=0}function XN(){return typeof indexedDB=="object"}function JN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="FirebaseError";class Lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZN,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ii.prototype.create)}}class Ii{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?eR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Lr(i,a,r)}}function eR(t,e){return t.replace(tR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const tR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function iu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Dy(s)&&Dy(o)){if(!iu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Dy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ro(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function io(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nS(t,e){const n=new rR(t,e);return n.subscribe.bind(n)}class rR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nh),i.error===void 0&&(i.error=Nh),i.complete===void 0&&(i.complete=Nh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class Cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aR(e))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qr){return this.instances.has(e)}getOptions(e=qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qr){return this.component?this.component.multipleInstances?e:qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oR(t){return t===qr?void 0:t}function aR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=[];var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const rS={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},uR=se.INFO,cR={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},hR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pc{constructor(e){this.name=e,this._logLevel=uR,this._logHandler=hR,this._userLogHandler=null,xp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}function dR(t){xp.forEach(e=>{e.setLogLevel(t)})}function fR(t,e){for(const n of xp){let r=null;e&&e.level&&(r=rS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r!=null?r:i.logLevel)&&t({level:se[s].toLowerCase(),message:a,args:o,type:i.name})}}}const pR=(t,e)=>e.some(n=>t instanceof n);let Py,by;function mR(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gR(){return by||(by=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iS=new WeakMap,Wd=new WeakMap,sS=new WeakMap,Rh=new WeakMap,Op=new WeakMap;function yR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iS.set(n,t)}).catch(()=>{}),Op.set(e,t),e}function vR(t){if(Wd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wd.set(t,e)}let Kd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wR(t){Kd=t(Kd)}function ER(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xh(this),e,...n);return sS.set(r,e.sort?e.sort():[e]),vr(r)}:gR().includes(t)?function(...e){return t.apply(xh(this),e),vr(iS.get(this))}:function(...e){return vr(t.apply(xh(this),e))}}function SR(t){return typeof t=="function"?ER(t):(t instanceof IDBTransaction&&vR(t),pR(t,mR())?new Proxy(t,Kd):t)}function vr(t){if(t instanceof IDBRequest)return yR(t);if(Rh.has(t))return Rh.get(t);const e=SR(t);return e!==t&&(Rh.set(t,e),Op.set(e,t)),e}const xh=t=>Op.get(t);function _R(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vr(o.result),l.oldVersion,l.newVersion,vr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const TR=["get","getKey","getAll","getAllKeys","count"],IR=["put","add","delete","clear"],Oh=new Map;function Ly(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Oh.get(e))return Oh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Oh.set(e,s),s}wR(t=>Z(H({},t),{get:(e,n,r)=>Ly(e,n)||t.get(e,n,r),has:(e,n)=>!!Ly(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gd="@firebase/app",My="0.7.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new pc("@firebase/app"),AR="@firebase/app-compat",NR="@firebase/analytics-compat",RR="@firebase/analytics",xR="@firebase/app-check-compat",OR="@firebase/app-check",DR="@firebase/auth",PR="@firebase/auth-compat",bR="@firebase/database",LR="@firebase/database-compat",MR="@firebase/functions",$R="@firebase/functions-compat",UR="@firebase/installations",FR="@firebase/installations-compat",jR="@firebase/messaging",VR="@firebase/messaging-compat",BR="@firebase/performance",zR="@firebase/performance-compat",HR="@firebase/remote-config",qR="@firebase/remote-config-compat",WR="@firebase/storage",KR="@firebase/storage-compat",GR="@firebase/firestore",YR="@firebase/firestore-compat",QR="firebase",XR="9.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]",JR={[Gd]:"fire-core",[AR]:"fire-core-compat",[RR]:"fire-analytics",[NR]:"fire-analytics-compat",[OR]:"fire-app-check",[xR]:"fire-app-check-compat",[DR]:"fire-auth",[PR]:"fire-auth-compat",[bR]:"fire-rtdb",[LR]:"fire-rtdb-compat",[MR]:"fire-fn",[$R]:"fire-fn-compat",[UR]:"fire-iid",[FR]:"fire-iid-compat",[jR]:"fire-fcm",[VR]:"fire-fcm-compat",[BR]:"fire-perf",[zR]:"fire-perf-compat",[HR]:"fire-rc",[qR]:"fire-rc-compat",[WR]:"fire-gcs",[KR]:"fire-gcs-compat",[GR]:"fire-fst",[YR]:"fire-fst-compat","fire-js":"fire-js",[QR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new Map,jo=new Map;function su(t,e){try{t.container.addComponent(e)}catch(n){Dp.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oS(t,e){t.container.addOrOverwriteComponent(e)}function Ar(t){const e=t.name;if(jo.has(e))return Dp.debug(`There were multiple attempts to register component ${e}.`),!1;jo.set(e,t);for(const n of kr.values())su(n,t);return!0}function ca(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ZR(t,e,n=ci){ca(t,e).clearInstance(n)}function ex(){jo.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},Nr=new Ii("app","Firebase",tx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=XR;function Pp(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:ci,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Nr.create("bad-app-name",{appName:String(r)});const i=kr.get(r);if(i){if(iu(t,i.options)&&iu(n,i.config))return i;throw Nr.create("duplicate-app",{appName:r})}const s=new lR(r);for(const a of jo.values())s.addComponent(a);const o=new nx(t,n,s);return kr.set(r,o),o}function bp(t=ci){const e=kr.get(t);if(!e)throw Nr.create("no-app",{appName:t});return e}function rx(){return Array.from(kr.values())}async function aS(t){const e=t.name;kr.has(e)&&(kr.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function hn(t,e,n){var r;let i=(r=JR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dp.warn(a.join(" "));return}Ar(new Cr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function lS(t,e){if(t!==null&&typeof t!="function")throw Nr.create("invalid-log-argument");fR(t,e)}function uS(t){dR(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="firebase-heartbeat-database",sx=1,Vo="firebase-heartbeat-store";let Dh=null;function cS(){return Dh||(Dh=_R(ix,sx,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vo)}}}).catch(t=>{throw Nr.create("storage-open",{originalErrorMessage:t.message})})),Dh}async function ox(t){try{return(await cS()).transaction(Vo).objectStore(Vo).get(hS(t))}catch(e){throw Nr.create("storage-get",{originalErrorMessage:e.message})}}async function $y(t,e){try{const r=(await cS()).transaction(Vo,"readwrite");return await r.objectStore(Vo).put(e,hS(t)),r.done}catch(n){throw Nr.create("storage-set",{originalErrorMessage:n.message})}}function hS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=1024,lx=30*24*60*60*1e3;class ux{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Uy();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=lx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uy(),{heartbeatsToSend:n,unsentEntries:r}=cx(this._heartbeatsCache.heartbeats),i=XE(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Uy(){return new Date().toISOString().substring(0,10)}function cx(t,e=ax){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Fy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Fy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XN()?JN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ox(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $y(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $y(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Fy(t){return XE(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t){Ar(new Cr("platform-logger",e=>new CR(e),"PRIVATE")),Ar(new Cr("heartbeat",e=>new ux(e),"PRIVATE")),hn(Gd,My,t),hn(Gd,My,"esm2017"),hn("fire-js","")}dx("");var fx=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:Ci,_DEFAULT_ENTRY_NAME:ci,_addComponent:su,_addOrOverwriteComponent:oS,_apps:kr,_clearComponents:ex,_components:jo,_getProvider:ca,_registerComponent:Ar,_removeServiceInstance:ZR,deleteApp:aS,getApp:bp,getApps:rx,initializeApp:Pp,onLog:lS,registerVersion:hn,setLogLevel:uS,FirebaseError:Lr},Symbol.toStringTag,{value:"Module"})),px="firebase",mx="9.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn(px,mx,"app");const gx={apiKey:"AIzaSyAbDVL8DyQTz8_3mak99xnWtuVLl0RE7o8",authDomain:"wipehouse-web.firebaseapp.com",projectId:"wipehouse-web",storageBucket:"wipehouse-web.appspot.com",messagingSenderId:"116729905813",appId:"1:116729905813:web:0b06748f05919f6cc5d19c",measurementId:"G-VKHVDCVVN7"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this._delegate=e,this.firebase=n,su(e,new Cr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),aS(this._delegate)))}_getService(e,n=ci){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ci){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){su(this._delegate,e)}_addOrOverwriteComponent(e){oS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},jy=new Ii("app-compat","Firebase",vx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:hn,setLogLevel:uS,onLog:lS,apps:null,SDK_VERSION:Ci,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:fx}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||ci,!Oy(e,u))throw jy.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const h=Pp(u,c);if(Oy(e,h.name))return e[h.name];const d=new t(h,n);return e[h.name]=d,d}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,h=c.replace("-compat","");if(Ar(u)&&u.type==="PUBLIC"){const d=(p=i())=>{if(typeof p[h]!="function")throw jy.create("invalid-app-argument",{appName:c});return p[h]()};u.serviceProps!==void 0&&ru(d,u.serviceProps),n[h]=d,t.prototype[h]=function(...p){return this._getService.bind(this,c).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?n[h]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){const t=wx(yx);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:dS,extendNamespace:e,createSubscribe:nS,ErrorFactory:Ii,deepExtend:ru});function e(n){ru(t,n)}return t}const Ex=dS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=new pc("@firebase/app-compat"),Sx="@firebase/app-compat",_x="0.1.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){hn(Sx,_x,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(GN()&&self.firebase!==void 0){Vy.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Vy.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const fS=Ex;Tx();var Ix="firebase",Cx="9.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fS.registerVersion(Ix,Cx,"app-compat");var kx=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},U,Lp=Lp||{},W=kx||self;function ou(){}function Yd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ha(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Ax(t){return Object.prototype.hasOwnProperty.call(t,Ph)&&t[Ph]||(t[Ph]=++Nx)}var Ph="closure_uid_"+(1e9*Math.random()>>>0),Nx=0;function Rx(t,e,n){return t.call.apply(t.bind,arguments)}function xx(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ge(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ge=Rx:Ge=xx,Ge.apply(null,arguments)}function Ja(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ze(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Mr(){this.s=this.s,this.o=this.o}var Ox=0;Mr.prototype.s=!1;Mr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Ox!=0)&&Ax(this)};Mr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},mS=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Dx(t){e:{var e=TO;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function By(t){return Array.prototype.concat.apply([],arguments)}function Mp(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function au(t){return/^[\s\xa0]*$/.test(t)}var zy=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ht(t,e){return t.indexOf(e)!=-1}function bh(t,e){return t<e?-1:t>e?1:0}var dt;e:{var Hy=W.navigator;if(Hy){var qy=Hy.userAgent;if(qy){dt=qy;break e}}dt=""}function $p(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function gS(t){const e={};for(const n in t)e[n]=t[n];return e}var Wy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yS(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Wy.length;s++)n=Wy[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Up(t){return Up[" "](t),t}Up[" "]=ou;function Px(t){var e=Mx;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var bx=ht(dt,"Opera"),ps=ht(dt,"Trident")||ht(dt,"MSIE"),vS=ht(dt,"Edge"),Qd=vS||ps,wS=ht(dt,"Gecko")&&!(ht(dt.toLowerCase(),"webkit")&&!ht(dt,"Edge"))&&!(ht(dt,"Trident")||ht(dt,"MSIE"))&&!ht(dt,"Edge"),Lx=ht(dt.toLowerCase(),"webkit")&&!ht(dt,"Edge");function ES(){var t=W.document;return t?t.documentMode:void 0}var lu;e:{var Lh="",Mh=function(){var t=dt;if(wS)return/rv:([^\);]+)(\)|;)/.exec(t);if(vS)return/Edge\/([\d\.]+)/.exec(t);if(ps)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Lx)return/WebKit\/(\S+)/.exec(t);if(bx)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Mh&&(Lh=Mh?Mh[1]:""),ps){var $h=ES();if($h!=null&&$h>parseFloat(Lh)){lu=String($h);break e}}lu=Lh}var Mx={};function $x(){return Px(function(){let t=0;const e=zy(String(lu)).split("."),n=zy("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=bh(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||bh(i[2].length==0,s[2].length==0)||bh(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Xd;if(W.document&&ps){var Ky=ES();Xd=Ky||parseInt(lu,10)||void 0}else Xd=void 0;var Ux=Xd,Fx=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{W.addEventListener("test",ou,e),W.removeEventListener("test",ou,e)}catch{}return t}();function ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};function Bo(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(wS){e:{try{Up(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:jx[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bo.Z.h.call(this)}}Ze(Bo,ot);var jx={2:"touch",3:"pen",4:"mouse"};Bo.prototype.h=function(){Bo.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var da="closure_listenable_"+(1e6*Math.random()|0),Vx=0;function Bx(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Vx,this.ca=this.fa=!1}function mc(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function gc(t){this.src=t,this.g={},this.h=0}gc.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Zd(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new Bx(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function Jd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=pS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(mc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Zd(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var Fp="closure_lm_"+(1e6*Math.random()|0),Uh={};function SS(t,e,n,r,i){if(r&&r.once)return TS(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)SS(t,e[s],n,r,i);return null}return n=Bp(n),t&&t[da]?t.N(e,n,ha(r)?!!r.capture:!!r,i):_S(t,e,n,!1,r,i)}function _S(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ha(i)?!!i.capture:!!i,a=Vp(t);if(a||(t[Fp]=a=new gc(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=zx(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Fx||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(CS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function zx(){function t(n){return e.call(t.src,t.listener,n)}var e=Hx;return t}function TS(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)TS(t,e[s],n,r,i);return null}return n=Bp(n),t&&t[da]?t.O(e,n,ha(r)?!!r.capture:!!r,i):_S(t,e,n,!0,r,i)}function IS(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)IS(t,e[s],n,r,i);else r=ha(r)?!!r.capture:!!r,n=Bp(n),t&&t[da]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Zd(s,n,r,i),-1<n&&(mc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Vp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Zd(e,n,r,i)),(n=-1<t?e[t]:null)&&jp(n))}function jp(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[da])Jd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(CS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vp(e))?(Jd(n,t),n.h==0&&(n.src=null,e[Fp]=null)):mc(t)}}}function CS(t){return t in Uh?Uh[t]:Uh[t]="on"+t}function Hx(t,e){if(t.ca)t=!0;else{e=new Bo(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&jp(t),t=n.call(r,e)}return t}function Vp(t){return t=t[Fp],t instanceof gc?t:null}var Fh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bp(t){return typeof t=="function"?t:(t[Fh]||(t[Fh]=function(e){return t.handleEvent(e)}),t[Fh])}function je(){Mr.call(this),this.i=new gc(this),this.P=this,this.I=null}Ze(je,Mr);je.prototype[da]=!0;je.prototype.removeEventListener=function(t,e,n,r){IS(this,t,e,n,r)};function Ye(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new ot(e,t);else if(e instanceof ot)e.target=e.target||t;else{var i=e;e=new ot(r,t),yS(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Za(o,r,!0,e)&&i}if(o=e.g=t,i=Za(o,r,!0,e)&&i,i=Za(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Za(o,r,!1,e)&&i}je.prototype.M=function(){if(je.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mc(n[r]);delete t.g[e],t.h--}}this.I=null};je.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};je.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Za(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Jd(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var zp=W.JSON.stringify;function qx(){var t=AS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Wx{constructor(){this.h=this.g=null}add(e,n){const r=kS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var kS=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Kx,t=>t.reset());class Kx{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Gx(t){W.setTimeout(()=>{throw t},0)}function Hp(t,e){ef||Yx(),tf||(ef(),tf=!0),AS.add(t,e)}var ef;function Yx(){var t=W.Promise.resolve(void 0);ef=function(){t.then(Qx)}}var tf=!1,AS=new Wx;function Qx(){for(var t;t=qx();){try{t.h.call(t.g)}catch(n){Gx(n)}var e=kS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}tf=!1}function yc(t,e){je.call(this),this.h=t||1,this.g=e||W,this.j=Ge(this.kb,this),this.l=Date.now()}Ze(yc,je);U=yc.prototype;U.da=!1;U.S=null;U.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ye(this,"tick"),this.da&&(qp(this),this.start()))}};U.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qp(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}U.M=function(){yc.Z.M.call(this),qp(this),delete this.g};function Wp(t,e,n){if(typeof t=="function")n&&(t=Ge(t,n));else if(t&&typeof t.handleEvent=="function")t=Ge(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:W.setTimeout(t,e||0)}function NS(t){t.g=Wp(()=>{t.g=null,t.i&&(t.i=!1,NS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Xx extends Mr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:NS(this)}M(){super.M(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zo(t){Mr.call(this),this.h=t,this.g={}}Ze(zo,Mr);var Gy=[];function RS(t,e,n,r){Array.isArray(n)||(n&&(Gy[0]=n.toString()),n=Gy);for(var i=0;i<n.length;i++){var s=SS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function xS(t){$p(t.g,function(e,n){this.g.hasOwnProperty(n)&&jp(e)},t),t.g={}}zo.prototype.M=function(){zo.Z.M.call(this),xS(this)};zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function vc(){this.g=!0}vc.prototype.Aa=function(){this.g=!1};function Jx(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Zx(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function qi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+tO(t,n)+(r?" "+r:"")})}function eO(t,e){t.info(function(){return"TIMEOUT: "+e})}vc.prototype.info=function(){};function tO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return zp(n)}catch{return e}}var ki={},Yy=null;function wc(){return Yy=Yy||new je}ki.Ma="serverreachability";function OS(t){ot.call(this,ki.Ma,t)}Ze(OS,ot);function Ho(t){const e=wc();Ye(e,new OS(e,t))}ki.STAT_EVENT="statevent";function DS(t,e){ot.call(this,ki.STAT_EVENT,t),this.stat=e}Ze(DS,ot);function pt(t){const e=wc();Ye(e,new DS(e,t))}ki.Na="timingevent";function PS(t,e){ot.call(this,ki.Na,t),this.size=e}Ze(PS,ot);function fa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){t()},e)}var Ec={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},bS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Kp(){}Kp.prototype.h=null;function Qy(t){return t.h||(t.h=t.i())}function LS(){}var pa={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gp(){ot.call(this,"d")}Ze(Gp,ot);function Yp(){ot.call(this,"c")}Ze(Yp,ot);var nf;function Sc(){}Ze(Sc,Kp);Sc.prototype.g=function(){return new XMLHttpRequest};Sc.prototype.i=function(){return{}};nf=new Sc;function ma(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new zo(this),this.P=nO,t=Qd?125:void 0,this.W=new yc(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new MS}function MS(){this.i=null,this.g="",this.h=!1}var nO=45e3,rf={},uu={};U=ma.prototype;U.setTimeout=function(t){this.P=t};function sf(t,e,n){t.K=1,t.v=Tc(Yn(e)),t.s=n,t.U=!0,$S(t,null)}function $S(t,e){t.F=Date.now(),ga(t),t.A=Yn(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),HS(n.h,"t",r),t.C=0,n=t.l.H,t.h=new MS,t.g=c1(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Xx(Ge(t.Ia,t,t.g),t.O)),RS(t.V,t.g,"readystatechange",t.gb),e=t.H?gS(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ho(1),Jx(t.j,t.u,t.A,t.m,t.X,t.s)}U.gb=function(t){t=t.target;const e=this.L;e&&jn(t)==3?e.l():this.Ia(t)};U.Ia=function(t){try{if(t==this.g)e:{const c=jn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>c)&&(c!=3||Qd||this.g&&(this.h.h||this.g.ga()||ev(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?Ho(3):Ho(2)),_c(this);var n=this.g.ba();this.N=n;t:if(US(this)){var r=ev(this.g);t="";var i=r.length,s=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Qr(this),yo(this);var o="";break t}this.h.i=new W.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,Zx(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!au(a)){var u=a;break t}}u=null}if(n=u)qi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,of(this,n);else{this.i=!1,this.o=3,pt(12),Qr(this),yo(this);break e}}this.U?(FS(this,c,o),Qd&&this.i&&c==3&&(RS(this.V,this.W,"tick",this.fb),this.W.start())):(qi(this.j,this.m,o,null),of(this,o)),c==4&&Qr(this),this.i&&!this.I&&(c==4?o1(this.l,this):(this.i=!1,ga(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,pt(12)):(this.o=0,pt(13)),Qr(this),yo(this)}}}catch{}finally{}};function US(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function FS(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=rO(t,n),i==uu){e==4&&(t.o=4,pt(14),r=!1),qi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==rf){t.o=4,pt(15),qi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else qi(t.j,t.m,i,null),of(t,i);US(t)&&i!=uu&&i!=rf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,pt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),im(e),e.L=!0,pt(11))):(qi(t.j,t.m,n,"[Invalid Chunked Response]"),Qr(t),yo(t))}U.fb=function(){if(this.g){var t=jn(this.g),e=this.g.ga();this.C<e.length&&(_c(this),FS(this,t,e),this.i&&t!=4&&ga(this))}};function rO(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?uu:(n=Number(e.substring(n,r)),isNaN(n)?rf:(r+=1,r+n>e.length?uu:(e=e.substr(r,n),t.C=r+n,e)))}U.cancel=function(){this.I=!0,Qr(this)};function ga(t){t.Y=Date.now()+t.P,jS(t,t.P)}function jS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=fa(Ge(t.eb,t),e)}function _c(t){t.B&&(W.clearTimeout(t.B),t.B=null)}U.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(eO(this.j,this.A),this.K!=2&&(Ho(3),pt(17)),Qr(this),this.o=2,yo(this)):jS(this,this.Y-t)};function yo(t){t.l.G==0||t.I||o1(t.l,t)}function Qr(t){_c(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,qp(t.W),xS(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function of(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||af(n.i,t))){if(n.I=t.N,!t.J&&af(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)fu(n),kc(n);else break e;rm(n),pt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=fa(Ge(n.ab,n),6e3));if(1>=KS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Xr(n,11)}else if((t.J||n.g==t)&&fu(n),!au(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const c=u[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const h=u[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;!s.g&&(ht(y,"spdy")||ht(y,"quic")||ht(y,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Jp(s,s.h),s.h=null))}if(r.D){const w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.sa=w,Ee(r.F,r.D,w))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=u1(r,r.H?r.la:null,r.W),o.J){GS(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(_c(a),ga(a)),r.g=o}else i1(r);0<n.l.length&&Ac(n)}else u[0]!="stop"&&u[0]!="close"||Xr(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Xr(n,7):nm(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Ho(4)}catch{}}function iO(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Yd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Qp(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Yd(t)||typeof t=="string")mS(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Yd(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=iO(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ns(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ns)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}U=Ns.prototype;U.R=function(){Xp(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};U.T=function(){return Xp(this),this.g.concat()};function Xp(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];hi(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],hi(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}U.get=function(t,e){return hi(this.h,t)?this.h[t]:e};U.set=function(t,e){hi(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};U.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function hi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var VS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function di(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof di){this.g=e!==void 0?e:t.g,cu(this,t.j),this.s=t.s,hu(this,t.i),du(this,t.m),this.l=t.l,e=t.h;var n=new qo;n.i=e.i,e.g&&(n.g=new Ns(e.g),n.h=e.h),Xy(this,n),this.o=t.o}else t&&(n=String(t).match(VS))?(this.g=!!e,cu(this,n[1]||"",!0),this.s=vo(n[2]||""),hu(this,n[3]||"",!0),du(this,n[4]),this.l=vo(n[5]||"",!0),Xy(this,n[6]||"",!0),this.o=vo(n[7]||"")):(this.g=!!e,this.h=new qo(null,this.g))}di.prototype.toString=function(){var t=[],e=this.j;e&&t.push(so(e,Jy,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(so(e,Jy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(so(n,n.charAt(0)=="/"?cO:uO,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",so(n,dO)),t.join("")};function Yn(t){return new di(t)}function cu(t,e,n){t.j=n?vo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function hu(t,e,n){t.i=n?vo(e,!0):e}function du(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Xy(t,e,n){e instanceof qo?(t.h=e,fO(t.h,t.g)):(n||(e=so(e,hO)),t.h=new qo(e,t.g))}function Ee(t,e,n){t.h.set(e,n)}function Tc(t){return Ee(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function oO(t){return t instanceof di?Yn(t):new di(t,void 0)}function aO(t,e,n,r){var i=new di(null,void 0);return t&&cu(i,t),e&&hu(i,e),n&&du(i,n),r&&(i.l=r),i}function vo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function so(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,lO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Jy=/[#\/\?@]/g,uO=/[#\?:]/g,cO=/[#\?]/g,hO=/[#\?@]/g,dO=/#/g;function qo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function $r(t){t.g||(t.g=new Ns,t.h=0,t.i&&sO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=qo.prototype;U.add=function(t,e){$r(this),this.i=null,t=Rs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function BS(t,e){$r(t),e=Rs(t,e),hi(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,hi(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Xp(t)))}function zS(t,e){return $r(t),e=Rs(t,e),hi(t.g.h,e)}U.forEach=function(t,e){$r(this),this.g.forEach(function(n,r){mS(n,function(i){t.call(e,i,r,this)},this)},this)};U.T=function(){$r(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};U.R=function(t){$r(this);var e=[];if(typeof t=="string")zS(this,t)&&(e=By(e,this.g.get(Rs(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=By(e,t[n])}return e};U.set=function(t,e){return $r(this),this.i=null,t=Rs(this,t),zS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function HS(t,e,n){BS(t,e),0<n.length&&(t.i=null,t.g.set(Rs(t,e),Mp(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function Rs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function fO(t,e){e&&!t.j&&($r(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(BS(this,r),HS(this,i,n))},t)),t.j=e}var pO=class{constructor(t,e){this.h=t,this.g=e}};function qS(t){this.l=t||mO,W.PerformanceNavigationTiming?(t=W.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(W.g&&W.g.Ea&&W.g.Ea()&&W.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mO=10;function WS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function KS(t){return t.h?1:t.g?t.g.size:0}function af(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Jp(t,e){t.g?t.g.add(e):t.h=e}function GS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}qS.prototype.cancel=function(){if(this.i=YS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function YS(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Mp(t.i)}function Zp(){}Zp.prototype.stringify=function(t){return W.JSON.stringify(t,void 0)};Zp.prototype.parse=function(t){return W.JSON.parse(t,void 0)};function gO(){this.g=new Zp}function yO(t,e,n){const r=n||"";try{Qp(t,function(i,s){let o=i;ha(i)&&(o=zp(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vO(t,e){const n=new vc;if(W.Image){const r=new Image;r.onload=Ja(el,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ja(el,n,r,"TestLoadImage: error",!1,e),r.onabort=Ja(el,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ja(el,n,r,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function el(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ya(t){this.l=t.$b||null,this.j=t.ib||!1}Ze(ya,Kp);ya.prototype.g=function(){return new Ic(this.l,this.j)};ya.prototype.i=function(t){return function(){return t}}({});function Ic(t,e){je.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=em,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze(Ic,je);var em=0;U=Ic.prototype;U.open=function(t,e){if(this.readyState!=em)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wo(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||W).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=em};U.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof W.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QS(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function QS(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}U.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?va(this):Wo(this),this.readyState==3&&QS(this)}};U.Ua=function(t){this.g&&(this.response=this.responseText=t,va(this))};U.Ta=function(t){this.g&&(this.response=t,va(this))};U.ha=function(){this.g&&va(this)};function va(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wo(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Wo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var wO=W.JSON.parse;function xe(t){je.call(this),this.headers=new Ns,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=XS,this.K=this.L=!1}Ze(xe,je);var XS="",EO=/^https?$/i,SO=["POST","PUT"];U=xe.prototype;U.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():nf.g(),this.C=this.u?Qy(this.u):Qy(nf),this.g.onreadystatechange=Ge(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Zy(this,s);return}t=n||"";const i=new Ns(this.headers);r&&Qp(r,function(s,o){i.set(o,s)}),r=Dx(i.T()),n=W.FormData&&t instanceof W.FormData,!(0<=pS(SO,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{e1(this),0<this.B&&((this.K=_O(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ge(this.pa,this)):this.A=Wp(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Zy(this,s)}};function _O(t){return ps&&$x()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function TO(t){return t.toLowerCase()=="content-type"}U.pa=function(){typeof Lp!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ye(this,"timeout"),this.abort(8))};function Zy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,JS(t),Cc(t)}function JS(t){t.D||(t.D=!0,Ye(t,"complete"),Ye(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ye(this,"complete"),Ye(this,"abort"),Cc(this))};U.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cc(this,!0)),xe.Z.M.call(this)};U.Fa=function(){this.s||(this.F||this.v||this.l?ZS(this):this.cb())};U.cb=function(){ZS(this)};function ZS(t){if(t.h&&typeof Lp!="undefined"&&(!t.C[1]||jn(t)!=4||t.ba()!=2)){if(t.v&&jn(t)==4)Wp(t.Fa,0,t);else if(Ye(t,"readystatechange"),jn(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(VS)[1]||null;if(!i&&W.self&&W.self.location){var s=W.self.location.protocol;i=s.substr(0,s.length-1)}r=!EO.test(i?i.toLowerCase():"")}n=r}if(n)Ye(t,"complete"),Ye(t,"success");else{t.m=6;try{var o=2<jn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",JS(t)}}finally{Cc(t)}}}}function Cc(t,e){if(t.g){e1(t);const n=t.g,r=t.C[0]?ou:null;t.g=null,t.C=null,e||Ye(t,"ready");try{n.onreadystatechange=r}catch{}}}function e1(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(W.clearTimeout(t.A),t.A=null)}function jn(t){return t.g?t.g.readyState:0}U.ba=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}};U.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),wO(e)}};function ev(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case XS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}U.Da=function(){return this.m};U.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function IO(t){let e="";return $p(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function tm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=IO(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ee(t,e,n))}function Js(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function t1(t){this.za=0,this.l=[],this.h=new vc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Js("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Js("baseRetryDelayMs",5e3,t),this.$a=Js("retryDelaySeedMs",1e4,t),this.Ya=Js("forwardChannelMaxRetries",2,t),this.ra=Js("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new qS(t&&t.concurrentRequestLimit),this.Ca=new gO,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}U=t1.prototype;U.ma=8;U.G=1;function nm(t){if(n1(t),t.G==3){var e=t.V++,n=Yn(t.F);Ee(n,"SID",t.J),Ee(n,"RID",e),Ee(n,"TYPE","terminate"),wa(t,n),e=new ma(t,t.h,e,void 0),e.K=2,e.v=Tc(Yn(n)),n=!1,W.navigator&&W.navigator.sendBeacon&&(n=W.navigator.sendBeacon(e.v.toString(),"")),!n&&W.Image&&(new Image().src=e.v,n=!0),n||(e.g=c1(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ga(e)}l1(t)}U.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function kc(t){t.g&&(im(t),t.g.cancel(),t.g=null)}function n1(t){kc(t),t.u&&(W.clearTimeout(t.u),t.u=null),fu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&W.clearTimeout(t.m),t.m=null)}function jh(t,e){t.l.push(new pO(t.Za++,e)),t.G==3&&Ac(t)}function Ac(t){WS(t.i)||t.m||(t.m=!0,Hp(t.Ha,t),t.C=0)}function CO(t,e){return KS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=fa(Ge(t.Ha,t,e),a1(t,t.C)),t.C++,!0)}U.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new ma(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=gS(s),yS(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=r1(this,i,e),n=Yn(this.F),Ee(n,"RID",t),Ee(n,"CVER",22),this.D&&Ee(n,"X-HTTP-Session-Id",this.D),wa(this,n),this.o&&s&&tm(n,this.o,s),Jp(this.i,i),this.Ra&&Ee(n,"TYPE","init"),this.ja?(Ee(n,"$req",e),Ee(n,"SID","null"),i.$=!0,sf(i,n,null)):sf(i,n,e),this.G=2}}else this.G==3&&(t?tv(this,t):this.l.length==0||WS(this.i)||tv(this))};function tv(t,e){var n;e?n=e.m:n=t.V++;const r=Yn(t.F);Ee(r,"SID",t.J),Ee(r,"RID",n),Ee(r,"AID",t.U),wa(t,r),t.o&&t.s&&tm(r,t.o,t.s),n=new ma(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=r1(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Jp(t.i,n),sf(n,r,e)}function wa(t,e){t.j&&Qp({},function(n,r){Ee(e,r,n)})}function r1(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ge(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{yO(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function i1(t){t.g||t.u||(t.Y=1,Hp(t.Ga,t),t.A=0)}function rm(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=fa(Ge(t.Ga,t),a1(t,t.A)),t.A++,!0)}U.Ga=function(){if(this.u=null,s1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=fa(Ge(this.bb,this),t)}};U.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pt(10),kc(this),s1(this))};function im(t){t.B!=null&&(W.clearTimeout(t.B),t.B=null)}function s1(t){t.g=new ma(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Yn(t.oa);Ee(e,"RID","rpc"),Ee(e,"SID",t.J),Ee(e,"CI",t.N?"0":"1"),Ee(e,"AID",t.U),wa(t,e),Ee(e,"TYPE","xmlhttp"),t.o&&t.s&&tm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Tc(Yn(e)),n.s=null,n.U=!0,$S(n,t)}U.ab=function(){this.v!=null&&(this.v=null,kc(this),rm(this),pt(19))};function fu(t){t.v!=null&&(W.clearTimeout(t.v),t.v=null)}function o1(t,e){var n=null;if(t.g==e){fu(t),im(t),t.g=null;var r=2}else if(af(t.i,e))n=e.D,GS(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=wc(),Ye(r,new PS(r,n,e,i)),Ac(t)}else i1(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&CO(t,e)||r==2&&rm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Xr(t,5);break;case 4:Xr(t,10);break;case 3:Xr(t,6);break;default:Xr(t,2)}}}function a1(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Xr(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Ge(t.jb,t);n||(n=new di("//www.google.com/images/cleardot.gif"),W.location&&W.location.protocol=="http"||cu(n,"https"),Tc(n)),vO(n.toString(),r)}else pt(2);t.G=0,t.j&&t.j.va(e),l1(t),n1(t)}U.jb=function(t){t?(this.h.info("Successfully pinged google.com"),pt(2)):(this.h.info("Failed to ping google.com"),pt(1))};function l1(t){t.G=0,t.I=-1,t.j&&((YS(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Mp(t.l),t.l.length=0),t.j.ua())}function u1(t,e,n){let r=oO(n);if(r.i!="")e&&hu(r,e+"."+r.i),du(r,r.m);else{const i=W.location;r=aO(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&$p(t.aa,function(i,s){Ee(r,s,i)}),e=t.D,n=t.sa,e&&n&&Ee(r,e,n),Ee(r,"VER",t.ma),wa(t,r),r}function c1(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new xe(new ya({ib:!0})):new xe(t.qa),e.L=t.H,e}function h1(){}U=h1.prototype;U.xa=function(){};U.wa=function(){};U.va=function(){};U.ua=function(){};U.Oa=function(){};function pu(){if(ps&&!(10<=Number(Ux)))throw Error("Environmental error: no available transport.")}pu.prototype.g=function(t,e){return new Mt(t,e)};function Mt(t,e){je.call(this),this.g=new t1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!au(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!au(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xs(this)}Ze(Mt,je);Mt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Hp(Ge(t.hb,t,e))),pt(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=u1(t,null,t.W),Ac(t)};Mt.prototype.close=function(){nm(this.g)};Mt.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,jh(this.g,e)}else this.v?(e={},e.__data__=zp(t),jh(this.g,e)):jh(this.g,t)};Mt.prototype.M=function(){this.g.j=null,delete this.j,nm(this.g),delete this.g,Mt.Z.M.call(this)};function d1(t){Gp.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ze(d1,Gp);function f1(){Yp.call(this),this.status=1}Ze(f1,Yp);function xs(t){this.g=t}Ze(xs,h1);xs.prototype.xa=function(){Ye(this.g,"a")};xs.prototype.wa=function(t){Ye(this.g,new d1(t))};xs.prototype.va=function(t){Ye(this.g,new f1(t))};xs.prototype.ua=function(){Ye(this.g,"b")};pu.prototype.createWebChannel=pu.prototype.g;Mt.prototype.send=Mt.prototype.u;Mt.prototype.open=Mt.prototype.m;Mt.prototype.close=Mt.prototype.close;Ec.NO_ERROR=0;Ec.TIMEOUT=8;Ec.HTTP_ERROR=6;bS.COMPLETE="complete";LS.EventType=pa;pa.OPEN="a";pa.CLOSE="b";pa.ERROR="c";pa.MESSAGE="d";je.prototype.listen=je.prototype.N;xe.prototype.listenOnce=xe.prototype.O;xe.prototype.getLastError=xe.prototype.La;xe.prototype.getLastErrorCode=xe.prototype.Da;xe.prototype.getStatus=xe.prototype.ba;xe.prototype.getResponseJson=xe.prototype.Qa;xe.prototype.getResponseText=xe.prototype.ga;xe.prototype.send=xe.prototype.ea;var kO=function(){return new pu},AO=function(){return wc()},Vh=Ec,NO=bS,RO=ki,nv={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xO=ya,tl=LS,OO=xe;const rv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Os="9.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new pc("@firebase/firestore");function iv(){return fi.logLevel}function V(t,...e){if(fi.logLevel<=se.DEBUG){const n=e.map(sm);fi.debug(`Firestore (${Os}): ${t}`,...n)}}function Rr(t,...e){if(fi.logLevel<=se.ERROR){const n=e.map(sm);fi.error(`Firestore (${Os}): ${t}`,...n)}}function sv(t,...e){if(fi.logLevel<=se.WARN){const n=e.map(sm);fi.warn(`Firestore (${Os}): ${t}`,...n)}}function sm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t="Unexpected state"){const e=`FIRESTORE (${Os}) INTERNAL ASSERTION FAILED: `+t;throw Rr(e),new Error(e)}function me(t,e){t||Y()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class bO{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string"),new DO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string"),new Et(e)}}class LO{constructor(e,n,r){this.type="FirstParty",this.user=Et.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class MO{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new LO(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $O{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UO{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string"),this.p=n.token,new $O(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */om.A=-1;class p1{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=FO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function ms(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new at(0,0))}static max(){return new ee(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function m1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ko.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ko?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends Ko{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const jO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends Ko{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return jO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new L(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new L(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.fields=e,e.sort(Tt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ms(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Je(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Je(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const VO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(t){if(me(!!t),typeof t=="string"){let e=0;const n=VO.exec(t);if(me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gs(t){return typeof t=="string"?Je.fromBase64String(t):Je.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function g1(t){const e=t.mapValue.fields.__previous_value__;return am(e)?g1(e):e}function Go(t){const e=xr(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ys{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ys("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ys&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){return t==null}function mu(t){return t===0&&1/t==-1/0}function zO(t){return typeof t=="number"&&Number.isInteger(t)&&!mu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.path=e}static fromPath(e){return new B(fe.fromString(e))}static fromName(e){return new B(fe.fromString(e).popFirst(5))}static empty(){return new B(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new fe(e.slice()))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?am(t)?4:HO(t)?9007199254740991:10:Y()}function An(t,e){if(t===e)return!0;const n=pi(t);if(n!==pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Go(t).isEqual(Go(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=xr(r.timestampValue),o=xr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return gs(r.bytesValue).isEqual(gs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ne(r.geoPointValue.latitude)===Ne(i.geoPointValue.latitude)&&Ne(r.geoPointValue.longitude)===Ne(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ne(r.integerValue)===Ne(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ne(r.doubleValue),o=Ne(i.doubleValue);return s===o?mu(s)===mu(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ms(t.arrayValue.values||[],e.arrayValue.values||[],An);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(ov(s)!==ov(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!An(s[a],o[a])))return!1;return!0}(t,e);default:return Y()}}function Yo(t,e){return(t.values||[]).find(n=>An(n,e))!==void 0}function vs(t,e){if(t===e)return 0;const n=pi(t),r=pi(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ne(i.integerValue||i.doubleValue),a=Ne(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return av(t.timestampValue,e.timestampValue);case 4:return av(Go(t),Go(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=gs(i),a=gs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=oe(o[l],a[l]);if(u!==0)return u}return oe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=oe(Ne(i.latitude),Ne(s.latitude));return o!==0?o:oe(Ne(i.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=vs(o[l],a[l]);if(u)return u}return oe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===nl.mapValue&&s===nl.mapValue)return 0;if(i===nl.mapValue)return 1;if(s===nl.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=oe(a[c],u[c]);if(h!==0)return h;const d=vs(o[a[c]],l[u[c]]);if(d!==0)return d}return oe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Y()}}function av(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=xr(t),r=xr(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function Zi(t){return uf(t)}function uf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=xr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?gs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,B.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=uf(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${uf(r.fields[a])}`;return s+"}"}(t.mapValue):Y();var e,n}function gu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cf(t){return!!t&&"integerValue"in t}function lm(t){return!!t&&"arrayValue"in t}function lv(t){return!!t&&"nullValue"in t}function uv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ml(t){return!!t&&"mapValue"in t}function wo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ml(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wo(n)}setAll(e){let n=Tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ml(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return An(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ml(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ln(wo(this.value))}}function y1(t){const e=[];return Ds(t.fields,(n,r)=>{const i=new Tt([n]);if(ml(r)){const s=y1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new lf(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new it(e,0,ee.min(),ee.min(),ln.empty(),0)}static newFoundDocument(e,n,r){return new it(e,1,n,ee.min(),r,0)}static newNoDocument(e,n){return new it(e,2,n,ee.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new it(e,3,n,ee.min(),ln.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function qO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new mi(i,B.empty(),e)}function WO(t){return new mi(t.readTime,t.key,-1)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(ee.min(),B.empty(),-1)}static max(){return new mi(ee.max(),B.empty(),-1)}}function KO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||We.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rl(this.root,e,this.comparator,!1)}getReverseIterator(){return new rl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rl(this.root,e,this.comparator,!0)}}class rl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:We.RED,this.left=i!=null?i:We.EMPTY,this.right=s!=null?s:We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new We(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return We.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(t,e,n,r,i){return this}insert(t,e,n){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cv(this.data.getIterator())}getIteratorFrom(e){return new cv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qe(this.comparator);return n.data=e,n}}class cv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function hv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new GO(t,e,n,r,i,s,o)}function um(t){const e=Q(t);if(e.P===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Zi(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Nc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zi(r)).join(",")),e.P=n}return e.P}function YO(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Zi(r.value)}`;var r}).join(", ")}]`),Nc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Zi(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Zi(n)).join(",")),`Target(${e})`}function cm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!rD(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!An(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fv(t.startAt,e.startAt)&&fv(t.endAt,e.endAt)}function hf(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class mt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.V(e,n,r):new QO(e,n,r):n==="array-contains"?new ZO(e,r):n==="in"?new eD(e,r):n==="not-in"?new tD(e,r):n==="array-contains-any"?new nD(e,r):new mt(e,n,r)}static V(e,n,r){return n==="in"?new XO(e,r):new JO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.v(vs(n,this.value)):n!==null&&pi(this.value)===pi(n)&&this.v(vs(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class QO extends mt{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){const n=B.comparator(e.key,this.key);return this.v(n)}}class XO extends mt{constructor(e,n){super(e,"in",n),this.keys=v1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JO extends mt{constructor(e,n){super(e,"not-in",n),this.keys=v1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function v1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}class ZO extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lm(n)&&Yo(n.arrayValue,this.value)}}class eD extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yo(this.value.arrayValue,n)}}class tD extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Yo(this.value.arrayValue,n)}}class nD extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Yo(this.value.arrayValue,r))}}class ws{constructor(e,n){this.position=e,this.inclusive=n}}class es{constructor(e,n="asc"){this.field=e,this.dir=n}}function rD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function dv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=B.comparator(B.fromName(o.referenceValue),n.key):r=vs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function fv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!An(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.D=null,this.C=null,this.startAt,this.endAt}}function iD(t,e,n,r,i,s,o,a){return new Ai(t,e,n,r,i,s,o,a)}function hm(t){return new Ai(t)}function sD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dm(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function fm(t){for(const e of t.filters)if(e.S())return e.field;return null}function pm(t){return t.collectionGroup!==null}function Es(t){const e=Q(t);if(e.D===null){e.D=[];const n=fm(e),r=dm(e);if(n!==null&&r===null)n.isKeyField()||e.D.push(new es(n)),e.D.push(new es(Tt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new es(Tt.keyField(),s))}}}return e.D}function gi(t){const e=Q(t);if(!e.C)if(e.limitType==="F")e.C=hv(e.path,e.collectionGroup,Es(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Es(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new es(s.field,o))}const r=e.endAt?new ws(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ws(e.startAt.position,e.startAt.inclusive):null;e.C=hv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function w1(t,e,n){return new Ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rc(t,e){return cm(gi(t),gi(e))&&t.limitType===e.limitType}function E1(t){return`${um(gi(t))}|lt:${t.limitType}`}function df(t){return`Query(target=${YO(gi(t))}; limitType=${t.limitType})`}function mm(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):B.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=dv(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Es(n),r)||n.endAt&&!function(i,s,o){const a=dv(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Es(n),r))}(t,e)}function oD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function S1(t){return(e,n)=>{let r=!1;for(const i of Es(t)){const s=aD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function aD(t,e,n){const r=t.field.isKeyField()?B.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?vs(a,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(e)?"-0":e}}function T1(t){return{integerValue:""+t}}function lD(t,e){return zO(e)?T1(e):_1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this._=void 0}}function uD(t,e,n){return t instanceof yu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Qo?C1(t,e):t instanceof Xo?k1(t,e):function(r,i){const s=I1(r,i),o=pv(s)+pv(r.k);return cf(s)&&cf(r.k)?T1(o):_1(r.M,o)}(t,e)}function cD(t,e,n){return t instanceof Qo?C1(t,e):t instanceof Xo?k1(t,e):n}function I1(t,e){return t instanceof vu?cf(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class yu extends xc{}class Qo extends xc{constructor(e){super(),this.elements=e}}function C1(t,e){const n=A1(e);for(const r of t.elements)n.some(i=>An(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xo extends xc{constructor(e){super(),this.elements=e}}function k1(t,e){let n=A1(e);for(const r of t.elements)n=n.filter(i=>!An(i,r));return{arrayValue:{values:n}}}class vu extends xc{constructor(e,n){super(),this.M=e,this.k=n}}function pv(t){return Ne(t.integerValue||t.doubleValue)}function A1(t){return lm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hD(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Qo&&r instanceof Qo||n instanceof Xo&&r instanceof Xo?ms(n.elements,r.elements,An):n instanceof vu&&r instanceof vu?An(n.k,r.k):n instanceof yu&&r instanceof yu}(t.transform,e.transform)}class dD{constructor(e,n){this.version=e,this.transformResults=n}}class ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Oc{}function fD(t,e,n){t instanceof Dc?function(r,i,s){const o=r.value.clone(),a=yv(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ea?function(r,i,s){if(!gl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=yv(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(N1(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ff(t,e,n){t instanceof Dc?function(r,i,s){if(!gl(r.precondition,i))return;const o=r.value.clone(),a=vv(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(gv(i),o).setHasLocalMutations()}(t,e,n):t instanceof Ea?function(r,i,s){if(!gl(r.precondition,i))return;const o=vv(r.fieldTransforms,s,i),a=i.data;a.setAll(N1(r)),a.setAll(o),i.convertToFoundDocument(gv(i),a).setHasLocalMutations()}(t,e,n):function(r,i){gl(r.precondition,i)&&i.convertToNoDocument(ee.min())}(t,e)}function pD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=I1(r.transform,i||null);s!=null&&(n==null&&(n=ln.empty()),n.set(r.field,s))}return n||null}function mv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ms(n,r,(i,s)=>hD(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function gv(t){return t.isFoundDocument()?t.version:ee.min()}class Dc extends Oc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ea extends Oc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function N1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yv(t,e,n){const r=new Map;me(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,cD(o,a,n[i]))}return r}function vv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,uD(s,o,e))}return r}class R1 extends Oc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class mD extends Oc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,re;function yD(t){switch(t){default:return Y();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function x1(t){if(t===void 0)return Rr("GRPC error has no .code"),R.UNKNOWN;switch(t){case Ae.OK:return R.OK;case Ae.CANCELLED:return R.CANCELLED;case Ae.UNKNOWN:return R.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return R.INTERNAL;case Ae.UNAVAILABLE:return R.UNAVAILABLE;case Ae.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Ae.NOT_FOUND:return R.NOT_FOUND;case Ae.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Ae.ABORTED:return R.ABORTED;case Ae.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Ae.DATA_LOSS:return R.DATA_LOSS;default:return Y()}}(re=Ae||(Ae={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return m1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new Ve(B.comparator);function yi(){return vD}const wD=new Ve(B.comparator);function pf(...t){let e=wD;for(const n of t)e=e.insert(n.key,n);return e}function Bh(){return new Ps(t=>t.toString(),(t,e)=>t.isEqual(e))}const ED=new Ve(B.comparator),SD=new Qe(B.comparator);function ve(...t){let e=SD;for(const n of t)e=e.add(n);return e}const _D=new Qe(oe);function O1(){return _D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Sa.createSynthesizedTargetChangeForCurrentChange(e,n)),new Pc(ee.min(),r,O1(),yi(),ve())}}class Sa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Sa(Je.EMPTY_BYTE_STRING,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class D1{constructor(e,n){this.targetId=e,this.$=n}}class P1{constructor(e,n,r=Je.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wv{constructor(){this.B=0,this.L=Sv(),this.U=Je.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return this.B!==0}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=ve(),n=ve(),r=ve();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Sa(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=Sv()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class TD{constructor(e){this.nt=e,this.st=new Map,this.it=yi(),this.rt=Ev(),this.ot=new Qe(oe)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(hf(s))if(r===0){const o=new B(s.path);this.ct(n,o,it.newNoDocument(o,ee.min()))}else me(r===1);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&hf(a.target)){const l=new B(a.target.path);this.it.get(l)!==null||this.It(o,l)||this.ct(o,l,it.newNoDocument(l,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=ve();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.wt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new Pc(e,n,this.ot,this.it,r);return this.it=yi(),this.rt=Ev(),this.ot=new Qe(oe),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new wv,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Qe(oe),this.rt=this.rt.insert(e,n)),n}ft(e){const n=this.wt(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new wv),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function Ev(){return new Ve(B.comparator)}function Sv(){return new Ve(B.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),CD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class kD{constructor(e,n){this.databaseId=e,this.N=n}}function wu(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b1(t,e){return t.N?e.toBase64():e.toUint8Array()}function AD(t,e){return wu(t,e.toTimestamp())}function qn(t){return me(!!t),ee.fromTimestamp(function(e){const n=xr(e);return new at(n.seconds,n.nanos)}(t))}function gm(t,e){return function(n){return new fe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function L1(t){const e=fe.fromString(t);return me(U1(e)),e}function mf(t,e){return gm(t.databaseId,e.path)}function zh(t,e){const n=L1(e);if(n.get(1)!==t.databaseId.projectId)throw new L(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(M1(n))}function gf(t,e){return gm(t.databaseId,e)}function ND(t){const e=L1(t);return e.length===4?fe.emptyPath():M1(e)}function yf(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function M1(t){return me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _v(t,e,n){return{name:mf(t,e),fields:n.value.mapValue.fields}}function RD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.N?(me(u===void 0||typeof u=="string"),Je.fromBase64String(u||"")):(me(u===void 0||u instanceof Uint8Array),Je.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?R.UNKNOWN:x1(l.code);return new L(u,l.message||"")}(o);n=new P1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zh(t,r.document.name),s=qn(r.document.updateTime),o=new ln({mapValue:{fields:r.document.fields}}),a=it.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new yl(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zh(t,r.document),s=r.readTime?qn(r.readTime):ee.min(),o=it.newNoDocument(i,s),a=r.removedTargetIds||[];n=new yl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zh(t,r.document),s=r.removedTargetIds||[];n=new yl([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new gD(i),o=r.targetId;n=new D1(o,s)}}return n}function xD(t,e){let n;if(e instanceof Dc)n={update:_v(t,e.key,e.value)};else if(e instanceof R1)n={delete:mf(t,e.key)};else if(e instanceof Ea)n={update:_v(t,e.key,e.data),updateMask:jD(e.fieldMask)};else{if(!(e instanceof mD))return Y();n={verify:mf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof yu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Xo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof vu)return{fieldPath:s.field.canonicalString(),increment:o.k};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:AD(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Y()}(t,e.precondition)),n}function OD(t,e){return t&&t.length>0?(me(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?qn(r.updateTime):qn(i);return s.isEqual(ee.min())&&(s=qn(i)),new dD(s,r.transformResults||[])}(n,e))):[]}function DD(t,e){return{documents:[gf(t,e.path)]}}function PD(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=gf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=gf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(h){if(h.op==="=="){if(uv(h.value))return{unaryFilter:{field:Di(h.field),op:"IS_NAN"}};if(lv(h.value))return{unaryFilter:{field:Di(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(uv(h.value))return{unaryFilter:{field:Di(h.field),op:"IS_NOT_NAN"}};if(lv(h.value))return{unaryFilter:{field:Di(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Di(h.field),op:$D(h.op),value:h.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Di(c.field),direction:MD(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.N||Nc(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function bD(t){let e=ND(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){me(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=$1(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new es(Wi(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Nc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new ws(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new ws(d,h)}(n.endAt)),iD(e,i,o,s,a,"F",l,u)}function LD(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Y()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function $1(t){return t?t.unaryFilter!==void 0?[FD(t)]:t.fieldFilter!==void 0?[UD(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>$1(e)).reduce((e,n)=>e.concat(n)):Y():[]}function MD(t){return ID[t]}function $D(t){return CD[t]}function Di(t){return{fieldPath:t.canonicalString()}}function Wi(t){return Tt.fromServerFormat(t.fieldPath)}function UD(t){return mt.create(Wi(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(t.fieldFilter.op),t.fieldFilter.value)}function FD(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Wi(t.unaryFilter.field);return mt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Wi(t.unaryFilter.field);return mt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Wi(t.unaryFilter.field);return mt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Wi(t.unaryFilter.field);return mt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}function jD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function U1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function _a(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fD(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&ff(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&ff(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ee.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,(n,r)=>mv(n,r))&&ms(this.baseMutations,e.baseMutations,(n,r)=>mv(n,r))}}class ym{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length);let i=ED;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ym(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=Je.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.Jt=e}}function WD(t){const e=bD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?w1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.qe=new GD}addToCollectionParentIndex(e,n){return this.qe.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(mi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class GD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qe(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qe(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Ss(0)}static yn(){return new Ss(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==VD)throw t;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.changes=new Ps(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return function(i){return B.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.js(e,n.path):pm(n)?this.Ws(e,n,r):this.zs(e,n,r)}js(e,n){return this.Ls(e,new B(n)).next(r=>{let i=pf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,n,r){const i=n.collectionGroup;let s=pf();return this.indexManager.getCollectionParents(e,i).next(o=>P.forEach(o,a=>{const l=function(u,c){return new Ai(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.zs(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}zs(e,n,r){let i;return this.ds.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const l=a.key;let u=i.get(l);u==null&&(u=it.newInvalidDocument(l),i=i.insert(l,u)),ff(a,u,o.localWriteTime),u.isFoundDocument()||(i=i.remove(l))}}).next(()=>(i.forEach((s,o)=>{mm(n,o)||(i=i.remove(s))}),i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=i}static Ys(e,n){let r=ve(),i=ve();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,r,i){return this.ti(e,n).next(s=>s||this.ei(e,n,i,r)).next(s=>s||this.ni(e,n))}ti(e,n){return P.resolve(null)}ei(e,n,r,i){return sD(n)||i.isEqual(ee.min())?this.ni(e,n):this.Zs.Ks(e,r).next(s=>{const o=this.si(n,s);return this.ii(n,o,r,i)?this.ni(e,n):(iv()<=se.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),df(n)),this.ri(e,o,n,qO(i,-1)))})}si(e,n){let r=new Qe(S1(e));return n.forEach((i,s)=>{mm(e,s)&&(r=r.add(s))}),r}ii(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,n){return iv()<=se.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",df(n)),this.Zs.Qs(e,n,mi.min())}ri(e,n,r,i){return this.Zs.Qs(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r,i){this.persistence=e,this.oi=n,this.M=i,this.ui=new Ve(oe),this.ai=new Ps(s=>um(s),cm),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new QD(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function ZD(t,e,n,r){return new JD(t,e,n,r)}async function F1(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Bs.getAllMutationBatches(r).next(s=>(i=s,n.li(e),n.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ve();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.fi.Ks(r,l).next(u=>({di:u,removedBatchIds:o,addedBatchIds:a}))})})}function eP(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=P.resolve();return h.forEach(p=>{d=d.next(()=>u.getEntry(a,p)).next(y=>{const w=l.docVersions.get(p);me(w!==null),y.version.compareTo(w)<0&&(c.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),d.next(()=>o.Bs.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.Bs.performConsistencyCheck(r)).next(()=>n.fi.Ks(r,i))})}function j1(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function tP(t,e){const n=Q(t),r=e.snapshotVersion;let i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;const a=[];e.targetChanges.forEach((u,c)=>{const h=i.get(c);if(!h)return;a.push(n.fs.removeMatchingKeys(s,u.removedDocuments,c).next(()=>n.fs.addMatchingKeys(s,u.addedDocuments,c)));let d=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(c)?d=d.withResumeToken(Je.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,r)),i=i.insert(c,d),function(p,y,w){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,d,u)&&a.push(n.fs.updateTargetData(s,d))});let l=yi();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(nP(s,o,e.documentUpdates).next(u=>{l=u})),!r.isEqual(ee.min())){const u=n.fs.getLastRemoteSnapshotVersion(s).next(c=>n.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.fi.Gs(s,l)).next(()=>l)}).then(s=>(n.ui=i,s))}function nP(t,e,n){let r=ve();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=yi();return n.forEach((o,a)=>{const l=i.get(o);a.isNoDocument()&&a.version.isEqual(ee.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||a.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):V("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",a.version)}),s})}function rP(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(r,e)))}function iP(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.fs.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.fs.allocateTargetId(r).next(o=>(i=new ni(e,o,0,r.currentSequenceNumber),n.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ui=n.ui.insert(r.targetId,r),n.ai.set(e,r.targetId)),r})}async function vf(t,e,n){const r=Q(t),i=r.ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_a(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}function Tv(t,e,n){const r=Q(t);let i=ee.min(),s=ve();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=Q(a),h=c.ai.get(u);return h!==void 0?P.resolve(c.ui.get(h)):c.fs.getTargetData(l,u)}(r,o,gi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.oi.Qs(o,e,n?i:ee.min(),n?s:ve())).next(a=>(sP(r,oD(e),a),{documents:a,_i:s})))}function sP(t,e,n){let r=ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ci.set(e,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return P.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var r;return this.yi.set(n.id,{id:(r=n).id,version:r.version,createTime:qn(r.createTime)}),P.resolve()}getNamedQuery(e,n){return P.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,function(r){return{name:r.name,query:WD(r.bundledQuery),readTime:qn(r.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.overlays=new Ve(B.comparator),this.Ii=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ii.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=Bh(),s=n.length+1,o=new B(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ve((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Bh(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Bh(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return P.resolve(a)}Xt(e,n,r){if(r===null)return;const i=this.overlays.get(r.key);if(i!==null){const o=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new HD(n,r));let s=this.Ii.get(n);s===void 0&&(s=ve(),this.Ii.set(n,s)),this.Ii.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.Ti=new Qe(Me.Ei),this.Ai=new Qe(Me.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const r=new Me(e,n);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Pi(new Me(e,n))}Vi(e,n){e.forEach(r=>this.removeReference(r,n))}vi(e){const n=new B(new fe([])),r=new Me(n,e),i=new Me(n,e+1),s=[];return this.Ai.forEachInRange([r,i],o=>{this.Pi(o),s.push(o.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new B(new fe([])),r=new Me(n,e),i=new Me(n,e+1);let s=ve();return this.Ai.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Me(e,0),r=this.Ti.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Me{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return B.comparator(e.key,n.key)||oe(e.Ci,n.Ci)}static Ri(e,n){return oe(e.Ci,n.Ci)||B.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Qe(Me.Ei)}checkEmpty(e){return P.resolve(this.Bs.length===0)}addMutationBatch(e,n,r,i){const s=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const o=new zD(s,n,r,i);this.Bs.push(o);for(const a of i)this.Ni=this.Ni.add(new Me(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Mi(r),s=i<0?0:i;return P.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.Bs.length===0?-1:this.xi-1)}getAllMutationBatches(e){return P.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Me(n,0),i=new Me(n,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],o=>{const a=this.ki(o.Ci);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qe(oe);return n.forEach(i=>{const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,o],a=>{r=r.add(a.Ci)})}),P.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;B.isDocumentKey(s)||(s=s.child(""));const o=new Me(new B(s),0);let a=new Qe(oe);return this.Ni.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Ci)),!0)},o),P.resolve(this.Oi(a))}Oi(e){const n=[];return e.forEach(r=>{const i=this.ki(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.Fi(n.batchId,"removed")===0),this.Bs.shift();let r=this.Ni;return P.forEach(n.mutations,i=>{const s=new Me(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,n){const r=new Me(n,0),i=this.Ni.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.Bs.length,P.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return this.Bs.length===0?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.$i=e,this.docs=new Ve(B.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.$i(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():it.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():it.newInvalidDocument(i))}),P.resolve(r)}getAllFromCollection(e,n,r){let i=yi();const s=new B(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||KO(WO(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return P.resolve(i)}getAllFromCollectionGroup(e,n,r,i){Y()}Bi(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cP(this)}getSize(e){return P.resolve(this.size)}}class cP extends YD{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.persistence=e,this.Li=new Ps(n=>um(n),cm),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Ui=0,this.qi=new wm,this.targetCount=0,this.Ki=Ss.gn()}forEachTarget(e,n){return this.Li.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ui&&(this.Ui=n),P.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new Ss(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Tn(n),P.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Li.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Li.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Li.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.qi.bi(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.qi.Vi(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qi.Di(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.qi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.Gi={},this.overlays={},this.es=new om(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new hP(this),this.indexManager=new KD,this.ds=function(r){return new uP(r)}(r=>this.referenceDelegate.Qi(r)),this.M=new qD(n),this._s=new oP(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Gi[e.toKey()];return r||(r=new lP(n,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);const i=new fP(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,n){return P.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,n)))}}class fP extends BD{constructor(e){super(),this.currentSequenceNumber=e}}class Em{constructor(e){this.persistence=e,this.Hi=new wm,this.Ji=null}static Yi(e){return new Em(e)}get Xi(){if(this.Ji)return this.Ji;throw Y()}addReference(e,n,r){return this.Hi.addReference(r,n),this.Xi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Hi.removeReference(r,n),this.Xi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xi,r=>{const i=B.fromPath(r);return this.Zi(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(r=>{r?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return P.or([()=>P.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}class Iv{constructor(){this.activeTargetIds=O1()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pP{constructor(){this.Ur=new Iv,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Iv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{Kr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.uo=n+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ho(e,n);V("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(V("RestConnection","Received: ",l),l),l=>{throw sv("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s){return this.co(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Os,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=gP[e];return`${this.uo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new OO;a.listenOnce(NO.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Vh.NO_ERROR:const u=a.getResponseJson();V("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Vh.TIMEOUT:V("Connection",'RPC "'+e+'" timed out'),o(new L(R.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const c=a.getStatus();if(V("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const d=function(p){const y=p.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(y)>=0?y:R.UNKNOWN}(h.status);o(new L(d,h.message))}else o(new L(R.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new L(R.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{V("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kO(),o=AO(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new xO({})),this.lo(a.initMessageHeaders,n,r),JE()||eS()||YN()||tS()||QN()||ZE()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");V("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const d=new yP({Jr:y=>{h?V("Connection","Not sending because WebChannel is closed:",y):(c||(V("Connection","Opening WebChannel transport."),u.open(),c=!0),V("Connection","WebChannel sending:",y),u.send(y))},Yr:()=>u.close()}),p=(y,w,I)=>{y.listen(w,g=>{try{I(g)}catch(m){setTimeout(()=>{throw m},0)}})};return p(u,tl.EventType.OPEN,()=>{h||V("Connection","WebChannel transport opened.")}),p(u,tl.EventType.CLOSE,()=>{h||(h=!0,V("Connection","WebChannel transport closed"),d.ro())}),p(u,tl.EventType.ERROR,y=>{h||(h=!0,sv("Connection","WebChannel transport errored:",y),d.ro(new L(R.UNAVAILABLE,"The operation could not be completed")))}),p(u,tl.EventType.MESSAGE,y=>{var w;if(!h){const I=y.data[0];me(!!I);const g=I,m=g.error||((w=g[0])===null||w===void 0?void 0:w.error);if(m){V("Connection","WebChannel received error:",m);const v=m.status;let S=function(_){const A=Ae[_];if(A!==void 0)return x1(A)}(v),k=m.message;S===void 0&&(S=R.INTERNAL,k="Unknown error status: "+v+" with message "+m.message),h=!0,d.ro(new L(S,k)),u.close()}else V("Connection","WebChannel received:",I),d.oo(I)}}),p(o,RO.STAT_EVENT,y=>{y.stat===nv.PROXY?V("Connection","Detected buffering proxy"):y.stat===nv.NOPROXY&&V("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.io()},0),d}}function Hh(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){return new kD(t,!0)}class V1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,r,i,s,o,a,l){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new V1(e,n)}ko(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.ko()&&await this.close(0)}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&this.Co===null&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}async Bo(){if(this.Mo())return this.close(0)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}async close(e,n){this.Uo(),this.qo(),this.No.cancel(),this.Do++,e!==4?this.No.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Ko(),this.stream.close(),this.stream=null),this.state=e,await this.listener.eo(n)}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===n&&this.Qo(r,i)},r=>{e(()=>{const i=new L(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.No.Ro(async()=>{this.state=0,this.start()})}jo(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wP extends B1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=RD(this.M,e),r=function(i){if(!("targetChange"in i))return ee.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?qn(s.readTime):ee.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=yf(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=hf(a)?{documents:DD(i,a)}:{query:PD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=b1(i,s.resumeToken):s.snapshotVersion.compareTo(ee.min())>0&&(o.readTime=wu(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=LD(this.M,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=yf(this.M),n.removeTarget=e,this.Lo(n)}}class EP extends B1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=OD(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.tu(r,n)}return me(!e.writeResults||e.writeResults.length===0),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=yf(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xD(this.M,r))};this.Lo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new L(R.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(R.UNKNOWN,i.toString())})}_o(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new L(R.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class _P{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){this.ru===0&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){this.state==="Online"?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,e==="Online"&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Rr(n),this.uu=!1):V("OnlineStateTracker",n)}fu(){this.ou!==null&&(this.ou.cancel(),this.ou=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(o=>{r.enqueueAndForget(async()=>{Ni(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Q(a);l.wu.add(4),await Ia(l),l.yu.set("Unknown"),l.wu.delete(4),await Lc(l)}(this))})}),this.yu=new _P(r,i)}}async function Lc(t){if(Ni(t))for(const e of t.mu)await e(!0)}async function Ia(t){for(const e of t.mu)await e(!1)}function z1(t,e){const n=Q(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),Tm(n)?_m(n):bs(n).Mo()&&Sm(n,e))}function H1(t,e){const n=Q(t),r=bs(n);n._u.delete(e),r.Mo()&&q1(n,e),n._u.size===0&&(r.Mo()?r.$o():Ni(n)&&n.yu.set("Unknown"))}function Sm(t,e){t.pu.Z(e.targetId),bs(t).Ho(e)}function q1(t,e){t.pu.Z(e),bs(t).Jo(e)}function _m(t){t.pu=new TD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t._u.get(e)||null}),bs(t).start(),t.yu.au()}function Tm(t){return Ni(t)&&!bs(t).ko()&&t._u.size>0}function Ni(t){return Q(t).wu.size===0}function W1(t){t.pu=void 0}async function IP(t){t._u.forEach((e,n)=>{Sm(t,e)})}async function CP(t,e){W1(t),Tm(t)?(t.yu.lu(e),_m(t)):t.yu.set("Unknown")}async function kP(t,e,n){if(t.yu.set("Online"),e instanceof P1&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r._u.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r._u.delete(o),r.pu.removeTarget(o))}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eu(t,r)}else if(e instanceof yl?t.pu.ut(e):e instanceof D1?t.pu._t(e):t.pu.ht(e),!n.isEqual(ee.min()))try{const r=await j1(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.pu.yt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i._u.get(l);u&&i._u.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i._u.get(a);if(!l)return;i._u.set(a,l.withResumeToken(Je.EMPTY_BYTE_STRING,l.snapshotVersion)),q1(i,a);const u=new ni(l.target,a,1,l.sequenceNumber);Sm(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await Eu(t,r)}}async function Eu(t,e,n){if(!_a(e))throw e;t.wu.add(1),await Ia(t),t.yu.set("Offline"),n||(n=()=>j1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),t.wu.delete(1),await Lc(t)})}function K1(t,e){return e().catch(n=>Eu(t,n,e))}async function Mc(t){const e=Q(t),n=Or(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;AP(e);)try{const i=await rP(e.localStore,r);if(i===null){e.du.length===0&&n.$o();break}r=i.batchId,NP(e,i)}catch(i){await Eu(e,i)}G1(e)&&Y1(e)}function AP(t){return Ni(t)&&t.du.length<10}function NP(t,e){t.du.push(e);const n=Or(t);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function G1(t){return Ni(t)&&!Or(t).ko()&&t.du.length>0}function Y1(t){Or(t).start()}async function RP(t){Or(t).nu()}async function xP(t){const e=Or(t);for(const n of t.du)e.Zo(n.mutations)}async function OP(t,e,n){const r=t.du.shift(),i=ym.from(r,e,n);await K1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Mc(t)}async function DP(t,e){e&&Or(t).Xo&&await async function(n,r){if(i=r.code,yD(i)&&i!==R.ABORTED){const s=n.du.shift();Or(n).Fo(),await K1(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Mc(n)}var i}(t,e),G1(t)&&Y1(t)}async function kv(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=Ni(n);n.wu.add(3),await Ia(n),r&&n.yu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),await Lc(n)}async function PP(t,e){const n=Q(t);e?(n.wu.delete(2),await Lc(n)):e||(n.wu.add(2),await Ia(n),n.yu.set("Unknown"))}function bs(t){return t.Iu||(t.Iu=function(e,n,r){const i=Q(e);return i.iu(),new wP(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:IP.bind(null,t),eo:CP.bind(null,t),zo:kP.bind(null,t)}),t.mu.push(async e=>{e?(t.Iu.Fo(),Tm(t)?_m(t):t.yu.set("Unknown")):(await t.Iu.stop(),W1(t))})),t.Iu}function Or(t){return t.Tu||(t.Tu=function(e,n,r){const i=Q(e);return i.iu(),new EP(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:RP.bind(null,t),eo:DP.bind(null,t),eu:xP.bind(null,t),tu:OP.bind(null,t)}),t.mu.push(async e=>{e?(t.Tu.Fo(),await Mc(t)):(await t.Tu.stop(),t.du.length>0&&(V("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))})),t.Tu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Im(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),_a(t))return new L(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=pf(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new ts(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ts)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ts;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.Eu=new Ve(B.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?e.type!==0&&r.type===3?this.Eu=this.Eu.insert(n,e):e.type===3&&r.type!==1?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Eu=this.Eu.remove(n):e.type===1&&r.type===2?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):Y():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class _s{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new _s(e,n,ts.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.Ru=void 0,this.listeners=[]}}class LP{constructor(){this.queries=new Ps(e=>E1(e),Rc),this.onlineState="Unknown",this.bu=new Set}}async function Q1(t,e){const n=Q(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bP),i)try{s.Ru=await n.onListen(r)}catch(o){const a=Cm(o,`Initialization of query '${df(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.Ru&&e.Vu(s.Ru)&&km(n)}async function X1(t,e){const n=Q(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function MP(t,e){const n=Q(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Ru=i}}r&&km(n)}function $P(t,e,n){const r=Q(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function km(t){t.bu.forEach(e=>{e.next()})}class J1{constructor(e,n,r){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _s(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.ku||!r)&&(!e.docs.isEmpty()||n==="Offline")}Cu(e){if(e.docChanges.length>0)return!0;const n=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Nu(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.key=e}}class e_{constructor(e){this.key=e}}class UP{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=ve(),this.mutatedKeys=ve(),this.Gu=S1(e),this.Qu=new ts(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new Av,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=mm(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let I=!1;d&&p?d.data.isEqual(p.data)?y!==w&&(r.track({type:3,doc:p}),I=!0):this.Hu(d,p)||(r.track({type:2,doc:p}),I=!0,(l&&this.Gu(p,l)>0||u&&this.Gu(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),I=!0):d&&!p&&(r.track({type:1,doc:d}),I=!0,(l||u)&&(a=!0)),I&&(p?(o=o.add(p),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,ii:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((u,c)=>function(h,d){const p=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return p(h)-p(d)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new _s(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Av,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ve(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new e_(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new Z1(r))}),n}ta(e){this.Uu=e._i,this.Ku=ve();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return _s.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.qu===0)}}class FP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jP{constructor(e){this.key=e,this.na=!1}}class VP{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Ps(a=>E1(a),Rc),this.ra=new Map,this.oa=new Set,this.ua=new Ve(B.comparator),this.aa=new Map,this.ca=new wm,this.ha={},this.la=new Map,this.fa=Ss.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return this.da===!0}}async function BP(t,e){const n=JP(t);let r,i;const s=n.ia.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const o=await iP(n.localStore,gi(e));n.isPrimaryClient&&z1(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await zP(n,e,r,a==="current")}return i}async function zP(t,e,n,r){t._a=(c,h,d)=>async function(p,y,w,I){let g=y.view.Wu(w);g.ii&&(g=await Tv(p.localStore,y.query,!1).then(({documents:S})=>y.view.Wu(S,g)));const m=I&&I.targetChanges.get(y.targetId),v=y.view.applyChanges(g,p.isPrimaryClient,m);return Rv(p,y.targetId,v.Xu),v.snapshot}(t,c,h,d);const i=await Tv(t.localStore,e,!0),s=new UP(e,i._i),o=s.Wu(i.documents),a=Sa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);Rv(t,n,l.Xu);const u=new FP(e,n,s);return t.ia.set(e,u),t.ra.has(n)?t.ra.get(n).push(e):t.ra.set(n,[e]),l.snapshot}async function HP(t,e){const n=Q(t),r=n.ia.get(e),i=n.ra.get(r.targetId);if(i.length>1)return n.ra.set(r.targetId,i.filter(s=>!Rc(s,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),H1(n.remoteStore,r.targetId),wf(n,r.targetId)}).catch(Ta)):(wf(n,r.targetId),await vf(n.localStore,r.targetId,!0))}async function qP(t,e,n){const r=ZP(t);try{const i=await function(s,o){const a=Q(s),l=at.now(),u=o.reduce((h,d)=>h.add(d.key),ve());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>a.fi.Ks(h,u).next(d=>{c=d;const p=[];for(const y of o){const w=pD(y,c.get(y.key));w!=null&&p.push(new Ea(y.key,w,y1(w.value.mapValue),ti.exists(!0)))}return a.Bs.addMutationBatch(h,l,p,o)})).then(h=>(h.applyToLocalDocumentSet(c),{batchId:h.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ha[s.currentUser.toKey()];l||(l=new Ve(oe)),l=l.insert(o,a),s.ha[s.currentUser.toKey()]=l}(r,i.batchId,n),await Ca(r,i.changes),await Mc(r.remoteStore)}catch(i){const s=Cm(i,"Failed to persist write");n.reject(s)}}async function t_(t,e){const n=Q(t);try{const r=await tP(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.aa.get(s);o&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.na=!0:i.modifiedDocuments.size>0?me(o.na):i.removedDocuments.size>0&&(me(o.na),o.na=!1))}),await Ca(n,r,e)}catch(r){await Ta(r)}}function Nv(t,e,n){const r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ia.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Q(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Pu(o)&&(l=!0)}),l&&km(a)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WP(t,e,n){const r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.aa.get(e),s=i&&i.key;if(s){let o=new Ve(B.comparator);o=o.insert(s,it.newNoDocument(s,ee.min()));const a=ve().add(s),l=new Pc(ee.min(),new Map,new Qe(oe),o,a);await t_(r,l),r.ua=r.ua.remove(s),r.aa.delete(e),Am(r)}else await vf(r.localStore,e,!1).then(()=>wf(r,e,n)).catch(Ta)}async function KP(t,e){const n=Q(t),r=e.batch.batchId;try{const i=await eP(n.localStore,e);r_(n,r,null),n_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ca(n,i)}catch(i){await Ta(i)}}async function GP(t,e,n){const r=Q(t);try{const i=await function(s,o){const a=Q(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.Bs.lookupMutationBatch(l,o).next(c=>(me(c!==null),u=c.keys(),a.Bs.removeMutationBatch(l,c))).next(()=>a.Bs.performConsistencyCheck(l)).next(()=>a.fi.Ks(l,u))})}(r.localStore,e);r_(r,e,n),n_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ca(r,i)}catch(i){await Ta(i)}}function n_(t,e){(t.la.get(e)||[]).forEach(n=>{n.resolve()}),t.la.delete(e)}function r_(t,e,n){const r=Q(t);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function wf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ra.get(e))t.ia.delete(r),n&&t.sa.wa(r,n);t.ra.delete(e),t.isPrimaryClient&&t.ca.vi(e).forEach(r=>{t.ca.containsKey(r)||i_(t,r)})}function i_(t,e){t.oa.delete(e.path.canonicalString());const n=t.ua.get(e);n!==null&&(H1(t.remoteStore,n),t.ua=t.ua.remove(e),t.aa.delete(n),Am(t))}function Rv(t,e,n){for(const r of n)r instanceof Z1?(t.ca.addReference(r.key,e),YP(t,r)):r instanceof e_?(V("SyncEngine","Document no longer in limbo: "+r.key),t.ca.removeReference(r.key,e),t.ca.containsKey(r.key)||i_(t,r.key)):Y()}function YP(t,e){const n=e.key,r=n.path.canonicalString();t.ua.get(n)||t.oa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.oa.add(r),Am(t))}function Am(t){for(;t.oa.size>0&&t.ua.size<t.maxConcurrentLimboResolutions;){const e=t.oa.values().next().value;t.oa.delete(e);const n=new B(fe.fromString(e)),r=t.fa.next();t.aa.set(r,new jP(n)),t.ua=t.ua.insert(n,r),z1(t.remoteStore,new ni(gi(hm(n.path)),r,2,om.A))}}async function Ca(t,e,n){const r=Q(t),i=[],s=[],o=[];r.ia.isEmpty()||(r.ia.forEach((a,l)=>{o.push(r._a(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=vm.Ys(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sa.zo(i),await async function(a,l){const u=Q(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>P.forEach(l,h=>P.forEach(h.Hs,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>P.forEach(h.Js,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!_a(c))throw c;V("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.ui.get(h),p=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(p);u.ui=u.ui.insert(h,y)}}}(r.localStore,s))}async function QP(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());const r=await F1(n.localStore,e);n.currentUser=e,function(i,s){i.la.forEach(o=>{o.forEach(a=>{a.reject(new L(R.CANCELLED,s))})}),i.la.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ca(n,r.di)}}function XP(t,e){const n=Q(t),r=n.aa.get(e);if(r&&r.na)return ve().add(r.key);{let i=ve();const s=n.ra.get(e);if(!s)return i;for(const o of s){const a=n.ia.get(o);i=i.unionWith(a.view.ju)}return i}}function JP(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=t_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WP.bind(null,e),e.sa.zo=MP.bind(null,e.eventManager),e.sa.wa=$P.bind(null,e.eventManager),e}function ZP(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GP.bind(null,e),e}class eb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=bc(e.databaseInfo.databaseId),this.sharedClientState=this.ga(e),this.persistence=this.ya(e),await this.persistence.start(),this.gcScheduler=this.pa(e),this.localStore=this.Ia(e)}pa(e){return null}Ia(e){return ZD(this.persistence,new XD,e.initialUser,this.M)}ya(e){return new dP(Em.Yi,this.M)}ga(e){return new pP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class tb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QP.bind(null,this.syncEngine),await PP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new LP}createDatastore(e){const n=bc(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new vP(i));var i;return function(s,o,a,l){return new SP(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Nv(this.syncEngine,a,0),o=Cv.vt()?new Cv:new mP,new TP(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new VP(r,i,s,o,a,l);return u&&(c.da=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Q(e);V("RemoteStore","RemoteStore shutting down."),n.wu.add(5),await Ia(n),n.gu.shutdown(),n.yu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=p1.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{V("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rb(t,e){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await F1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function ib(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sb(t);V("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>kv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>kv(e.remoteStore,s)),t.onlineComponents=e}async function sb(t){return t.offlineComponents||(V("FirestoreClient","Using default OfflineComponentProvider"),await rb(t,new eb)),t.offlineComponents}async function o_(t){return t.onlineComponents||(V("FirestoreClient","Using default OnlineComponentProvider"),await ib(t,new tb)),t.onlineComponents}function ob(t){return o_(t).then(e=>e.syncEngine)}async function a_(t){const e=await o_(t),n=e.eventManager;return n.onListen=BP.bind(null,e.syncEngine),n.onUnlisten=HP.bind(null,e.syncEngine),n}function ab(t,e,n={}){const r=new Hn;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new s_({next:h=>{s.enqueueAndForget(()=>X1(i,c));const d=h.docs.has(o);!d&&h.fromCache?l.reject(new L(R.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?l.reject(new L(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new J1(hm(o.path),u,{includeMetadataChanges:!0,ku:!0});return Q1(i,c)}(await a_(t),t.asyncQueue,e,n,r)),r.promise}function lb(t,e,n={}){const r=new Hn;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new s_({next:h=>{s.enqueueAndForget(()=>X1(i,c)),h.fromCache&&a.source==="server"?l.reject(new L(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new J1(o,u,{includeMetadataChanges:!0,ku:!0});return Q1(i,c)}(await a_(t),t.asyncQueue,e,n,r)),r.promise}const xv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t,e,n){if(!n)throw new L(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ub(t,e,n,r){if(e===!0&&r===!0)throw new L(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ov(t){if(!B.isDocumentKey(t))throw new L(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dv(t){if(B.isDocumentKey(t))throw new L(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $c(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$c(t);throw new L(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function cb(t,e){if(e<=0)throw new L(R.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new L(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ub("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1,e instanceof ys?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new L(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ys(i.options.projectId)}(e))}get app(){if(!this._app)throw new L(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new PO;switch(n.type){case"gapi":const r=n.client;return me(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new MO(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new L(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=xv.get(e);n&&(V("ComponentProvider","Removing Datastore"),xv.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}}class Ur{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ur(this.firestore,e,this._query)}}class wr extends Ur{constructor(e,n,r){super(e,n,hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new B(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function Uc(t,e,...n){if(t=Lt(t),l_("collection","path",e),t instanceof Nm){const r=fe.fromString(e,...n);return Dv(r),new wr(t,null,r)}{if(!(t instanceof Nt||t instanceof wr))throw new L(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return Dv(r),new wr(t.firestore,null,r)}}function Ls(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=p1.R()),l_("doc","path",e),t instanceof Nm){const r=fe.fromString(e,...n);return Ov(r),new Nt(t,null,new B(r))}{if(!(t instanceof Nt||t instanceof wr))throw new L(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return Ov(r),new Nt(t.firestore,t instanceof wr?t.converter:null,new B(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new V1(this,"async_queue_retry"),this.Qa=()=>{const n=Hh();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=Hh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=Hh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new Hn;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}async za(){if(this.$a.length!==0){try{await this.$a[0](),this.$a.shift(),this.No.reset()}catch(e){if(!_a(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.$a.length>0&&this.No.Ro(()=>this.za())}}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{this.Ua=r,this.qa=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.qa=!1,r))));return this.Fa=n,n}enqueueAfterDelay(e,n,r){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const i=Im.createAndSchedule(this,e,n,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&Y()}verifyOperationInProgress(){}async Ja(){let e;do e=this.Fa,await e;while(e!==this.Fa)}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.La)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}class ka extends Nm{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new hb,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||u_(this),this._firestoreClient.terminate()}}function db(t=bp()){return ca(t,"firestore").getImmediate()}function Rm(t){return t._firestoreClient||u_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function u_(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new BO(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new nb(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(Je.fromBase64String(e))}catch(n){throw new L(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts(Je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=/^__.*__$/;class pb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(e,this.data,n,this.fieldTransforms)}}function h_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class Dm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,s===void 0&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new Dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Su(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(e.length===0)throw this.ac("Document fields must not be empty");if(h_(this.ec)&&fb.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class mb{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||bc(e)}lc(e,n,r,i=!1){return new Dm({ec:e,methodName:n,hc:r,path:Tt.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Pm(t){const e=t._freezeSettings(),n=bc(t._databaseId);return new mb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gb(t,e,n,r,i,s={}){const o=t.lc(s.merge||s.mergeFields?2:0,e,n,i);m_("Data must be an object, but it was:",o,r);const a=f_(r,o);let l,u;if(s.merge)l=new lf(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=yb(e,h,n);if(!o.contains(d))throw new L(R.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);wb(c,d)||c.push(d)}l=new lf(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new pb(new ln(a),l,u)}function d_(t,e,n,r=!1){return bm(n,t.lc(r?4:3,e))}function bm(t,e){if(p_(t=Lt(t)))return m_("Unsupported field value:",e,t),f_(t,e);if(t instanceof c_)return function(n,r){if(!h_(r.ec))throw r.ac(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ic&&e.ec!==4)throw e.ac("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=bm(o,r.uc(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Lt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return lD(r.M,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=at.fromDate(n);return{timestampValue:wu(r.M,i)}}if(n instanceof at){const i=new at(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:wu(r.M,i)}}if(n instanceof Om)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ts)return{bytesValue:b1(r.M,n._byteString)};if(n instanceof Nt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gm(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ac(`Unsupported field value: ${$c(n)}`)}(t,e)}function f_(t,e){const n={};return m1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,i)=>{const s=bm(i,e.sc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function p_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Om||t instanceof Ts||t instanceof Nt||t instanceof c_)}function m_(t,e,n){if(!p_(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=$c(n);throw r==="an object"?e.ac(t+" a custom object"):e.ac(t+" "+r)}}function yb(t,e,n){if((e=Lt(e))instanceof xm)return e._internalPath;if(typeof e=="string")return g_(t,e);throw Su("Field path arguments must be of type string or ",t,!1,void 0,n)}const vb=new RegExp("[~\\*/\\[\\]]");function g_(t,e,n){if(e.search(vb)>=0)throw Su(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xm(...e.split("."))._internalPath}catch{throw Su(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Su(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new L(R.INVALID_ARGUMENT,a+t+l)}function wb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Eb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Eb extends Lm{data(){return super.data()}}function Fc(t,e){return typeof e=="string"?g_(t,e):e instanceof xm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class y_ extends Lm{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vl extends y_{data(e={}){return super.data(e)}}class Sb{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vl(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new vl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new vl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:_b(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _b(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jc{}function v_(t,...e){for(const n of e)t=n._apply(t);return t}class Ib extends jc{constructor(e,n,r){super(),this._c=e,this.wc=n,this.mc=r,this.type="where"}_apply(e){const n=Pm(e.firestore),r=function(i,s,o,a,l,u,c){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new L(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Lv(c,u);const p=[];for(const y of c)p.push(bv(a,i,y));h={arrayValue:{values:p}}}else h=bv(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Lv(c,u),h=d_(o,s,c,u==="in"||u==="not-in");const d=mt.create(l,u,h);return function(p,y){if(y.S()){const I=fm(p);if(I!==null&&!I.isEqual(y.field))throw new L(R.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${I.toString()}' and '${y.field.toString()}'`);const g=dm(p);g!==null&&w_(p,y.field,g)}const w=function(I,g){for(const m of I.filters)if(g.indexOf(m.op)>=0)return m.op;return null}(p,function(I){switch(I){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(y.op));if(w!==null)throw w===y.op?new L(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${y.op.toString()}' filter.`):new L(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${y.op.toString()}' filters with '${w.toString()}' filters.`)}(i,d),d}(e._query,"where",n,e.firestore._databaseId,this._c,this.wc,this.mc);return new Ur(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new Ai(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function wl(t,e,n){const r=e,i=Fc("where",t);return new Ib(i,r,n)}class Cb extends jc{constructor(e,n){super(),this._c=e,this.gc=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new L(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new L(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new es(i,s);return function(a,l){if(dm(a)===null){const u=fm(a);u!==null&&w_(a,u,l.field)}}(r,o),o}(e._query,this._c,this.gc);return new Ur(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ai(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function kb(t,e="asc"){const n=e,r=Fc("orderBy",t);return new Cb(r,n)}class Ab extends jc{constructor(e,n,r){super(),this.type=e,this.yc=n,this.Ic=r}_apply(e){return new Ur(e.firestore,e.converter,w1(e._query,this.yc,this.Ic))}}function Nb(t){return cb("limit",t),new Ab("limit",t,"F")}class Rb extends jc{constructor(e,n,r){super(),this.type=e,this.Tc=n,this.Ec=r}_apply(e){const n=Ob(e,this.type,this.Tc,this.Ec);return new Ur(e.firestore,e.converter,function(r,i){return new Ai(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function xb(...t){return new Rb("startAfter",t,!1)}function Ob(t,e,n,r){if(n[0]=Lt(n[0]),n[0]instanceof Lm)return function(i,s,o,a,l){if(!a)throw new L(R.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Es(i))if(c.field.isKeyField())u.push(gu(s,a.key));else{const h=a.data.field(c.field);if(am(h))throw new L(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const d=c.field.canonicalString();throw new L(R.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${d}' (used as the orderBy) does not exist.`)}u.push(h)}return new ws(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Pm(t.firestore);return function(s,o,a,l,u,c){const h=s.explicitOrderBy;if(u.length>h.length)throw new L(R.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const d=[];for(let p=0;p<u.length;p++){const y=u[p];if(h[p].field.isKeyField()){if(typeof y!="string")throw new L(R.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof y}`);if(!pm(s)&&y.indexOf("/")!==-1)throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${y}' contains a slash.`);const w=s.path.child(fe.fromString(y));if(!B.isDocumentKey(w))throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const I=new B(w);d.push(gu(o,I))}else{const w=d_(a,l,y);d.push(w)}}return new ws(d,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function bv(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new L(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pm(e)&&n.indexOf("/")!==-1)throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fe.fromString(n));if(!B.isDocumentKey(r))throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gu(t,new B(r))}if(n instanceof Nt)return gu(t,n._key);throw new L(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$c(n)}.`)}function Lv(t,e){if(!Array.isArray(t)||t.length===0)throw new L(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new L(R.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function w_(t,e,n){if(!n.isEqual(e))throw new L(R.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{convertValue(e,n="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Y()}}convertObject(e,n){const r={};return Ds(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Om(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=g1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const n=xr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);me(U1(r));const i=new ys(r.get(1),r.get(3)),s=new B(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){t=vi(t,Nt);const e=vi(t.firestore,ka);return ab(Rm(e),t._key).then(n=>Lb(e,t,n))}class E_ extends Db{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function S_(t){t=vi(t,Ur);const e=vi(t.firestore,ka),n=Rm(e),r=new E_(e);return Tb(t._query),lb(n,t._query).then(i=>new Sb(e,r,t,i))}function Mm(t,e,n){t=vi(t,Nt);const r=vi(t.firestore,ka),i=Pb(t.converter,e,n);return __(r,[gb(Pm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ti.none())])}function bb(t){return __(vi(t.firestore,ka),[new R1(t._key,ti.none())])}function __(t,e){return function(n,r){const i=new Hn;return n.asyncQueue.enqueueAndForget(async()=>qP(await ob(n),r,i)),i.promise}(Rm(t),e)}function Lb(t,e,n){const r=n.docs.get(e._key),i=new E_(t);return new y_(t,i,e._key,r,new oo(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Os=n})(Ci),Ar(new Cr("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new ka(i,new bO(n.getProvider("auth-internal")),new UO(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),hn(rv,"3.4.9",t),hn(rv,"3.4.9","esm2017")})();function $m(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function T_(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mb=T_,I_=new Ii("auth","Firebase",T_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new pc("@firebase/auth");function El(t,...e){Mv.logLevel<=se.ERROR&&Mv.error(`Auth (${Ci}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t,...e){throw Um(t,...e)}function In(t,...e){return Um(t,...e)}function C_(t,e,n){const r=Object.assign(Object.assign({},Mb()),{[e]:n});return new Ii("auth","Firebase",r).create(e,{appName:t.name})}function $b(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qt(t,"argument-error"),C_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Um(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return I_.create(t,...e)}function q(t,e,...n){if(!t)throw Um(e,...n)}function Vn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw El(e),new Error(e)}function Qn(t,e){t||Vn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;function Bn(t){Qn(t instanceof Function,"Expected a class definition");let e=$v.get(t);return e?(Qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$v.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t,e){const n=ca(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(iu(s,e!=null?e:{}))return i;Qt(i,"already-initialized")}return n.initialize({options:e})}function Fb(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jb(){return Uv()==="http:"||Uv()==="https:"}function Uv(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jb()||ZE()||"connection"in navigator)?navigator.onLine:!0}function Bb(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qn(n>e,"Short delay should be less than long delay!"),this.isMobile=JE()||eS()}get(){return Vb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t,e){Qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=new Aa(3e4,6e4);function Ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $s(t,e,n,r,i={}){return A_(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ua(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),k_.fetch()(N_(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function A_(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zb),e);try{const i=new qb(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw qh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw qh(t,"email-already-in-use",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw C_(t,c,u);Qt(t,c)}}catch(i){if(i instanceof Lr)throw i;Qt(t,"network-request-failed")}}async function Na(t,e,n,r,i={}){const s=await $s(t,e,n,r,i);return"mfaPendingCredential"in s&&Qt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function N_(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Fm(t.config,i):`${t.config.apiScheme}://${i}`}class qb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(In(this.auth,"network-request-failed")),Hb.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=In(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(t,e){return $s(t,"POST","/v1/accounts:delete",e)}async function Kb(t,e){return $s(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Gb(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),i=jm(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Eo(Wh(i.auth_time)),issuedAtTime:Eo(Wh(i.iat)),expirationTime:Eo(Wh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wh(t){return Number(t)*1e3}function jm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return El("JWT malformed, contained fewer than 3 sections"),null;try{const i=qN(n);return i?JSON.parse(i):(El("Failed to decode base64 JWT payload"),null)}catch(i){return El("Caught error parsing JWT payload as JSON",i),null}}function Yb(t){const e=jm(t);return q(e,"internal-error"),q(typeof e.exp!="undefined","internal-error"),q(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lr&&Qb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Qb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Jo(t,Kb(n,{idToken:r}));q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eL(s.providerUserInfo):[],a=Zb(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new R_(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function Jb(t){const e=Lt(t);await _u(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zb(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eL(t){return t.map(e=>{var{providerId:n}=e,r=$m(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(t,e){const n=await A_(t,{},async()=>{const r=ua({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=N_(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",k_.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken!="undefined","internal-error"),q(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):Yb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zo;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Vn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,e){q(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class ri{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=$m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new R_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Jo(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Gb(this,e)}reload(){return Jb(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _u(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Jo(this,Wb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:S,isAnonymous:k,providerData:_,stsTokenManager:A}=n;q(v&&A,e,"internal-error");const O=Zo.fromJSON(this.name,A);q(typeof v=="string",e,"internal-error"),er(h,e.name),er(d,e.name),q(typeof S=="boolean",e,"internal-error"),q(typeof k=="boolean",e,"internal-error"),er(p,e.name),er(y,e.name),er(w,e.name),er(I,e.name),er(g,e.name),er(m,e.name);const F=new ri({uid:v,auth:e,email:d,emailVerified:S,displayName:h,isAnonymous:k,photoURL:y,phoneNumber:p,tenantId:w,stsTokenManager:O,createdAt:g,lastLoginAt:m});return _&&Array.isArray(_)&&(F.providerData=_.map(j=>Object.assign({},j))),I&&(F._redirectEventId=I),F}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zo;i.updateFromServerResponse(n);const s=new ri({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _u(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x_.type="NONE";const Fv=x_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t,e,n){return`firebase:${t}:${e}:${n}`}class ns{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ns(Bn(Fv),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Bn(Fv);const o=Sl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=ri._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ns(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ns(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L_(e))return"Blackberry";if(M_(e))return"Webos";if(Vm(e))return"Safari";if((e.includes("chrome/")||D_(e))&&!e.includes("edge/"))return"Chrome";if(b_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function O_(t=Fe()){return/firefox\//i.test(t)}function Vm(t=Fe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D_(t=Fe()){return/crios\//i.test(t)}function P_(t=Fe()){return/iemobile/i.test(t)}function b_(t=Fe()){return/android/i.test(t)}function L_(t=Fe()){return/blackberry/i.test(t)}function M_(t=Fe()){return/webos/i.test(t)}function Bc(t=Fe()){return/iphone|ipad|ipod/i.test(t)}function nL(t=Fe()){var e;return Bc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rL(){return tS()&&document.documentMode===10}function $_(t=Fe()){return Bc(t)||b_(t)||M_(t)||L_(t)||/windows phone/i.test(t)||P_(t)}function iL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t,e=[]){let n;switch(t){case"Browser":n=jv(Fe());break;case"Worker":n=`${jv(Fe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ci}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vv(this),this.idTokenSubscription=new Vv(this),this.beforeStateQueue=new sL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I_,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ns.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _u(e)}catch(n){if(n.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Lt(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ii("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await ns.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return q(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Ra(t){return Lt(t)}class Vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=nS(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,n){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}}async function aL(t,e){return $s(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){return Na(t,"POST","/v1/accounts:signInWithPassword",Ms(t,e))}async function uL(t,e){return $s(t,"POST","/v1/accounts:sendOobCode",Ms(t,e))}async function cL(t,e){return uL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e){return Na(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}async function dL(t,e){return Na(t,"POST","/v1/accounts:signInWithEmailLink",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Bm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ea(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ea(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return lL(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return hL(e,{email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return aL(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return dL(e,{idToken:n,email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rs(t,e){return Na(t,"POST","/v1/accounts:signInWithIdp",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="http://localhost";class wi extends Bm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=$m(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new wi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return rs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rs(e,n)}buildRequest(){const e={requestUri:fL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ua(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mL(t){const e=ro(io(t)).link,n=e?ro(io(e)).deep_link_id:null,r=ro(io(t)).deep_link_id;return(r?ro(io(r)).link:null)||r||n||e||t}class zm{constructor(e){var n,r,i,s,o,a;const l=ro(io(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=pL((i=l.mode)!==null&&i!==void 0?i:null);q(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=mL(e);try{return new zm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.providerId=Us.PROVIDER_ID}static credential(e,n){return ea._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zm.parseLink(n);return q(r,"argument-error"),ea._fromEmailAndCode(e,r.code,r.tenantId)}}Us.PROVIDER_ID="password";Us.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Us.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Hm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends xa{constructor(){super("facebook.com")}static credential(e){return wi._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends xa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wi._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ln.credentialFromTaggedObject(e)}static credentialFromError(e){return Ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ln.credential(n,r)}catch{return null}}}Ln.GOOGLE_SIGN_IN_METHOD="google.com";Ln.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends xa{constructor(){super("github.com")}static credential(e){return wi._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends xa{constructor(){super("twitter.com")}static credential(e,n){return wi._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ar.credential(n,r)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e){return Na(t,"POST","/v1/accounts:signUp",Ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ri._fromIdTokenResponse(e,r,i),o=Bv(r);return new Ei({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Bv(r);return new Ei({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Bv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Lr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tu(e,n,r,i)}}function F_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Tu._fromErrorAndOperation(t,s,e,r):s})}async function yL(t,e,n=!1){const r=await Jo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ei._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Jo(t,F_(r,i,e,t),n);q(s.idToken,r,"internal-error");const o=jm(s.idToken);q(o,r,"internal-error");const{sub:a}=o;return q(t.uid===a,r,"user-mismatch"),Ei._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Qt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j_(t,e,n=!1){const r="signIn",i=await F_(t,r,e),s=await Ei._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function wL(t,e){return j_(Ra(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e,n){var r;q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),q(typeof n.dynamicLinkDomain=="undefined"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e,n){const r=Lt(t),i={requestType:"PASSWORD_RESET",email:e};n&&EL(r,i,n),await cL(r,i)}async function _L(t,e,n){const r=Ra(t),i=await gL(r,{returnSecureToken:!0,email:e,password:n}),s=await Ei._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function TL(t,e,n){return wL(Lt(t),Us.credential(e,n))}const Iu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(){const t=Fe();return Vm(t)||Bc(t)}const CL=1e3,kL=10;class B_ extends V_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=IL()&&iL(),this.fallbackToPolling=$_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);rL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}B_.type="LOCAL";const AL=B_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends V_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z_.type="SESSION";const H_=z_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new zc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await NL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=qm("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function xL(t){Cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){return typeof Cn().WorkerGlobalScope!="undefined"&&typeof Cn().importScripts=="function"}async function OL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function PL(){return q_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="firebaseLocalStorageDb",bL=1,Cu="firebaseLocalStorage",K_="fbase_key";class Oa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hc(t,e){return t.transaction([Cu],e?"readwrite":"readonly").objectStore(Cu)}function LL(){const t=indexedDB.deleteDatabase(W_);return new Oa(t).toPromise()}function Sf(){const t=indexedDB.open(W_,bL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cu,{keyPath:K_})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cu)?e(r):(r.close(),await LL(),e(await Sf()))})})}async function zv(t,e,n){const r=Hc(t,!0).put({[K_]:e,value:n});return new Oa(r).toPromise()}async function ML(t,e){const n=Hc(t,!1).get(e),r=await new Oa(n).toPromise();return r===void 0?null:r.value}function Hv(t,e){const n=Hc(t,!0).delete(e);return new Oa(n).toPromise()}const $L=800,UL=3;class G_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zc._getInstance(PL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OL(),!this.activeServiceWorker)return;this.sender=new RL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sf();return await zv(e,Iu,"1"),await Hv(e,Iu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ML(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hc(i,!1).getAll();return new Oa(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G_.type="LOCAL";const FL=G_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function VL(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=In("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",jL().appendChild(r)})}function BL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Aa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t,e){return e?Bn(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends Bm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zL(t){return j_(t.auth,new Wm(t),t.bypassAuthState)}function HL(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),vL(n,new Wm(t),t.bypassAuthState)}async function qL(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),yL(n,new Wm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zL;case"linkViaPopup":case"linkViaRedirect":return qL;case"reauthViaPopup":case"reauthViaRedirect":return HL;default:Qt(this.auth,"internal-error")}}resolve(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new Aa(2e3,1e4);async function KL(t,e,n){const r=Ra(t);$b(t,e,Hm);const i=Y_(r,n);return new Jr(r,"signInViaPopup",e,i).executeNotNull()}class Jr extends Q_{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Jr.currentPopupAction&&Jr.currentPopupAction.cancel(),Jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){Qn(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,WL.get())};e()}}Jr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="pendingRedirect",_l=new Map;class YL extends Q_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_l.get(this.auth._key());if(!e){try{const r=await QL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_l.set(this.auth._key(),e)}return this.bypassAuthState||_l.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QL(t,e){const n=ZL(e),r=JL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XL(t,e){_l.set(t._key(),e)}function JL(t){return Bn(t._redirectPersistence)}function ZL(t){return Sl(GL,t.config.apiKey,t.name)}async function eM(t,e,n=!1){const r=Ra(t),i=Y_(r,e),o=await new YL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=10*60*1e3;class nM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!X_(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(In(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tM&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(e))}saveEventToCache(e){this.cachedEventUids.add(qv(e)),this.lastProcessedEventTime=Date.now()}}function qv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e={}){return $s(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oM=/^https?/;async function aM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iM(t);for(const n of e)try{if(lM(n))return}catch{}Qt(t,"unauthorized-domain")}function lM(t){const e=Ef(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!oM.test(n))return!1;if(sM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new Aa(3e4,6e4);function Wv(){const t=Cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cM(t){return new Promise((e,n)=>{var r,i,s;function o(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(In(t,"network-request-failed"))},timeout:uM.get()})}if(!((i=(r=Cn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cn().gapi)===null||s===void 0)&&s.load)o();else{const a=BL("iframefcb");return Cn()[a]=()=>{gapi.load?o():n(In(t,"network-request-failed"))},VL(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Tl=null,e})}let Tl=null;function hM(t){return Tl=Tl||cM(t),Tl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new Aa(5e3,15e3),fM="__/auth/iframe",pM="emulator/auth/iframe",mM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yM(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fm(e,pM):`https://${t.config.authDomain}/${fM}`,r={apiKey:e.apiKey,appName:t.name,v:Ci},i=gM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ua(r).slice(1)}`}async function vM(t){const e=await hM(t),n=Cn().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:yM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),a=Cn().setTimeout(()=>{s(o)},dM.get());function l(){Cn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EM=500,SM=600,_M="_blank",TM="http://localhost";class Kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IM(t,e,n,r=EM,i=SM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wM),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Fe().toLowerCase();n&&(a=D_(u)?_M:n),O_(u)&&(e=e||TM,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,y])=>`${d}${p}=${y},`,"");if(nL(u)&&a!=="_self")return CM(e||"",a),new Kv(null);const h=window.open(e||"",a,c);q(h,t,"popup-blocked");try{h.focus()}catch{}return new Kv(h)}function CM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="__/auth/handler",AM="emulator/auth/handler";function Gv(t,e,n,r,i,s){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ci,eventId:i};if(e instanceof Hm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",nR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof xa){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${NM(t)}?${ua(a).slice(1)}`}function NM({config:t}){return t.emulator?Fm(t,AM):`https://${t.authDomain}/${kM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="webStorageSupport";class RM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H_,this._completeRedirectFn=eM,this._overrideRedirectResult=XL}async _openPopup(e,n,r,i){var s;Qn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Gv(e,n,r,Ef(),i);return IM(e,o,qm())}async _openRedirect(e,n,r,i){return await this._originValidation(e),xL(Gv(e,n,r,Ef(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vM(e),r=new nM(e);return n.register("authEvent",i=>(q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kh,{type:Kh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Kh];o!==void 0&&n(!!o),Qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $_()||Vm()||Bc()}}const xM=RM;var Yv="@firebase/auth",Qv="0.20.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function PM(t){Ar(new Cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{q(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),q(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U_(t)},c=new oL(a,l,u);return Fb(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ar(new Cr("auth-internal",e=>{const n=Ra(e.getProvider("auth").getImmediate());return(r=>new OM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hn(Yv,Qv,DM(t)),hn(Yv,Qv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t=bp()){const e=ca(t,"auth");return e.isInitialized()?e.getImmediate():Ub(t,{popupRedirectResolver:xM,persistence:[FL,AL,H_]})}PM("Browser");const J_=Pp(gx),Fr=db(J_),yt=bM(J_);fS.firestore;const LM=async(t,e)=>{if(t!=null){const{uid:n}=t,r=Ls(Fr,"users",`${n}`);if(!(await Vc(r)).exists()){const{displayName:s,email:o}=t,a=new Date,l=["user"];try{await Mm(r,H({displayName:s,email:o,createdDate:a,userRoles:l},e))}catch(u){console.log(u)}}return r}},MM=()=>new Promise((t,e)=>{const n=yt.onAuthStateChanged(r=>{n(),t(r)},e)}),$M=t=>new Promise((e,n)=>{SL(yt,t).then(()=>{e(!0)}).catch(r=>{n(r)})}),UM=({user:t})=>({signUpError:t.signUpError}),FM=()=>{const[t,e]=b.exports.useState(yt.currentUser),[n,r]=b.exports.useState({nombre:"",email:"",password:"",confirmPassword:""}),{errors:i,validateForm:s,onBlurField:o}=BN(n),{signUpError:a}=Ft(UM),l=Vt(),[u,c]=b.exports.useState("");b.exports.useEffect(()=>{c(a)},[a]),yt.onAuthStateChanged(p=>{e(yt.currentUser)});const h=p=>{const y=p.target.name,w=Z(H({},n),{[y]:p.target.value});r(w),i[y].touched&&s({form:w,errors:i,field:y})};return N("div",{className:"signup",children:[t&&f(aa,{to:"/"}),N("div",{className:"wrap",children:[f("h2",{children:"Registrarse"}),N("form",{onSubmit:p=>{p.preventDefault();const{isValid:y}=s({form:n,errors:i,forceTouchErrors:!0});!y||l(gN(n.nombre,n.email,n.password))},children:[f(Pe,{label:"Nombre",inputtype:"text",inputname:"nombre",inputvalue:n.nombre,inputonchange:h,inputonBlur:o,errorform:i.nombre.touched&&i.nombre.error?!0:null}),i.nombre.touched&&i.nombre.error?f(de,{mensaje:i.nombre.message}):null,f(Pe,{label:"Email",inputtype:"email",inputname:"email",inputvalue:n.email,inputonchange:h,inputonBlur:o,errorform:i.email.touched&&i.email.error?!0:null}),i.email.touched&&i.email.error?f(de,{mensaje:i.email.message}):null,f(Pe,{label:"Contrase\xF1a",inputtype:"password",inputname:"password",inputvalue:n.password,inputonchange:h,inputonBlur:o,errorform:i.password.touched&&i.password.error?!0:null}),i.password.touched&&i.password.error?f(de,{mensaje:i.password.message}):null,f(Pe,{label:"Repetir contrase\xF1a",inputtype:"password",inputname:"confirmPassword",inputvalue:n.confirmPassword,inputonchange:h,inputonBlur:o,errorform:i.confirmPassword.touched&&i.confirmPassword.error?!0:null}),i.confirmPassword.touched&&i.confirmPassword.error?f(de,{mensaje:i.confirmPassword.message}):null,u?f(de,{mensaje:u}):null,f(fs,{type:"submit",children:"Registrarse"})]})]})]})},jM=()=>f("div",{children:f(FM,{})});const VM=t=>Object.entries(t).reduce((e,[n,r])=>(e[n]=Z(H({},r),{touched:!0}),e),{}),BM=t=>{const[e,n]=b.exports.useState({email:{touched:!1,error:!1,message:""},password:{touched:!1,error:!1,message:""}}),r=({form:s,field:o,errors:a,forceTouchErrors:l=!1})=>{let u=!0,c=JSON.parse(JSON.stringify(a));l&&(c=VM(a));const{email:h,password:d}=s;if(c.email.touched&&(o?o==="email":!0)){const p=Sn(h);c.email.error=!!p,c.email.message=p,p&&(u=!1)}if(c.password.touched&&(o?o==="password":!0)){const p=Sn(d);c.password.error=!!p,c.password.message=p,p&&(u=!1)}return n(c),{isValid:u,errors:c}};return{validateForm:r,onBlurField:s=>{const o=s.target.name;if(e[o].touched)return;const l=Z(H({},e),{[o]:Z(H({},e[o]),{touched:!0})});r({form:t,field:o,errors:l})},errors:e}},zM=({user:t})=>({signInError:t.signInError}),HM=()=>{const t=Rn(),{signInError:e}=Ft(zM),n=Vt(),[r,i]=b.exports.useState(yt.currentUser),[s,o]=b.exports.useState(""),[a,l]=b.exports.useState({email:"",password:""}),{errors:u,validateForm:c,onBlurField:h}=BM(a);b.exports.useEffect(()=>{o(e)},[e]),yt.onAuthStateChanged(w=>{i(yt.currentUser)});const d=()=>{t("/resetpassword")},p=w=>{const I=w.target.name,g=Z(H({},a),{[I]:w.target.value});l(g),u[I].touched&&c({form:g,errors:u,field:I})};return N("div",{className:"signin",children:[r?f(aa,{to:"/"}):null,N("div",{className:"wrap",children:[f("h2",{children:"Login"}),N("div",{className:"formWrap",children:[N("form",{onSubmit:async w=>{w.preventDefault();const{isValid:I}=c({form:a,errors:u,forceTouchErrors:!0});!I||n(cN(a.email,a.password))},children:[f(Pe,{label:"Email",inputtype:"email",inputname:"email",inputvalue:a.email,inputonchange:p,inputonBlur:h,errorform:u.email.touched&&u.email.error?!0:null}),u.email.touched&&u.email.error?f(de,{mensaje:u.email.message}):null,f(Pe,{label:"Contrase\xF1a",inputtype:"password",inputname:"password",inputvalue:a.password,inputonchange:p,inputonBlur:h,errorform:u.password.touched&&u.password.error?!0:null}),u.password.touched&&u.password.error?f(de,{mensaje:u.password.message}):null,s?f(de,{mensaje:s}):null,f("a",{onClick:()=>d(),children:"\xBFOlvidaste tu contrase\xF1a?"}),f(fs,{type:"submit",children:"Login"})]}),f(fs,{type:"button",buttonclick:()=>n(mN()),children:"Sign in with Goole"})]})]})]})},qM=()=>f(HM,{});var WM="/assets/DefaultImageColor.9aaca754.png";const KM=({user:t})=>({currentUser:t.currentUser}),GM=()=>{const{currentUser:t}=Ft(KM);return N("div",{className:"userProfile",children:[f("img",{loading:"lazy",src:WM}),f("span",{children:t?t.displayName:null})]})};const Km=({children:t})=>N("div",{className:"verticalNavAdmin",children:[f(GM,{}),f("div",{className:"insideVerticalNav",children:t})]});const Nn={SAVE_ORDER_HYSTORY_START:"SAVE_ORDER_HYSTORY_START",GET_USER_ORDER_HISTORY_START:"GET_USER_ORDER_HISTORY_START",SET_USER_ORDER_HISTORY:"SET_USER_ORDER_HISTORY",GET_ORDER_DETAILS_START:"GET_ORDER_DETAILS_START",SET_ORDER_DETAILS:"SET_ORDER_DETAILS"},YM=t=>({type:Nn.SAVE_ORDER_HYSTORY_START,payload:t}),QM=t=>({type:Nn.GET_USER_ORDER_HISTORY_START,payload:t}),XM=t=>({type:Nn.SET_USER_ORDER_HISTORY,payload:t}),JM=t=>({type:Nn.GET_ORDER_DETAILS_START,payload:t}),ZM=t=>({type:Nn.SET_ORDER_DETAILS,payload:t});const e$=({orders:t})=>{const e=Rn();if(!!t)return N("table",{className:"orderHistoryTable",children:[f("thead",{children:N("tr",{children:[f("th",{children:"Fecha del pedido"}),f("th",{children:"ID del pedido"}),f("th",{children:"Total"})]})}),f("tbody",{children:t.map((n,r)=>{const{orderCreatedDate:i,documentID:s,orderTotal:o}=n,a=new Date(i.seconds*1e3+i.nanoseconds/1e6),l=uN(a);return N("tr",{onClick:()=>e(`/order/${s}`),children:[f("td",{className:"firsttd",children:l}),f("td",{children:s}),N("td",{className:"lasttd",children:[o,"\u20AC"]})]},r)})})]})};var t$="/assets/orderError.8c729177.png";const n$=({user:t,orderData:e})=>({currentUser:t.currentUser,orderHistory:e.orderHistory.data}),r$=()=>{const{currentUser:t,orderHistory:e}=Ft(n$),n=Vt(),r=la(t),[i,s]=b.exports.useState(0);return b.exports.useEffect(()=>{n(QM(t.id))},[]),b.exports.useEffect(()=>{e&&s(e.length)},[e]),N("div",{className:r?"adminacc myaccount":"useracc myaccount",children:[t?null:f(aa,{to:"/login"}),f(Km,{children:N("ul",{children:[f("li",{children:f(Oe,{to:"/",children:"Inicio"})}),f("li",{onClick:()=>{n(hc())},children:"Salir"})]})}),N("div",{className:"contentMyaccount",children:[f("h1",{children:"Historial de pedidos"}),i>0?f(e$,{orders:e}):N("div",{className:"orderError",children:[f("p",{children:"No tienes ningun pedido realizado"}),f("img",{src:t$})]})]})]})};const Z_=({type:t,children:e,buttonclick:n})=>f("button",{className:"redButton",type:t,onClick:n,children:e});const i$=({hidePopupForm:t,children:e,togglePopupForm:n})=>t?null:[f("div",{className:"popupOverlay",onClick:()=>n()}),f("div",{className:"popWrap",children:f("div",{className:"popupform",children:e})})];const Gm=({label:t,selectChange:e,selectOptions:n,selectDefault:r,selectValue:i,selectName:s,selectBlur:o,errorform:a})=>(a&&(a="formfielderror"),N("div",{className:"insidewrap",children:[t&&f("label",{children:t}),N("select",{className:a,onChange:e,value:i,name:s,onBlur:o,children:[r&&f("option",{value:"",children:r}),n.map((l,u)=>{const{value:c,name:h}=l;return f("option",{value:c,children:h},u)})]})]})),s$=t=>Object.entries(t).reduce((e,[n,r])=>(e[n]=Z(H({},r),{touched:!0}),e),{}),o$=t=>{const[e,n]=b.exports.useState({categoria:{touched:!1,error:!1,message:""},nombre:{touched:!1,error:!1,message:""},imageURL:{touched:!1,error:!1,message:""},precio:{touched:!1,error:!1,message:""},descripcion:{touched:!1,error:!1,message:""}}),r=({form:s,field:o,errors:a,forceTouchErrors:l=!1})=>{let u=!0,c=JSON.parse(JSON.stringify(a));l&&(c=s$(a));const{categoria:h,nombre:d,imageURL:p,precio:y,descripcion:w}=s;if(c.categoria.touched&&(o?o==="categoria":!0)){const I=Sn(h);c.categoria.error=!!I,c.categoria.message=I,I&&(u=!1)}if(c.nombre.touched&&(o?o==="nombre":!0)){const I=Sn(d);c.nombre.error=!!I,c.nombre.message=I,I&&(u=!1)}if(c.imageURL.touched&&(o?o==="imageURL":!0)){const I=Sn(p);c.imageURL.error=!!I,c.imageURL.message=I,I&&(u=!1)}if(c.precio.touched&&(o?o==="precio":!0)){const I=Sn(y);c.precio.error=!!I,c.precio.message=I,I&&(u=!1)}if(c.descripcion.touched&&(o?o==="descripcion":!0)){const I=Sn(w);c.descripcion.error=!!I,c.descripcion.message=I,I&&(u=!1)}return n(c),{isValid:u,errors:c}};return{validateForm:r,onBlurField:s=>{const o=s.target.name;if(e[o].touched)return;const l=Z(H({},e),{[o]:Z(H({},e[o]),{touched:!0})});r({form:t,field:o,errors:l})},errors:e}},Xt={ADD_NEW_TRABAJADOR_START:"ADD_NEW_TRABAJADOR_START",FETCH_TRABAJADORES_START:"FETCH_TRABAJADORES_START",SET_TRABAJADORES:"SET_TRABAJADORES",DELETE_TRABAJADOR_START:"DELETE_TRABAJADOR_START",FETCH_TRABAJADOR_START:"FETCH_TRABAJADOR_START",SET_TRABAJADOR:"SET_TRABAJADOR"},a$=(t,e,n,r,i)=>({type:Xt.ADD_NEW_TRABAJADOR_START,payload:t,nombre:e,imageURL:n,precio:r,descripcion:i}),ii=(t={})=>({type:Xt.FETCH_TRABAJADORES_START,payload:t}),l$=t=>({type:Xt.SET_TRABAJADORES,payload:t}),u$=t=>({type:Xt.DELETE_TRABAJADOR_START,payload:t}),c$=t=>({type:Xt.FETCH_TRABAJADOR_START,payload:t}),eT=t=>({type:Xt.SET_TRABAJADOR,payload:t}),tT=({onLoadMoreEvent:t=()=>{}})=>f(fs,{buttonclick:()=>t(),children:"Cargar m\xE1s"});const h$=({label:t,textareavalue:e,textareaonchange:n,textareaname:r,textareaonBlur:i,errorform:s})=>(s&&(s="formfielderror"),N("div",{className:"insidewrap",children:[f("label",{children:t}),f("textarea",{className:s,value:e,onChange:n,name:r,onBlur:i})]})),d$=({trabajadoresData:t})=>({trabajadores:t.trabajadores}),f$=()=>{const{trabajadores:t}=Ft(d$),e=Vt(),[n,r]=b.exports.useState(!0),i=()=>r(!n),[s,o]=b.exports.useState({categoria:"",nombre:"",imageURL:"",precio:"",descripcion:""}),{errors:a,validateForm:l,onBlurField:u}=o$(s),c=[],{data:h,isLastPage:d,queryDoc:p}=t;b.exports.useEffect(()=>{e(ii({pageSize:3}))},[]);const w={onLoadMoreEvent:()=>{e(ii({pageSize:3,startAfterDoc:p,persistTrabajadores:h}))}};VE.forEach(v=>{c.push({value:v,name:v})});const I=v=>{const S=v.target.name,k=Z(H({},s),{[S]:v.target.value});o(k),a[S].touched&&l({form:k,errors:a,field:S})},g=()=>{r(!0),o({categoria:"",nombre:"",imageURL:"",precio:"",descripcion:""})};return N("div",{className:"insideAdminPanel",children:[f("div",{className:"listbuttons",children:f(kn,{buttonclick:()=>i(),children:"A\xF1adir trabajador"})}),N(i$,{hidePopupForm:n,togglePopupForm:i,children:[f("h1",{children:"A\xF1adir trabajador"}),N("form",{onSubmit:v=>{v.preventDefault();const{isValid:S}=l({form:s,errors:a,forceTouchErrors:!0});!S||(e(a$(s.categoria,s.nombre,s.imageURL,s.precio,s.descripcion)),g())},children:[f(Gm,{label:"Categorias",selectOptions:c,selectDefault:"Seleccione una Categoria",selectName:"categoria",selectValue:s.categoria,selectBlur:u,selectChange:I,errorform:a.categoria.touched&&a.categoria.error?!0:null}),a.categoria.touched&&a.categoria.error?f(de,{mensaje:a.categoria.message}):null,f(Pe,{label:"Nombre",inputtype:"text",inputname:"nombre",inputvalue:s.nombre,inputonBlur:u,inputonchange:I,errorform:a.nombre.touched&&a.nombre.error?!0:null}),a.nombre.touched&&a.nombre.error?f(de,{mensaje:a.nombre.message}):null,f(Pe,{label:"Imagen URL",inputtype:"text",inputname:"imageURL",inputvalue:s.imageURL,inputonBlur:u,inputonchange:I,errorform:a.imageURL.touched&&a.imageURL.error?!0:null}),a.imageURL.touched&&a.imageURL.error?f(de,{mensaje:a.imageURL.message}):null,f(Pe,{label:"Precio",inputtype:"number",inputmin:"1",inputname:"precio",inputvalue:s.precio,inputonBlur:u,inputonchange:I,errorform:a.precio.touched&&a.precio.error?!0:null}),a.precio.touched&&a.precio.error?f(de,{mensaje:a.precio.message}):null,f(h$,{label:"Descripci\xF3n",textareaname:"descripcion",textareavalue:s.descripcion,textareaonBlur:u,textareaonchange:I,errorform:a.descripcion.touched&&a.descripcion.error?!0:null}),a.descripcion.touched&&a.descripcion.error?f(de,{mensaje:a.descripcion.message}):null,f(fs,{type:"submit",children:"A\xF1adir trabajador"})]})]}),f("div",{className:"manageTrabjadores",children:f("table",{children:N("tbody",{children:[f("tr",{children:f("th",{children:f("h1",{children:"Trabajadores"})})}),f("tr",{children:N("td",{children:[f("table",{className:"trabajadoresTable",children:f("tbody",{children:Array.isArray(h)&&h.length>0&&h.map((v,S)=>{const{categoria:k,imageURL:_,nombre:A,precio:O,documentID:F}=v;return N("tr",{children:[f("td",{children:f("img",{loading:"lazy",src:_})}),f("td",{children:k}),f("td",{children:A}),N("td",{className:"precioTable",children:[O," \u20AC"]}),f("td",{children:f(Z_,{buttonclick:()=>e(u$(F)),children:"Eliminar"})})]},S)})})}),f("div",{className:"pagger",children:!d&&f(tT,H({},w))})]})})]})})})]})};const p$=({user:t})=>({currentUser:t.currentUser}),m$=()=>{const{currentUser:t}=Ft(p$),e=la(t),n=Vt();return N("div",{className:"adminPannel",children:[e?null:f(aa,{to:"/login"}),f(Km,{children:N("ul",{children:[f("li",{children:f(Oe,{to:"/",children:"Inicio"})}),f("li",{onClick:()=>{n(hc())},children:"Salir"})]})}),f("div",{className:"content",children:f(f$,{})})]})};const cr={ADD_TO_CART:"ADD_TO_CART",REMOVE_CART_ITEM:"REMOVE_CART_ITEM",REDUCE_CART_ITEM:"REDUCE_CART_ITEM",CLEAR_CART:"CLEAR_CART"},Ym=t=>({type:cr.ADD_TO_CART,payload:t}),g$=t=>({type:cr.REMOVE_CART_ITEM,payload:t}),y$=t=>({type:cr.REDUCE_CART_ITEM,payload:t}),v$=()=>({type:cr.CLEAR_CART}),w$=({trabajador:t})=>{const e=Vt(),n=Rn(),{nombre:r,precio:i,imageURL:s,categoria:o,documentID:a}=t;if(!a||!s||!r)return null;const l=c=>{if(c.target.name==="addtocart")return null;n(`/trabajador/${a}`)},u=c=>{if(!c)return;const h=Z(H({},c),{quantity:1});e(Ym(h))};return N("div",{className:"trabajadorCard",onClick:l,children:[f("img",{loading:"lazy",className:"trabajadorCardImage",src:s,alt:r}),N("div",{className:"trabajadorCardData",children:[N("ul",{children:[N("li",{className:"categoriaCard",children:[f("img",{loading:"lazy",className:"iconCard",src:BE(o)}),f("span",{children:o})]}),N("li",{className:"middleCard",children:[f("span",{children:r}),N("span",{className:"precioCard",children:[i,"\u20AC",f("span",{className:"precioHora",children:"/hora"})]})]})]}),f(kn,{buttonName:"addtocart",buttonclick:()=>u(t),children:"A\xF1adir al carro"})]})]})},E$=({trabajadoresData:t})=>({trabajadores:t.trabajadores}),S$=()=>{const t=Vt(),e=Rn(),{filterType:n}=Tp(),{trabajadores:r}=Ft(E$),{data:i,queryDoc:s,isLastPage:o}=r,[a,l]=b.exports.useState(""),c={onLoadMoreEvent:()=>{t(ii({filterType:n,filterName:a,startAfterDoc:s,persistTrabajadores:i}))}};b.exports.useEffect(()=>{t(ii({filterType:n,filterName:a}))},[n]);const h=[{value:"",name:"Mostrar todos"}];VE.forEach(y=>{h.push({value:y,name:y})});const d=()=>{t(ii({filterType:n,filterName:a}))},p=y=>{const w=y.target.value;e(`/search/${w}`)};return Array.isArray(i)?i.length<1?f("div",{className:"trabajadoresResults",children:f("h1",{children:"No hay resultados"})}):N("div",{className:"trabajadoresResults",children:[f("h1",{children:"Buscar trabajadores"}),N("div",{className:"resultsSearchBar",children:[f("input",{type:"text",placeholder:"Buscar Nombre ",name:"filterName",value:a,onChange:y=>l(y.target.value)}),f(kn,{buttonclick:d,children:f("i",{className:"bi bi-search"})})]}),N("div",{className:"resultsCategoriaFilter",children:[f("h2",{children:"Categor\xEDa : "}),f(Gm,{selectOptions:h,selectChange:p,selectValue:n})]}),f("div",{className:"insideResults",children:i.map((y,w)=>f(w$,{trabajador:y},w))}),f("div",{className:"pagger",children:!o&&f(tT,H({},c))})]}):null},Xv=()=>f("div",{className:"searchPage",children:f(S$,{})});const _$=t=>Object.entries(t).reduce((e,[n,r])=>(e[n]=Z(H({},r),{touched:!0}),e),{}),T$=t=>{const[e,n]=b.exports.useState({quantity:{touched:!1,error:!1,message:""}}),r=({form:s,field:o,errors:a,forceTouchErrors:l=!1})=>{let u=!0,c=JSON.parse(JSON.stringify(a));l&&(c=_$(a));const{quantity:h}=s;if(c.quantity.touched&&(o?o==="quantity":!0)){const d=Sn(h);c.quantity.error=!!d,c.quantity.message=d,d&&(u=!1)}return n(c),{isValid:u,errors:c}};return{validateForm:r,onBlurField:s=>{const o=s.target.name;if(e[o].touched)return;const l=Z(H({},e),{[o]:Z(H({},e[o]),{touched:!0})});r({form:t,field:o,errors:l})},errors:e}},I$=({trabajadoresData:t})=>({trabajador:t.trabajador}),C$=()=>{const t=Vt(),{trabajadorID:e}=Tp(),{trabajador:n}=Ft(I$),{nombre:r,imageURL:i,precio:s,descripcion:o,categoria:a}=n,[l,u]=b.exports.useState({quantity:1}),{errors:c,validateForm:h,onBlurField:d}=T$(l);b.exports.useEffect(()=>(t(c$(e)),()=>{t(eT({}))}),[]);const p=w=>{const I=w.target.name,g=Z(H({},l),{[I]:w.target.value});u(g),c[I].touched&&h({form:g,errors:c,field:I})},y=w=>{if(w.preventDefault(),!n)return;const{isValid:I}=h({form:l,errors:c,forceTouchErrors:!0});if(!I)return;const g=Z(H(H({},n),l),{documentID:e,quantity:parseInt(l.quantity)});t(Ym(g))};return f("div",{className:"trabajadoresDetailsCard",children:N("div",{className:"insideDetails",children:[f("div",{className:"detailsimage",children:f("img",{loading:"lazy",src:i})}),N("div",{className:"detailsNombrePrecioCat",children:[N("div",{className:"detailsCategoria",children:[f("img",{loading:"lazy",src:BE(a)}),f("span",{children:a})]}),f("h1",{children:r}),N("h2",{children:[s,"\u20AC",f("span",{className:"precioHora",children:"/hora"})]}),N("form",{onSubmit:y,children:[f(Pe,{label:"Horas",inputtype:"number",inputmin:1,inputname:"quantity",inputvalue:l.quantity,inputonchange:p,inputonBlur:d,errorform:c.quantity.touched&&c.quantity.error?!0:null}),c.quantity.touched&&c.quantity.error?f(de,{mensaje:c.quantity.message}):null,f(kn,{type:"submit",buttonName:"addtocart",children:"A\xF1adir al carro"})]})]}),N("div",{className:"detailsDesc",children:[f("h3",{children:"Descripci\xF3n :"}),f("p",{children:o})]})]})})},k$=()=>f("div",{className:"trabajadorDetails",children:f(C$,{})});const A$=({item:t,pos:e})=>{const n=Vt(),{nombre:r,imageURL:i,precio:s,quantity:o,documentID:a}=t,l=h=>{n(g$({documentID:h}))},u=h=>{n(Ym(h))},c=h=>{n(y$(h))};return N("tr",{className:"checkoutItem",children:[f("td",{className:"checkoutImage",children:f("img",{src:i,alt:r})}),f("td",{children:r}),N("td",{className:"checkoutCantidad",children:[f(kn,{buttonclick:()=>c(t),children:"<"}),f("span",{children:o}),f(kn,{buttonclick:()=>u(t),children:">"})]}),N("td",{children:[s,"\u20AC"]}),f("td",{className:"checkoutEliminar",children:f(Z_,{buttonclick:()=>l(a),children:"x"})})]},e)};var N$="/assets/emptyCart.3d55a49b.png";const R$=zE({cartItems:fc,total:qE}),x$=()=>{const t=Rn(),{cartItems:e,total:n}=Ft(R$),[r,i]=b.exports.useState(null),s=()=>{t("/search")},o=()=>{if(!yt.currentUser){i("Debe estar logeado para poder realizar el pedido");return}t("/payment")};return N("div",{className:"checkout",children:[f("h1",{children:"Mi Carrito"}),f("div",{className:"cart",children:e.length>0?f("table",{className:"checkoutTable",children:N("tbody",{children:[N("tr",{className:"checkoutHeader",children:[f("th",{children:"Trabajador"}),f("th",{children:"Nombre"}),f("th",{children:"Horas"}),f("th",{children:"Precio"}),f("th",{children:"Eliminar"})]}),e.map((a,l)=>f(A$,{item:a,pos:l},l)),f("tr",{children:f("td",{colSpan:5,className:"checkoutTotal",children:N("h3",{children:["Total: ",n,"\u20AC"]})})}),f("tr",{children:f("td",{colSpan:5,children:N("div",{className:"checkoutButtons",children:[f(kn,{buttonclick:()=>s(),children:"Continuar comprando"}),f(kn,{buttonclick:()=>o(),children:"Realizar pedido"})]})})}),r?f("tr",{children:f("td",{colSpan:5,children:f(de,{mensaje:r})})}):null]})}):N("div",{className:"errorCart",children:[f("p",{className:"emptyCart",children:"El carro esta vac\xEDo"}),f("img",{src:N$})]})})]})},O$=()=>f("div",{children:f(x$,{})});const D$=({label:t,inputnameMM:e,inputnameYY:n,inputvalueMM:r,inputvalueYY:i,inputonchange:s,inputonBlur:o,errorform:a})=>{let l="expiration";return a&&(l="expiration formfielderror"),N("div",{className:"insidewrap",children:[f("label",{children:t}),N("span",{className:l,children:[f("input",{type:"text",name:e,placeholder:"MM",maxLength:"2",size:"2",value:r,onChange:s,onBlur:o}),f("span",{children:"/"}),f("input",{type:"text",name:n,placeholder:"YY",maxLength:"2",size:"2",value:i,onChange:s,onBlur:o})]})]})};const P$=t=>Object.entries(t).reduce((e,[n,r])=>(e[n]=Z(H({},r),{touched:!0}),e),{}),b$=t=>{const[e,n]=b.exports.useState({nombre:{touched:!1,error:!1,message:""},apellidos:{touched:!1,error:!1,message:""},dni:{touched:!1,error:!1,message:""},telefono:{touched:!1,error:!1,message:""},provincia:{touched:!1,error:!1,message:""},cp:{touched:!1,error:!1,message:""},direccion:{touched:!1,error:!1,message:""},tarjeta:{touched:!1,error:!1,message:""},ccv:{touched:!1,error:!1,message:""},expiryMM:{touched:!1,error:!1,message:""},expiryYY:{touched:!1,error:!1,message:""}}),r=({form:s,field:o,errors:a,forceTouchErrors:l=!1})=>{let u=!0,c=JSON.parse(JSON.stringify(a));l&&(c=P$(a));const{nombre:h,apellidos:d,dni:p,telefono:y,provincia:w,cp:I,direccion:g,tarjeta:m,ccv:v,expiryMM:S,expiryYY:k}=s;if(c.nombre.touched&&(o?o==="nombre":!0)){const _=GE(h);c.nombre.error=!!_,c.nombre.message=_,_&&(u=!1)}if(c.apellidos.touched&&(o?o==="apellidos":!0)){const _=PN(d);c.apellidos.error=!!_,c.apellidos.message=_,_&&(u=!1)}if(c.dni.touched&&(o?o==="dni":!0)){const _=bN(p);c.dni.error=!!_,c.dni.message=_,_&&(u=!1)}if(c.telefono.touched&&(o?o==="telefono":!0)){const _=MN(y);c.telefono.error=!!_,c.telefono.message=_,_&&(u=!1)}if(c.provincia.touched&&(o?o==="provincia":!0)){const _=Sn(w);c.provincia.error=!!_,c.provincia.message=_,_&&(u=!1)}if(c.cp.touched&&(o?o==="cp":!0)){const _=LN(I);c.cp.error=!!_,c.cp.message=_,_&&(u=!1)}if(c.direccion.touched&&(o?o==="direccion":!0)){const _=Sn(g);c.direccion.error=!!_,c.direccion.message=_,_&&(u=!1)}if(c.tarjeta.touched&&(o?o==="tarjeta":!0)){const _=$N(m);c.tarjeta.error=!!_,c.tarjeta.message=_,_&&(u=!1)}if(c.ccv.touched&&(o?o==="ccv":!0)){const _=UN(v);c.ccv.error=!!_,c.ccv.message=_,_&&(u=!1)}if(c.expiryMM.touched&&(o?o==="expiryMM":!0)){const _=FN(S);c.expiryMM.error=!!_,c.expiryMM.message=_,_&&(u=!1)}if(c.expiryYY.touched&&(o?o==="expiryYY":!0)){const _=jN(k);c.expiryYY.error=!!_,c.expiryYY.message=_,_&&(u=!1)}return n(c),{isValid:u,errors:c}};return{validateForm:r,onBlurField:s=>{const o=s.target.name;if(e[o].touched)return;const l=Z(H({},e),{[o]:Z(H({},e[o]),{touched:!0})});r({form:t,field:o,errors:l})},errors:e}},L$=zE({cartItems:fc,total:qE,itemCount:HE}),M$=()=>{const t=Rn(),e=Vt(),{cartItems:n,total:r,itemCount:i}=Ft(L$),[s,o]=b.exports.useState({nombre:"",apellidos:"",dni:"",telefono:"",provincia:"",cp:"",direccion:"",tarjeta:"",ccv:"",expiryMM:"",expiryYY:""}),{errors:a,validateForm:l,onBlurField:u}=b$(s);b.exports.useEffect(()=>{i<1&&t("/account")},[i]);const c=[];lN.forEach(p=>{c.push({value:p,name:p})});const h=p=>{const y=p.target.name,w=Z(H({},s),{[y]:p.target.value});o(w),a[y].touched&&l({form:w,errors:a,field:y})};return f("div",{className:"paymentpage",children:f("div",{className:"paymentwrap",children:N("form",{onSubmit:p=>{p.preventDefault();const{isValid:y}=l({form:s,errors:a,forceTouchErrors:!0});if(!y)return;const w={orderTotal:r,orderItems:n.map(I=>{const{documentID:g,imageURL:m,nombre:v,precio:S,quantity:k}=I;return{documentID:g,imageURL:m,nombre:v,precio:S,quantity:k}})};e(YM(w))},children:[f("h2",{className:"headpayment",children:"Datos personales"}),N("div",{className:"insidewrapPayment",children:[N("div",{children:[f(Pe,{label:"Nombre",inputtype:"text",inputname:"nombre",inputvalue:s.nombre,inputonchange:h,inputonBlur:u,errorform:a.nombre.touched&&a.nombre.error?!0:null}),a.nombre.touched&&a.nombre.error?f(de,{mensaje:a.nombre.message}):null]}),N("div",{children:[f(Pe,{label:"Apellidos",inputtype:"text",inputname:"apellidos",inputvalue:s.apellidos,inputonchange:h,inputonBlur:u,errorform:a.apellidos.touched&&a.apellidos.error?!0:null}),a.apellidos.touched&&a.apellidos.error?f(de,{mensaje:a.apellidos.message}):null]})]}),f(Pe,{label:"DNI",inputtype:"text",inputname:"dni",inputvalue:s.dni,inputonchange:h,inputonBlur:u,errorform:a.dni.touched&&a.dni.error?!0:null}),a.dni.touched&&a.dni.error?f(de,{mensaje:a.dni.message}):null,f(Pe,{label:"Tel\xE9fono",inputtype:"text",inputname:"telefono",inputvalue:s.telefono,inputonchange:h,inputonBlur:u,errorform:a.telefono.touched&&a.telefono.error?!0:null}),a.telefono.touched&&a.telefono.error?f(de,{mensaje:a.telefono.message}):null,N("div",{className:"insidewrapPayment",children:[N("div",{children:[f(Gm,{label:"Provincia",selectDefault:"Seleccione provincia",selectOptions:c,selectName:"provincia",selectValue:s.provincia,selectChange:h,selectBlur:u,errorform:a.provincia.touched&&a.provincia.error?!0:null}),a.provincia.touched&&a.provincia.error?f(de,{mensaje:a.provincia.message}):null]}),N("div",{children:[f(Pe,{label:"C\xF3digo Postal",inputtype:"text",inputname:"cp",inputvalue:s.cp,inputonchange:h,inputonBlur:u,errorform:a.cp.touched&&a.cp.error?!0:null}),a.cp.touched&&a.cp.error?f(de,{mensaje:a.cp.message}):null]})]}),f(Pe,{label:"Direcci\xF3n",inputtype:"text",inputname:"direccion",inputvalue:s.direccion,inputonchange:h,inputonBlur:u,errorform:a.direccion.touched&&a.direccion.error?!0:null}),a.direccion.touched&&a.direccion.error?f(de,{mensaje:a.direccion.message}):null,f("h2",{className:"headpayment",children:"Tarjeta de cr\xE9dito"}),f(Pe,{label:"N\xFAmero de la tarjeta",inputtype:"number",inputname:"tarjeta",inputvalue:s.tarjeta,inputonchange:h,inputonBlur:u,errorform:a.tarjeta.touched&&a.tarjeta.error?!0:null}),a.tarjeta.touched&&a.tarjeta.error?f(de,{mensaje:a.tarjeta.message}):null,N("div",{className:"insidewrapPayment",children:[N("div",{children:[f(Pe,{label:"CCV",inputtype:"password",inputname:"ccv",inputvalue:s.ccv,inputonchange:h,inputonBlur:u,errorform:a.ccv.touched&&a.ccv.error?!0:null}),a.ccv.touched&&a.ccv.error?f(de,{mensaje:a.ccv.message}):null]}),N("div",{children:[f(D$,{label:"Fecha de caducidad",inputnameMM:"expiryMM",inputnameYY:"expiryYY",inputvalueMM:s.expiryMM,inputvalueYY:s.expiryYY,inputonchange:h,inputonBlur:u,errorform:a.expiryMM.touched&&a.expiryMM.error||a.expiryYY.touched&&a.expiryYY.error?!0:null}),a.expiryMM.touched&&a.expiryMM.error||a.expiryYY.touched&&a.expiryYY.error?f(de,{mensaje:a.expiryMM.message||a.expiryYY.message}):null]})]}),f("div",{className:"buttonwrap",children:f(kn,{type:"submit",children:"Realizar pedido"})})]})})})};const $$=({orderData:t,user:e})=>({currentUser:e.currentUser,orderDetails:t.orderDetails}),U$=()=>{const{orderID:t}=Tp(),e=Vt(),{orderDetails:n,currentUser:r}=Ft($$),{orderTotal:i,orderItems:s}=n,o=Rn(),a=la(r);b.exports.useEffect(()=>{e(JM(t))},[]);const l=()=>{e(hc())};if(!!s)return N("div",{className:a?"orderPage adminacc":"orderPage useracc",children:[r?null:f(aa,{to:"/login"}),f(Km,{children:N("ul",{children:[f("li",{onClick:()=>o("/"),children:"Inicio"}),f("li",{onClick:l,children:"Salir"})]})}),N("div",{className:"contentOrderPage",children:[N("h1",{children:["ID del pedido : ",t]}),N("table",{className:"orderItemsTable",children:[f("thead",{children:N("tr",{children:[f("th",{children:"Trabajador"}),f("th",{children:"Nombre"}),f("th",{children:"Horas"}),f("th",{children:"Precio"})]})}),f("tbody",{children:s.map((u,c)=>{const{imageURL:h,nombre:d,precio:p,quantity:y,documentID:w}=u;return N("tr",{onClick:()=>o(`/trabajador/${w}`),children:[f("td",{children:f("img",{loading:"lazy",src:h})}),f("td",{children:d}),f("td",{children:y}),N("td",{children:[p,"\u20AC"]})]},c)})})]}),N("h2",{children:["Precio total : ",i,"\u20AC"]})]})]})};const F$=()=>{const[t,e]=b.exports.useState(""),[n,r]=b.exports.useState({error:!1,message:""}),[i,s]=b.exports.useState("");let o=!0;const a=c=>{l()},l=()=>{o=!0;const c=KE(t);r({error:!!c,message:c}),c&&(o=!1)};return f("div",{className:"resetPasswordpage",children:N("div",{className:"wrap",children:[f("h2",{children:"Recuperar contrase\xF1a"}),N("form",{onSubmit:async c=>{if(c.preventDefault(),l(),!!o)try{s(await $M(t))}catch(h){h.code==="auth/user-not-found"?r({error:!0,message:"El correo introducido no esta registrado"}):r({error:!0,message:"Ocurri\xF3 un error al realizar la operaci\xF3n"})}},children:[f(Pe,{label:"Email",inputtype:"email",inputname:"email",inputvalue:t.value,inputonchange:c=>e(c.target.value),inputonBlur:a,errorform:n.error?!0:null}),n.error?f(de,{mensaje:n.message}):null,i?f("div",{className:"sendEmail",children:N("div",{children:[f("i",{className:"bi bi-check-circle-fill"}),"Correo Enviado"]})}):null,f(fs,{type:"submit",children:"Recuperar"})]})]})})};const j$=()=>N("footer",{children:[N("div",{className:"leftFooter",children:[f("div",{className:"footerlogo",children:f(Oe,{to:"/",children:f("img",{loading:"lazy",src:jE})})}),f("div",{className:"lineFooter"}),N("div",{children:[N("ul",{children:[f("li",{children:f(Oe,{to:"/",children:"Inicio"})}),f("li",{children:f(Oe,{to:"/search",children:"Buscar"})})]}),f("p",{children:" \xA9 2022 Wipehouse.  All rights reserved"})]})]}),N("div",{className:"rightFooter",children:[N("div",{children:[f("a",{href:"https://twitter.com/",target:"blank",children:f("i",{className:"bi bi-twitter"})}),f("a",{href:"https://www.youtube.com/",target:"blank",children:f("i",{className:"bi bi-youtube"})}),f("a",{href:"https://www.instagram.com/",target:"blank",children:f("i",{className:"bi bi-instagram"})}),f("a",{href:"https://www.whatsapp.com/?lang=es",target:"blank",children:f("i",{className:"bi bi-whatsapp"})})]}),f("p",{children:"Soporte: Wipehouse@gmail.com"})]})]}),V$=({user:t})=>({currentUser:t.currentUser}),B$=t=>{const e=Vt(),{currentUser:n}=Ft(V$),r=la(n);return b.exports.useEffect(()=>{e(dN())},[]),N("div",{className:"app",children:[f(WE,{}),f("div",{className:r?"admin":"user",children:N(eA,{children:[f(Ot,{exact:!0,path:"/",element:f(xN,{})}),f(Ot,{path:"/register",element:f(jM,{})}),f(Ot,{path:"/login",element:f(qM,{})}),f(Ot,{path:"/resetpassword",element:f(F$,{})}),f(Ot,{path:"/account",element:f(r$,{})}),f(Ot,{path:"/adminpanel",element:f(m$,{})}),f(Ot,{exact:!0,path:"/search",element:f(Xv,{})}),f(Ot,{path:"/search/:filterType",element:f(Xv,{})}),f(Ot,{path:"/trabajador/:trabajadorID",element:f(k$,{})}),f(Ot,{path:"/carro",element:f(O$,{})}),f(Ot,{path:"/payment",element:f(M$,{})}),f(Ot,{path:"/order/:orderID",element:f(U$,{})})]})}),f(j$,{})]})};function z$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jv(Object(n),!0).forEach(function(r){z$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var e0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Gh=function(){return Math.random().toString(36).substring(7).split("").join(".")},ku={INIT:"@@redux/INIT"+Gh(),REPLACE:"@@redux/REPLACE"+Gh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Gh()}};function H$(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Qm(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nt(0));if(typeof e=="function"&&typeof n=="undefined"&&(n=e,e=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error(nt(1));return n(Qm)(t,e)}if(typeof t!="function")throw new Error(nt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(nt(3));return s}function h(w){if(typeof w!="function")throw new Error(nt(4));if(l)throw new Error(nt(5));var I=!0;return u(),a.push(w),function(){if(!!I){if(l)throw new Error(nt(6));I=!1,u();var m=a.indexOf(w);a.splice(m,1),o=null}}}function d(w){if(!H$(w))throw new Error(nt(7));if(typeof w.type=="undefined")throw new Error(nt(8));if(l)throw new Error(nt(9));try{l=!0,s=i(s,w)}finally{l=!1}for(var I=o=a,g=0;g<I.length;g++){var m=I[g];m()}return w}function p(w){if(typeof w!="function")throw new Error(nt(10));i=w,d({type:ku.REPLACE})}function y(){var w,I=h;return w={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(nt(11));function v(){m.next&&m.next(c())}v();var S=I(v);return{unsubscribe:S}}},w[e0]=function(){return this},w}return d({type:ku.INIT}),r={dispatch:d,subscribe:h,getState:c,replaceReducer:p},r[e0]=y,r}var q$=Qm;function W$(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:ku.INIT});if(typeof r=="undefined")throw new Error(nt(12));if(typeof n(void 0,{type:ku.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(nt(13))})}function K$(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{W$(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,h={},d=0;d<s.length;d++){var p=s[d],y=n[p],w=l[p],I=y(w,u);if(typeof I=="undefined")throw u&&u.type,new Error(nt(14));h[p]=I,c=c||I!==w}return c=c||s.length!==Object.keys(l).length,c?h:l}}function nT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function G$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(nt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=nT.apply(void 0,a)(i.dispatch),Zv(Zv({},i),{},{dispatch:s})}}}var _f={exports:{}};(function(t,e){(function(n,r){r(e)})(Bs,function(n){function r(E,C){E.super_=C,E.prototype=Object.create(C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}})}function i(E,C){Object.defineProperty(this,"kind",{value:E,enumerable:!0}),C&&C.length&&Object.defineProperty(this,"path",{value:C,enumerable:!0})}function s(E,C,T){s.super_.call(this,"E",E),Object.defineProperty(this,"lhs",{value:C,enumerable:!0}),Object.defineProperty(this,"rhs",{value:T,enumerable:!0})}function o(E,C){o.super_.call(this,"N",E),Object.defineProperty(this,"rhs",{value:C,enumerable:!0})}function a(E,C){a.super_.call(this,"D",E),Object.defineProperty(this,"lhs",{value:C,enumerable:!0})}function l(E,C,T){l.super_.call(this,"A",E),Object.defineProperty(this,"index",{value:C,enumerable:!0}),Object.defineProperty(this,"item",{value:T,enumerable:!0})}function u(E,C,T){var D=E.slice((T||C)+1||E.length);return E.length=C<0?E.length+C:C,E.push.apply(E,D),E}function c(E){var C=typeof E=="undefined"?"undefined":xn(E);return C!=="object"?C:E===Math?"math":E===null?"null":Array.isArray(E)?"array":Object.prototype.toString.call(E)==="[object Date]"?"date":typeof E.toString=="function"&&/^\/.*\//.test(E.toString())?"regexp":"object"}function h(E,C,T,D,z,G,J){z=z||[],J=J||[];var ne=z.slice(0);if(typeof G!="undefined"){if(D){if(typeof D=="function"&&D(ne,G))return;if((typeof D=="undefined"?"undefined":xn(D))==="object"){if(D.prefilter&&D.prefilter(ne,G))return;if(D.normalize){var Bt=D.normalize(ne,G,E,C);Bt&&(E=Bt[0],C=Bt[1])}}}ne.push(G)}c(E)==="regexp"&&c(C)==="regexp"&&(E=E.toString(),C=C.toString());var tn=typeof E=="undefined"?"undefined":xn(E),xt=typeof C=="undefined"?"undefined":xn(C),ut=tn!=="undefined"||J&&J[J.length-1].lhs&&J[J.length-1].lhs.hasOwnProperty(G),nn=xt!=="undefined"||J&&J[J.length-1].rhs&&J[J.length-1].rhs.hasOwnProperty(G);if(!ut&&nn)T(new o(ne,C));else if(!nn&&ut)T(new a(ne,E));else if(c(E)!==c(C))T(new s(ne,E,C));else if(c(E)==="date"&&E-C!==0)T(new s(ne,E,C));else if(tn==="object"&&E!==null&&C!==null)if(J.filter(function(Ce){return Ce.lhs===E}).length)E!==C&&T(new s(ne,E,C));else{if(J.push({lhs:E,rhs:C}),Array.isArray(E)){var he;for(E.length,he=0;he<E.length;he++)he>=C.length?T(new l(ne,he,new a(void 0,E[he]))):h(E[he],C[he],T,D,ne,he,J);for(;he<C.length;)T(new l(ne,he,new o(void 0,C[he++])))}else{var Vr=Object.keys(E),On=Object.keys(C);Vr.forEach(function(Ce,xi){var Fs=On.indexOf(Ce);Fs>=0?(h(E[Ce],C[Ce],T,D,ne,Ce,J),On=u(On,Fs)):h(E[Ce],void 0,T,D,ne,Ce,J)}),On.forEach(function(Ce){h(void 0,C[Ce],T,D,ne,Ce,J)})}J.length=J.length-1}else E!==C&&(tn==="number"&&isNaN(E)&&isNaN(C)||T(new s(ne,E,C)))}function d(E,C,T,D){return D=D||[],h(E,C,function(z){z&&D.push(z)},T),D.length?D:void 0}function p(E,C,T){if(T.path&&T.path.length){var D,z=E[C],G=T.path.length-1;for(D=0;D<G;D++)z=z[T.path[D]];switch(T.kind){case"A":p(z[T.path[D]],T.index,T.item);break;case"D":delete z[T.path[D]];break;case"E":case"N":z[T.path[D]]=T.rhs}}else switch(T.kind){case"A":p(E[C],T.index,T.item);break;case"D":E=u(E,C);break;case"E":case"N":E[C]=T.rhs}return E}function y(E,C,T){if(E&&C&&T&&T.kind){for(var D=E,z=-1,G=T.path?T.path.length-1:0;++z<G;)typeof D[T.path[z]]=="undefined"&&(D[T.path[z]]=typeof T.path[z]=="number"?[]:{}),D=D[T.path[z]];switch(T.kind){case"A":p(T.path?D[T.path[z]]:D,T.index,T.item);break;case"D":delete D[T.path[z]];break;case"E":case"N":D[T.path[z]]=T.rhs}}}function w(E,C,T){if(T.path&&T.path.length){var D,z=E[C],G=T.path.length-1;for(D=0;D<G;D++)z=z[T.path[D]];switch(T.kind){case"A":w(z[T.path[D]],T.index,T.item);break;case"D":z[T.path[D]]=T.lhs;break;case"E":z[T.path[D]]=T.lhs;break;case"N":delete z[T.path[D]]}}else switch(T.kind){case"A":w(E[C],T.index,T.item);break;case"D":E[C]=T.lhs;break;case"E":E[C]=T.lhs;break;case"N":E=u(E,C)}return E}function I(E,C,T){if(E&&C&&T&&T.kind){var D,z,G=E;for(z=T.path.length-1,D=0;D<z;D++)typeof G[T.path[D]]=="undefined"&&(G[T.path[D]]={}),G=G[T.path[D]];switch(T.kind){case"A":w(G[T.path[D]],T.index,T.item);break;case"D":G[T.path[D]]=T.lhs;break;case"E":G[T.path[D]]=T.lhs;break;case"N":delete G[T.path[D]]}}}function g(E,C,T){if(E&&C){var D=function(z){T&&!T(E,C,z)||y(E,C,z)};h(E,C,D)}}function m(E){return"color: "+M[E].color+"; font-weight: bold"}function v(E){var C=E.kind,T=E.path,D=E.lhs,z=E.rhs,G=E.index,J=E.item;switch(C){case"E":return[T.join("."),D,"\u2192",z];case"N":return[T.join("."),z];case"D":return[T.join(".")];case"A":return[T.join(".")+"["+G+"]",J];default:return[]}}function S(E,C,T,D){var z=d(E,C);try{D?T.groupCollapsed("diff"):T.group("diff")}catch{T.log("diff")}z?z.forEach(function(G){var J=G.kind,ne=v(G);T.log.apply(T,["%c "+M[J].text,m(J)].concat(Ri(ne)))}):T.log("\u2014\u2014 no diff \u2014\u2014");try{T.groupEnd()}catch{T.log("\u2014\u2014 diff end \u2014\u2014 ")}}function k(E,C,T,D){switch(typeof E=="undefined"?"undefined":xn(E)){case"object":return typeof E[D]=="function"?E[D].apply(E,Ri(T)):E[D];case"function":return E(C);default:return E}}function _(E){var C=E.timestamp,T=E.duration;return function(D,z,G){var J=["action"];return J.push("%c"+String(D.type)),C&&J.push("%c@ "+z),T&&J.push("%c(in "+G.toFixed(2)+" ms)"),J.join(" ")}}function A(E,C){var T=C.logger,D=C.actionTransformer,z=C.titleFormatter,G=z===void 0?_(C):z,J=C.collapsed,ne=C.colors,Bt=C.level,tn=C.diff,xt=typeof C.titleFormatter=="undefined";E.forEach(function(ut,nn){var he=ut.started,Vr=ut.startedTime,On=ut.action,Ce=ut.prevState,xi=ut.error,Fs=ut.took,Br=ut.nextState,Xc=E[nn+1];Xc&&(Br=Xc.prevState,Fs=Xc.started-he);var yn=D(On),hg=typeof J=="function"?J(function(){return Br},On,ut):J,QT=en(Vr),XT=ne.title?"color: "+ne.title(yn)+";":"",js=["color: gray; font-weight: lighter;"];js.push(XT),C.timestamp&&js.push("color: gray; font-weight: lighter;"),C.duration&&js.push("color: gray; font-weight: lighter;");var Vs=G(yn,QT,Fs);try{hg?ne.title&&xt?T.groupCollapsed.apply(T,["%c "+Vs].concat(js)):T.groupCollapsed(Vs):ne.title&&xt?T.group.apply(T,["%c "+Vs].concat(js)):T.group(Vs)}catch{T.log(Vs)}var Jc=k(Bt,yn,[Ce],"prevState"),Zc=k(Bt,yn,[yn],"action"),eh=k(Bt,yn,[xi,Ce],"error"),th=k(Bt,yn,[Br],"nextState");if(Jc)if(ne.prevState){var JT="color: "+ne.prevState(Ce)+"; font-weight: bold";T[Jc]("%c prev state",JT,Ce)}else T[Jc]("prev state",Ce);if(Zc)if(ne.action){var ZT="color: "+ne.action(yn)+"; font-weight: bold";T[Zc]("%c action    ",ZT,yn)}else T[Zc]("action    ",yn);if(xi&&eh)if(ne.error){var eI="color: "+ne.error(xi,Ce)+"; font-weight: bold;";T[eh]("%c error     ",eI,xi)}else T[eh]("error     ",xi);if(th)if(ne.nextState){var tI="color: "+ne.nextState(Br)+"; font-weight: bold";T[th]("%c next state",tI,Br)}else T[th]("next state",Br);tn&&S(Ce,Br,T,hg);try{T.groupEnd()}catch{T.log("\u2014\u2014 log end \u2014\u2014")}})}function O(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=Object.assign({},K,E),T=C.logger,D=C.stateTransformer,z=C.errorTransformer,G=C.predicate,J=C.logErrors,ne=C.diffPredicate;if(typeof T=="undefined")return function(){return function(tn){return function(xt){return tn(xt)}}};if(E.getState&&E.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(tn){return function(xt){return tn(xt)}}};var Bt=[];return function(tn){var xt=tn.getState;return function(ut){return function(nn){if(typeof G=="function"&&!G(xt,nn))return ut(nn);var he={};Bt.push(he),he.started=gn.now(),he.startedTime=new Date,he.prevState=D(xt()),he.action=nn;var Vr=void 0;if(J)try{Vr=ut(nn)}catch(Ce){he.error=z(Ce)}else Vr=ut(nn);he.took=gn.now()-he.started,he.nextState=D(xt());var On=C.diff&&typeof ne=="function"?ne(xt,nn):C.diff;if(A(Bt,Object.assign({},C,{diff:On})),Bt.length=0,he.error)throw he.error;return Vr}}}}var F,j,ce=function(E,C){return new Array(C+1).join(E)},ze=function(E,C){return ce("0",C-E.toString().length)+E},en=function(E){return ze(E.getHours(),2)+":"+ze(E.getMinutes(),2)+":"+ze(E.getSeconds(),2)+"."+ze(E.getMilliseconds(),3)},gn=typeof performance!="undefined"&&performance!==null&&typeof performance.now=="function"?performance:Date,xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},Ri=function(E){if(Array.isArray(E)){for(var C=0,T=Array(E.length);C<E.length;C++)T[C]=E[C];return T}return Array.from(E)},Jn=[];F=(typeof Bs=="undefined"?"undefined":xn(Bs))==="object"&&Bs?Bs:typeof window!="undefined"?window:{},j=F.DeepDiff,j&&Jn.push(function(){typeof j!="undefined"&&F.DeepDiff===d&&(F.DeepDiff=j,j=void 0)}),r(s,i),r(o,i),r(a,i),r(l,i),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:h,enumerable:!0},applyDiff:{value:g,enumerable:!0},applyChange:{value:y,enumerable:!0},revertChange:{value:I,enumerable:!0},isConflict:{value:function(){return typeof j!="undefined"},enumerable:!0},noConflict:{value:function(){return Jn&&(Jn.forEach(function(E){E()}),Jn=null),d},enumerable:!0}});var M={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},K={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(E){return E},actionTransformer:function(E){return E},errorTransformer:function(E){return E},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},X=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=E.dispatch,T=E.getState;return typeof C=="function"||typeof T=="function"?O()({dispatch:C,getState:T}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};n.defaults=K,n.createLogger=O,n.logger=X,n.default=X,Object.defineProperty(n,"__esModule",{value:!0})})})(_f,_f.exports);var Y$=uI(_f.exports);function rT(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var iT=rT();iT.withExtraArgument=rT;var Q$=iT,pn=function(e){return"@@redux-saga/"+e},X$=pn("CANCEL_PROMISE"),sT=pn("CHANNEL_END"),oT=pn("IO"),t0=pn("MATCH"),aT=pn("MULTICAST"),lT=pn("SAGA_ACTION"),uT=pn("SELF_CANCELLATION"),J$=pn("TASK"),is=pn("TASK_CANCEL"),cT=pn("TERMINATE"),Z$=pn("LOCATION"),hT=function(e){return e==null},dT=function(e){return e!=null},Rt=function(e){return typeof e=="function"},Xm=function(e){return typeof e=="string"},jr=Array.isArray,qc=function(e){return e&&Rt(e.then)},Jm=function(e){return e&&Rt(e.next)&&Rt(e.throw)},n0=function t(e){return e&&(Xm(e)||pT(e)||Rt(e)||jr(e)&&e.every(t))},Zm=function(e){return e&&Rt(e.take)&&Rt(e.close)},fT=function(e){return Rt(e)&&e.hasOwnProperty("toString")},pT=function(e){return Boolean(e)&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype},eU=function(e){return Zm(e)&&e[aT]},tU=function(e){return function(){return e}},nU=tU(!0),ft=function(){},rU=function(e){return e},eg=function(e,n){hs(e,n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(n).forEach(function(r){e[r]=n[r]})},iU=function(e,n){var r;return(r=[]).concat.apply(r,n.map(e))};function Wc(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function sU(t){var e=!1;return function(){e||(e=!0,t())}}var oU=function(e){throw e},aU=function(e){return{value:e,done:!0}};function Tf(t,e,n){e===void 0&&(e=oU),n===void 0&&(n="iterator");var r={meta:{name:n},next:t,throw:e,return:aU,isSagaIterator:!0};return typeof Symbol!="undefined"&&(r[Symbol.iterator]=function(){return r}),r}function lU(t,e){var n=e.sagaStack;console.error(t),console.error(n)}var mT=function(e){return Array.apply(null,new Array(e))},uU=function(e){return function(n){return e(Object.defineProperty(n,lT,{value:!0}))}},gT=function(e){return e===cT},yT=function(e){return e===is},vT=function(e){return gT(e)||yT(e)};function wT(t,e){var n=Object.keys(t),r=n.length,i=0,s,o=jr(t)?mT(r):{},a={};function l(){i===r&&(s=!0,e(o))}return n.forEach(function(u){var c=function(d,p){s||(p||vT(d)?(e.cancel(),e(d,p)):(o[u]=d,i++,l()))};c.cancel=ft,a[u]=c}),e.cancel=function(){s||(s=!0,n.forEach(function(u){return a[u].cancel()}))},a}function tg(t){return{name:t.name||"anonymous",location:ET(t)}}function ET(t){return t[Z$]}var cU="Channel's Buffer overflow!",hU=1,dU=3,ST=4;function fU(t,e){t===void 0&&(t=10);var n=new Array(t),r=0,i=0,s=0,o=function(c){n[i]=c,i=(i+1)%t,r++},a=function(){if(r!=0){var c=n[s];return n[s]=null,r--,s=(s+1)%t,c}},l=function(){for(var c=[];r;)c.push(a());return c};return{isEmpty:function(){return r==0},put:function(c){if(r<t)o(c);else{var h;switch(e){case hU:throw new Error(cU);case dU:n[i]=c,i=(i+1)%t,s=i;break;case ST:h=2*t,n=l(),r=n.length,i=n.length,s=0,n.length=h,t=h,o(c);break}}},take:a,flush:l}}var pU=function(e){return fU(e,ST)},Il="TAKE",_T="PUT",TT="ALL",mU="RACE",IT="CALL",gU="CPS",CT="FORK",yU="JOIN",kT="CANCEL",vU="SELECT",wU="ACTION_CHANNEL",EU="CANCELLED",SU="FLUSH",_U="GET_CONTEXT",TU="SET_CONTEXT",Er=function(e,n){var r;return r={},r[oT]=!0,r.combinator=!1,r.type=e,r.payload=n,r};function IU(t,e){if(t===void 0&&(t="*"),n0(t))return Er(Il,{pattern:t});if(eU(t)&&dT(e)&&n0(e))return Er(Il,{channel:t,pattern:e});if(Zm(t))return Er(Il,{channel:t})}function mn(t,e){return hT(e)&&(e=t,t=void 0),Er(_T,{channel:t,action:e})}function Kc(t){var e=Er(TT,t);return e.combinator=!0,e}function AT(t,e){var n=null,r;return Rt(t)?r=t:(jr(t)?(n=t[0],r=t[1]):(n=t.context,r=t.fn),n&&Xm(r)&&Rt(n[r])&&(r=n[r])),{context:n,fn:r,args:e}}function st(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Er(IT,AT(t,n))}function NT(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Er(CT,AT(t,n))}function CU(t){return t===void 0&&(t=uT),Er(kT,t)}function kU(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}var RT=[],Gc=0;function AU(t){try{ng(),t()}finally{DT()}}function xT(t){RT.push(t),Gc||(ng(),PT())}function OT(t){try{return ng(),t()}finally{PT()}}function ng(){Gc++}function DT(){Gc--}function PT(){DT();for(var t;!Gc&&(t=RT.shift())!==void 0;)AU(t)}var NU=function(e){return function(n){return e.some(function(r){return rg(r)(n)})}},RU=function(e){return function(n){return e(n)}},r0=function(e){return function(n){return n.type===String(e)}},xU=function(e){return function(n){return n.type===e}},bT=function(){return nU};function rg(t){var e=t==="*"?bT:Xm(t)?r0:jr(t)?NU:fT(t)?r0:Rt(t)?RU:pT(t)?xU:null;if(e===null)throw new Error("invalid pattern: "+t);return e(t)}var So={type:sT},ig=function(e){return e&&e.type===sT};function OU(t){t===void 0&&(t=pU());var e=!1,n=[];function r(a){if(!e){if(n.length===0)return t.put(a);var l=n.shift();l(a)}}function i(a){e&&t.isEmpty()?a(So):t.isEmpty()?(n.push(a),a.cancel=function(){Wc(n,a)}):a(t.take())}function s(a){if(e&&t.isEmpty()){a(So);return}a(t.flush())}function o(){if(!e){e=!0;var a=n;n=[];for(var l=0,u=a.length;l<u;l++){var c=a[l];c(So)}}}return{take:i,put:r,flush:s,close:o}}function DU(){var t,e=!1,n=[],r=n,i=function(){r===n&&(r=n.slice())},s=function(){e=!0;var a=n=r;r=[],a.forEach(function(l){l(So)})};return t={},t[aT]=!0,t.put=function(a){if(!e){if(ig(a)){s();return}for(var l=n=r,u=0,c=l.length;u<c;u++){var h=l[u];h[t0](a)&&(h.cancel(),h(a))}}},t.take=function(a,l){if(l===void 0&&(l=bT),e){a(So);return}a[t0]=l,i(),r.push(a),a.cancel=sU(function(){i(),Wc(r,a)})},t.close=s,t}function LT(){var t=DU(),e=t.put;return t.put=function(n){if(n[lT]){e(n);return}xT(function(){e(n)})},t}var Wr=0,Mn=1,Cl=2,MT=3;function sg(t,e){var n=t[X$];Rt(n)&&(e.cancel=n),t.then(e,function(r){e(r,!0)})}var Da=0,$T=function(){return++Da},He;function PU(t,e){return t.isSagaIterator?{name:t.meta.name}:tg(e)}function bU(t){var e=t.context,n=t.fn,r=t.args;try{var i=n.apply(e,r);if(Jm(i))return i;var s=!1,o=function(l){return s?{value:l,done:!0}:(s=!0,{value:i,done:!qc(i)})};return Tf(o)}catch(a){return Tf(function(){throw a})}}function LU(t,e,n){var r=e.channel,i=e.action,s=e.resolve;xT(function(){var o;try{o=(r?r.put:t.dispatch)(i)}catch(a){n(a,!0);return}s&&qc(o)?sg(o,n):n(o)})}function MU(t,e,n){var r=e.channel,i=r===void 0?t.channel:r,s=e.pattern,o=e.maybe,a=function(u){if(u instanceof Error){n(u,!0);return}if(ig(u)&&!o){n(cT);return}n(u)};try{i.take(a,dT(s)?rg(s):null)}catch(l){n(l,!0);return}n.cancel=a.cancel}function $U(t,e,n,r){var i=e.context,s=e.fn,o=e.args,a=r.task;try{var l=s.apply(i,o);if(qc(l)){sg(l,n);return}if(Jm(l)){Yc(t,l,a.context,Da,tg(s),!1,n);return}n(l)}catch(u){n(u,!0)}}function UU(t,e,n){var r=e.context,i=e.fn,s=e.args;try{var o=function(l,u){hT(l)?n(u):n(l,!0)};i.apply(r,s.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(a){n(a,!0)}}function FU(t,e,n,r){var i=e.context,s=e.fn,o=e.args,a=e.detached,l=r.task,u=bU({context:i,fn:s,args:o}),c=PU(u,s);OT(function(){var h=Yc(t,u,l.context,Da,c,a,void 0);a?n(h):h.isRunning()?(l.queue.addTask(h),n(h)):h.isAborted()?l.queue.abort(h.error()):n(h)})}function jU(t,e,n,r){var i=r.task,s=function(l,u){if(l.isRunning()){var c={task:i,cb:u};u.cancel=function(){l.isRunning()&&Wc(l.joiners,c)},l.joiners.push(c)}else l.isAborted()?u(l.error(),!0):u(l.result())};if(jr(e)){if(e.length===0){n([]);return}var o=wT(e,n);e.forEach(function(a,l){s(a,o[l])})}else s(e,n)}function Yh(t){t.isRunning()&&t.cancel()}function VU(t,e,n,r){var i=r.task;e===uT?Yh(i):jr(e)?e.forEach(Yh):Yh(e),n()}function BU(t,e,n,r){var i=r.digestEffect,s=Da,o=Object.keys(e);if(o.length===0){n(jr(e)?[]:{});return}var a=wT(e,n);o.forEach(function(l){i(e[l],s,a[l],l)})}function zU(t,e,n,r){var i=r.digestEffect,s=Da,o=Object.keys(e),a=jr(e)?mT(o.length):{},l={},u=!1;o.forEach(function(c){var h=function(p,y){u||(y||vT(p)?(n.cancel(),n(p,y)):(n.cancel(),u=!0,a[c]=p,n(a)))};h.cancel=ft,l[c]=h}),n.cancel=function(){u||(u=!0,o.forEach(function(c){return l[c].cancel()}))},o.forEach(function(c){u||i(e[c],s,l[c],c)})}function HU(t,e,n){var r=e.selector,i=e.args;try{var s=r.apply(void 0,[t.getState()].concat(i));n(s)}catch(o){n(o,!0)}}function qU(t,e,n){var r=e.pattern,i=e.buffer,s=OU(i),o=rg(r),a=function u(c){ig(c)||t.channel.take(u,o),s.put(c)},l=s.close;s.close=function(){a.cancel(),l()},t.channel.take(a,o),n(s)}function WU(t,e,n,r){var i=r.task;n(i.isCancelled())}function KU(t,e,n){e.flush(n)}function GU(t,e,n,r){var i=r.task;n(i.context[e])}function YU(t,e,n,r){var i=r.task;eg(i.context,e),n()}var QU=(He={},He[Il]=MU,He[_T]=LU,He[TT]=BU,He[mU]=zU,He[IT]=$U,He[gU]=UU,He[CT]=FU,He[yU]=jU,He[kT]=VU,He[vU]=HU,He[wU]=qU,He[EU]=WU,He[SU]=KU,He[_U]=GU,He[TU]=YU,He);function XU(t,e,n){var r=[],i,s=!1;l(t);var o=function(){return r};function a(c){e(),u(),n(c,!0)}function l(c){r.push(c),c.cont=function(h,d){s||(Wc(r,c),c.cont=ft,d?a(h):(c===t&&(i=h),r.length||(s=!0,n(i))))}}function u(){s||(s=!0,r.forEach(function(c){c.cont=ft,c.cancel()}),r=[])}return{addTask:l,cancelAll:u,abort:a,getTasks:o}}function UT(t,e){return t+"?"+e}function JU(t){var e=ET(t);if(e){var n=e.code,r=e.fileName,i=e.lineNumber,s=n+"  "+UT(r,i);return s}return""}function i0(t){var e=t.name,n=t.location;return n?e+"  "+UT(n.fileName,n.lineNumber):e}function ZU(t){var e=iU(function(n){return n.cancelledTasks},t);return e.length?["Tasks cancelled due to error:"].concat(e).join(`
`):""}var og=null,_o=[],eF=function(e){e.crashedEffect=og,_o.push(e)},FT=function(){og=null,_o.length=0},tF=function(e){og=e},nF=function(){var e=_o[0],n=_o.slice(1),r=e.crashedEffect?JU(e.crashedEffect):null,i="The above error occurred in task "+i0(e.meta)+(r?` 
 when executing effect `+r:"");return[i].concat(n.map(function(s){return"    created by "+i0(s.meta)}),[ZU(_o)]).join(`
`)};function rF(t,e,n,r,i,s,o){var a;o===void 0&&(o=ft);var l=Wr,u,c,h=null,d=[],p=Object.create(n),y=XU(e,function(){d.push.apply(d,y.getTasks().map(function(k){return k.meta.name}))},I);function w(){l===Wr&&(l=Mn,y.cancelAll(),I(is,!1))}function I(S,k){if(!k)S===is?l=Mn:l!==Mn&&(l=MT),u=S,h&&h.resolve(S);else{if(l=Cl,eF({meta:i,cancelledTasks:d}),v.isRoot){var _=nF();FT(),t.onError(S,{sagaStack:_})}c=S,h&&h.reject(S)}v.cont(S,k),v.joiners.forEach(function(A){A.cb(S,k)}),v.joiners=null}function g(S){eg(p,S)}function m(){return h||(h=kU(),l===Cl?h.reject(c):l!==Wr&&h.resolve(u)),h.promise}var v=(a={},a[J$]=!0,a.id=r,a.meta=i,a.isRoot=s,a.context=p,a.joiners=[],a.queue=y,a.cancel=w,a.cont=o,a.end=I,a.setContext=g,a.toPromise=m,a.isRunning=function(){return l===Wr},a.isCancelled=function(){return l===Mn||l===Wr&&e.status===Mn},a.isAborted=function(){return l===Cl},a.result=function(){return u},a.error=function(){return c},a);return v}function Yc(t,e,n,r,i,s,o){var a=t.finalizeRunEffect(p);d.cancel=ft;var l={meta:i,cancel:h,status:Wr},u=rF(t,l,n,r,i,s,o),c={task:u,digestEffect:y};function h(){l.status===Wr&&(l.status=Mn,d(is))}return o&&(o.cancel=u.cancel),d(),u;function d(w,I){try{var g;I?(g=e.throw(w),FT()):yT(w)?(l.status=Mn,d.cancel(),g=Rt(e.return)?e.return(is):{done:!0,value:is}):gT(w)?g=Rt(e.return)?e.return():{done:!0}:g=e.next(w),g.done?(l.status!==Mn&&(l.status=MT),l.cont(g.value)):y(g.value,r,d)}catch(m){if(l.status===Mn)throw m;l.status=Cl,l.cont(m,!0)}}function p(w,I,g){if(qc(w))sg(w,g);else if(Jm(w))Yc(t,w,u.context,I,i,!1,g);else if(w&&w[oT]){var m=QU[w.type];m(t,w.payload,g,c)}else g(w)}function y(w,I,g,m){m===void 0&&(m="");var v=$T();t.sagaMonitor&&t.sagaMonitor.effectTriggered({effectId:v,parentEffectId:I,label:m,effect:w});var S;function k(_,A){S||(S=!0,g.cancel=ft,t.sagaMonitor&&(A?t.sagaMonitor.effectRejected(v,_):t.sagaMonitor.effectResolved(v,_)),A&&tF(w),g(_,A))}k.cancel=ft,g.cancel=function(){S||(S=!0,k.cancel(),k.cancel=ft,t.sagaMonitor&&t.sagaMonitor.effectCancelled(v))},a(w,v,k)}}function iF(t,e){for(var n=t.channel,r=n===void 0?LT():n,i=t.dispatch,s=t.getState,o=t.context,a=o===void 0?{}:o,l=t.sagaMonitor,u=t.effectMiddlewares,c=t.onError,h=c===void 0?lU:c,d=arguments.length,p=new Array(d>2?d-2:0),y=2;y<d;y++)p[y-2]=arguments[y];var w=e.apply(void 0,p),I=$T();l&&(l.rootSagaStarted=l.rootSagaStarted||ft,l.effectTriggered=l.effectTriggered||ft,l.effectResolved=l.effectResolved||ft,l.effectRejected=l.effectRejected||ft,l.effectCancelled=l.effectCancelled||ft,l.actionDispatched=l.actionDispatched||ft,l.rootSagaStarted({effectId:I,saga:e,args:p}));var g;if(u){var m=nT.apply(void 0,u);g=function(k){return function(_,A,O){var F=function(ce){return k(ce,A,O)};return m(F)(_)}}}else g=rU;var v={channel:r,dispatch:uU(i),getState:s,sagaMonitor:l,onError:h,finalizeRunEffect:g};return OT(function(){var S=Yc(v,w,a,I,tg(e),!0,void 0);return l&&l.effectResolved(I,S),S})}function sF(t){var e=t===void 0?{}:t,n=e.context,r=n===void 0?{}:n,i=e.channel,s=i===void 0?LT():i,o=e.sagaMonitor,a=xA(e,["context","channel","sagaMonitor"]),l;function u(c){var h=c.getState,d=c.dispatch;return l=iF.bind(null,hs({},a,{context:r,channel:s,dispatch:d,getState:h,sagaMonitor:o})),function(p){return function(y){o&&o.actionDispatched&&o.actionDispatched(y);var w=p(y);return s.put(y),w}}}return u.run=function(){return l.apply(void 0,arguments)},u.setContext=function(c){eg(r,c)},u}var ag="persist:",jT="persist/FLUSH",lg="persist/REHYDRATE",VT="persist/PAUSE",BT="persist/PERSIST",zT="persist/PURGE",HT="persist/REGISTER",oF=-1;function kl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kl=function(n){return typeof n}:kl=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},kl(t)}function s0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s0(n,!0).forEach(function(r){lF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s0(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uF(t,e,n,r){r.debug;var i=aF({},n);return t&&kl(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function cF(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:ag).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(k){return k}:typeof t.serialize=="function"?a=t.serialize:a=hF;var l=t.writeFailHandler||null,u={},c={},h=[],d=null,p=null,y=function(k){Object.keys(k).forEach(function(_){!g(_)||u[_]!==k[_]&&h.indexOf(_)===-1&&h.push(_)}),Object.keys(u).forEach(function(_){k[_]===void 0&&g(_)&&h.indexOf(_)===-1&&u[_]!==void 0&&h.push(_)}),d===null&&(d=setInterval(w,i)),u=k};function w(){if(h.length===0){d&&clearInterval(d),d=null;return}var S=h.shift(),k=r.reduce(function(_,A){return A.in(_,S,u)},u[S]);if(k!==void 0)try{c[S]=a(k)}catch(_){console.error("redux-persist/createPersistoid: error serializing state",_)}else delete c[S];h.length===0&&I()}function I(){Object.keys(c).forEach(function(S){u[S]===void 0&&delete c[S]}),p=o.setItem(s,a(c)).catch(m)}function g(S){return!(n&&n.indexOf(S)===-1&&S!=="_persist"||e&&e.indexOf(S)!==-1)}function m(S){l&&l(S)}var v=function(){for(;h.length!==0;)w();return p||Promise.resolve()};return{update:y,flush:v}}function hF(t){return JSON.stringify(t)}function dF(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:ag).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=fF,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,c){return c.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function fF(t){return JSON.parse(t)}function pF(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:ag).concat(t.key);return e.removeItem(n,mF)}function mF(t){}function o0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o0(n,!0).forEach(function(r){gF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o0(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yF(t,e){if(t==null)return{};var n=vF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function vF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var wF=5e3;function EF(t,e){var n=t.version!==void 0?t.version:oF;t.debug;var r=t.stateReconciler===void 0?uF:t.stateReconciler,i=t.getStoredState||dF,s=t.timeout!==void 0?t.timeout:wF,o=null,a=!1,l=!0,u=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(c,h){var d=c||{},p=d._persist,y=yF(d,["_persist"]),w=y;if(h.type===BT){var I=!1,g=function(O,F){I||(h.rehydrate(t.key,O,F),I=!0)};if(s&&setTimeout(function(){!I&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=cF(t)),p)return Dn({},e(w,h),{_persist:p});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),i(t).then(function(A){var O=t.migrate||function(F,j){return Promise.resolve(F)};O(A,n).then(function(F){g(F)},function(F){g(void 0,F)})},function(A){g(void 0,A)}),Dn({},e(w,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===zT)return a=!0,h.result(pF(t)),Dn({},e(w,h),{_persist:p});if(h.type===jT)return h.result(o&&o.flush()),Dn({},e(w,h),{_persist:p});if(h.type===VT)l=!0;else if(h.type===lg){if(a)return Dn({},w,{_persist:Dn({},p,{rehydrated:!0})});if(h.key===t.key){var m=e(w,h),v=h.payload,S=r!==!1&&v!==void 0?r(v,c,m,t):m,k=Dn({},S,{_persist:Dn({},p,{rehydrated:!0})});return u(k)}}}if(!p)return e(c,h);var _=e(w,h);return _===w?c:u(Dn({},_,{_persist:p}))}}function a0(t){return TF(t)||_F(t)||SF()}function SF(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _F(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function TF(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function l0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function If(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l0(n,!0).forEach(function(r){IF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l0(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qT={registry:[],bootstrapped:!1},CF=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qT,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case HT:return If({},e,{registry:[].concat(a0(e.registry),[n.key])});case lg:var r=e.registry.indexOf(n.key),i=a0(e.registry);return i.splice(r,1),If({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function kF(t,e,n){var r=n||!1,i=Qm(CF,qT,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:HT,key:u})},o=function(u,c,h){var d={type:lg,payload:c,err:h,key:u};t.dispatch(d),i.dispatch(d),r&&a.getState().bootstrapped&&(r(),r=!1)},a=If({},i,{purge:function(){var u=[];return t.dispatch({type:zT,result:function(h){u.push(h)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:jT,result:function(h){u.push(h)}}),Promise.all(u)},pause:function(){t.dispatch({type:VT})},persist:function(){t.dispatch({type:BT,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var ug={},cg={};cg.__esModule=!0;cg.default=RF;function Al(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Al=function(n){return typeof n}:Al=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Al(t)}function Qh(){}var AF={getItem:Qh,setItem:Qh,removeItem:Qh};function NF(t){if((typeof self=="undefined"?"undefined":Al(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function RF(t){var e="".concat(t,"Storage");return NF(e)?self[e]:AF}ug.__esModule=!0;ug.default=DF;var xF=OF(cg);function OF(t){return t&&t.__esModule?t:{default:t}}function DF(t){var e=(0,xF.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var WT=void 0,PF=bF(ug);function bF(t){return t&&t.__esModule?t:{default:t}}var LF=(0,PF.default)("local");WT=LF;const u0={currentUser:null,signInError:!1,signUpError:!1},MF=(t=u0,e)=>{switch(e.type){case Ue.SIGN_IN_SUCCESS:return Z(H({},t),{currentUser:e.payload});case Ue.SIGN_OUT_USER_SUCCESS:return H(H({},t),u0);case Ue.SIGN_IN_ERROR:return Z(H({},t),{signInError:e.payload});case Ue.SIGN_UP_ERROR:return Z(H({},t),{signUpError:e.payload});default:return t}},$F={trabajadores:[],trabajador:{}},UF=(t=$F,e)=>{switch(e.type){case Xt.SET_TRABAJADORES:return Z(H({},t),{trabajadores:e.payload});case Xt.SET_TRABAJADOR:return Z(H({},t),{trabajador:e.payload});default:return t}},FF=({prevCartItems:t,nextCartItem:e})=>t.find(n=>n.documentID===e.documentID),jF=({prevCartItems:t,nextCartItem:e})=>FF({prevCartItems:t,nextCartItem:e})?t.map(i=>i.documentID===e.documentID?Z(H({},i),{quantity:i.quantity+e.quantity}):i):e.quantity>1?[...t,H({},e)]:[...t,Z(H({},e),{quantity:1})],VF=({prevCartItems:t,cartItemToRemove:e})=>t.filter(n=>n.documentID!==e.documentID),BF=({prevCartItems:t,cartItemToReduce:e})=>{const n=t.find(r=>r.documentID===e.documentID);return n.quantity===1?t.filter(r=>r.documentID!==n.documentID):t.map(r=>r.documentID===n.documentID?Z(H({},r),{quantity:r.quantity-1}):r)},c0={cartItems:[]},zF=(t=c0,e)=>{switch(e.type){case cr.ADD_TO_CART:return Z(H({},t),{cartItems:jF({prevCartItems:t.cartItems,nextCartItem:e.payload})});case cr.REMOVE_CART_ITEM:return Z(H({},t),{cartItems:VF({prevCartItems:t.cartItems,cartItemToRemove:e.payload})});case cr.REDUCE_CART_ITEM:return Z(H({},t),{cartItems:BF({prevCartItems:t.cartItems,cartItemToReduce:e.payload})});case cr.CLEAR_CART:return H(H({},t),c0);default:return t}},HF={orderHistory:[],orderDetails:{}},qF=(t=HF,e)=>{switch(e.type){case Nn.SET_USER_ORDER_HISTORY:return Z(H({},t),{orderHistory:e.payload});case Nn.SET_ORDER_DETAILS:return Z(H({},t),{orderDetails:e.payload});default:return t}},WF=K$({user:MF,trabajadoresData:UF,cartData:zF,orderData:qF}),KF={key:"root",storage:WT,whitelist:["cartData","user"]};var GF=EF(KF,WF),h0=function(e){return{done:!0,value:e}},Xh={};function YF(t){return Zm(t)?"channel":fT(t)?String(t):Rt(t)?t.name:String(t)}function QF(t,e,n){var r,i,s,o=e;function a(l,u){if(o===Xh)return h0(l);if(u&&!i)throw o=Xh,u;r&&r(l);var c=u?t[i](u):t[o]();return o=c.nextState,s=c.effect,r=c.stateUpdater,i=c.errorState,o===Xh?h0(l):s}return Tf(a,function(l){return a(null,l)},n)}function XF(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s={done:!1,value:IU(t)},o=function(p){return{done:!1,value:NT.apply(void 0,[e].concat(r,[p]))}},a=function(p){return{done:!1,value:CU(p)}},l,u,c=function(p){return l=p},h=function(p){return u=p};return QF({q1:function(){return{nextState:"q2",effect:s,stateUpdater:h}},q2:function(){return l?{nextState:"q3",effect:a(l)}:{nextState:"q1",effect:o(u),stateUpdater:c}},q3:function(){return{nextState:"q1",effect:o(u),stateUpdater:c}}},"q1","takeLatest("+YF(t)+", "+e.name+")")}function Zt(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return NT.apply(void 0,[XF,t,e].concat(r))}const JF=t=>{const e=Ls(Uc(Fr,"pedidos"));return new Promise((n,r)=>{Mm(e,t).then(()=>{n()}).catch(i=>{r(i)})})},ZF=t=>{const e=[];e.push(kb("orderCreatedDate","desc")),e.push(wl("orderUserID","==",t));const n=v_(Uc(Fr,"pedidos"),...e);return new Promise((r,i)=>{S_(n).then(s=>{const o=[...s.docs.map(a=>Z(H({},a.data()),{documentID:a.id}))];r({data:o})}).catch(s=>{i(s)})})},e2=t=>new Promise((e,n)=>{Vc(Ls(Fr,"pedidos",t)).then(r=>{r.exists&&e(Z(H({},r.data()),{documentID:t}))}).catch(r=>{n(r)})});function*t2({payload:t}){try{const e=new Date;yield JF(Z(H({},t),{orderUserID:yt.currentUser.uid,orderCreatedDate:e})),yield mn(v$())}catch(e){console.log(e)}}function*n2({payload:t}){try{const e=yield ZF(t);yield mn(XM(e))}catch(e){console.log(e)}}function*r2({payload:t}){try{const e=yield e2(t);yield mn(ZM(e))}catch(e){console.log(e)}}function*i2(){yield Zt(Nn.GET_ORDER_DETAILS_START,r2)}function*s2(){yield Zt(Nn.GET_USER_ORDER_HISTORY_START,n2)}function*o2(){yield Zt(Nn.SAVE_ORDER_HYSTORY_START,t2)}function*a2(){yield Kc([st(o2),st(s2),st(i2)])}const l2=async t=>{const e=Ls(Uc(Fr,"trabajadores"));return new Promise((n,r)=>{Mm(e,t).then(()=>{n()}).catch(i=>{r(i)})})},u2=({payload:{filterType:t,filterName:e,startAfterDoc:n,persistTrabajadores:r=[],pageSize:i}})=>{i||(i=6);const s=[];s.push(Nb(i)),e&&(s.push(wl("nombre",">=",e)),s.push(wl("nombre","<=",e+"\uF8FF"))),t&&s.push(wl("categoria","==",t)),n&&s.push(xb(n));const o=v_(Uc(Fr,"trabajadores"),...s);return new Promise((a,l)=>{S_(o).then(u=>{const c=u.size,h=[...r,...u.docs.map(d=>Z(H({},d.data()),{documentID:d.id}))];a({data:h,queryDoc:u.docs[c-1],isLastPage:c<i})}).catch(u=>{l(u)})})},c2=t=>new Promise((e,n)=>{bb(Ls(Fr,"trabajadores",t)).then(()=>{e()}).catch(r=>{n(r)})}),h2=t=>new Promise((e,n)=>{Vc(Ls(Fr,"trabajadores",t)).then(r=>{r.exists&&e(r.data())}).catch(r=>{n(r)})});function*d2({payload:t,nombre:e,imageURL:n,precio:r,descripcion:i}){try{const s=new Date;yield l2({categoria:t,nombre:e,imageURL:n,precio:r,descripcion:i,trabajadorAdminUID:yt.currentUser.uid,createdDate:s}),yield mn(ii())}catch{}}function*f2({payload:t}){try{const e=yield u2({payload:t});yield mn(l$(e))}catch{}}function*p2({payload:t}){try{yield c2(t),yield mn(ii())}catch{}}function*m2({payload:t}){try{const e=yield h2(t);yield mn(eT(e))}catch{}}function*g2(){yield Zt(Xt.FETCH_TRABAJADOR_START,m2)}function*y2(){yield Zt(Xt.DELETE_TRABAJADOR_START,p2)}function*v2(){yield Zt(Xt.FETCH_TRABAJADORES_START,f2)}function*w2(){yield Zt(Xt.ADD_NEW_TRABAJADOR_START,d2)}function*E2(){yield Kc([st(w2),st(v2),st(y2),st(g2)])}function*Qc(t){try{const e=yield st(LM,t),n=yield Vc(e);yield mn(hN(H({id:n.id},n.data())))}catch{}}function*S2({payload:t,password:e}){try{const{user:n}=yield TL(yt,t,e);yield Qc(n)}catch(n){const r=n.code;let i="Ha ocurrido un error al realizar la operaci\xF3n";switch(r){case"auth/wrong-password":i="El email o la contrase\xF1a no coinciden";break;case"auth/user-not-found":i="El email introducido no esta registrado";break}yield mn(pN(i))}}function*_2(){try{const t=yield MM();if(!t)return;yield Qc(t)}catch{}}function*T2(){try{yield yt.signOut(),yield mn(fN())}catch{}}function*I2(){try{const t=new Ln,{user:e}=yield KL(yt,t);yield Qc(e)}catch{}}function*C2({payload:t,email:e,password:n}){try{const{user:r}=yield _L(yt,e,n);r.displayName=t,yield Qc(r)}catch(r){const i=r.code;let s="Ha ocurrido un error al realizar la operaci\xF3n";switch(i){case"auth/email-already-in-use":s="El email ya esta registrado";break}yield mn(yN(s))}}function*k2(){yield Zt(Ue.SIGN_UP_START,C2)}function*A2(){yield Zt(Ue.GOOGLE_SIGN_IN_START,I2)}function*N2(){yield Zt(Ue.SIGN_OUT_USER_START,T2)}function*R2(){yield Zt(Ue.CHECK_USER_SESSION,_2)}function*x2(){yield Zt(Ue.EMAIL_SIGN_IN_START,S2)}function*O2(){yield Kc([st(x2),st(R2),st(N2),st(A2),st(k2)])}function*D2(){yield Kc([st(O2),st(E2),st(a2)])}const KT=sF(),P2=[Q$,KT,Y$],GT=q$(GF,G$(...P2));KT.run(D2);const b2=kF(GT);function Nl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nl=function(n){return typeof n}:Nl=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nl(t)}function L2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M2(t,e,n){return e&&d0(t.prototype,e),n&&d0(t,n),t}function $2(t,e){return e&&(Nl(e)==="object"||typeof e=="function")?e:Rl(t)}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(t)}function Rl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kf(t,e)}function kf(t,e){return kf=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},kf(t,e)}function xl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var YT=function(t){U2(e,t);function e(){var n,r;L2(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=$2(this,(n=Cf(e)).call.apply(n,[this].concat(s))),xl(Rl(r),"state",{bootstrapped:!1}),xl(Rl(r),"_unsubscribe",void 0),xl(Rl(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return M2(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(b.exports.PureComponent);xl(YT,"defaultProps",{children:null,loading:null});Ak.render(f(QA,{store:GT,children:f(rA,{children:f(YT,{persistor:b2,children:f(B$,{})})})}),document.getElementById("root"));
